(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _g={exports:{}},mh={},bg={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function D4(){if(yw)return Ht;yw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function k(G,N,q){this.props=G,this.context=N,this.refs=S,this.updater=q||p}k.prototype.isReactComponent={},k.prototype.setState=function(G,N){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,N,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function _(){}_.prototype=k.prototype;function T(G,N,q){this.props=G,this.context=N,this.refs=S,this.updater=q||p}var j=T.prototype=new _;j.constructor=T,E(j,k.prototype),j.isPureReactComponent=!0;var H=Array.isArray,X=Object.prototype.hasOwnProperty,we={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function oe(G,N,q){var W,ne={},K=null,R=null;if(N!=null)for(W in N.ref!==void 0&&(R=N.ref),N.key!==void 0&&(K=""+N.key),N)X.call(N,W)&&!ce.hasOwnProperty(W)&&(ne[W]=N[W]);var L=arguments.length-2;if(L===1)ne.children=q;else if(1<L){for(var J=Array(L),le=0;le<L;le++)J[le]=arguments[le+2];ne.children=J}if(G&&G.defaultProps)for(W in L=G.defaultProps,L)ne[W]===void 0&&(ne[W]=L[W]);return{$$typeof:n,type:G,key:K,ref:R,props:ne,_owner:we.current}}function z(G,N){return{$$typeof:n,type:G.type,key:N,ref:G.ref,props:G.props,_owner:G._owner}}function Ee(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function Q(G){var N={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(q){return N[q]})}var B=/\/+/g;function ee(G,N){return typeof G=="object"&&G!==null&&G.key!=null?Q(""+G.key):N.toString(36)}function F(G,N,q,W,ne){var K=typeof G;(K==="undefined"||K==="boolean")&&(G=null);var R=!1;if(G===null)R=!0;else switch(K){case"string":case"number":R=!0;break;case"object":switch(G.$$typeof){case n:case e:R=!0}}if(R)return R=G,ne=ne(R),G=W===""?"."+ee(R,0):W,H(ne)?(q="",G!=null&&(q=G.replace(B,"$&/")+"/"),F(ne,N,q,"",function(le){return le})):ne!=null&&(Ee(ne)&&(ne=z(ne,q+(!ne.key||R&&R.key===ne.key?"":(""+ne.key).replace(B,"$&/")+"/")+G)),N.push(ne)),1;if(R=0,W=W===""?".":W+":",H(G))for(var L=0;L<G.length;L++){K=G[L];var J=W+ee(K,L);R+=F(K,N,q,J,ne)}else if(J=y(G),typeof J=="function")for(G=J.call(G),L=0;!(K=G.next()).done;)K=K.value,J=W+ee(K,L++),R+=F(K,N,q,J,ne);else if(K==="object")throw N=String(G),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return R}function me(G,N,q){if(G==null)return G;var W=[],ne=0;return F(G,W,"","",function(K){return N.call(q,K,ne++)}),W}function Ne(G){if(G._status===-1){var N=G._result;N=N(),N.then(function(q){(G._status===0||G._status===-1)&&(G._status=1,G._result=q)},function(q){(G._status===0||G._status===-1)&&(G._status=2,G._result=q)}),G._status===-1&&(G._status=0,G._result=N)}if(G._status===1)return G._result.default;throw G._result}var pe={current:null},ye={transition:null},de={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ye,ReactCurrentOwner:we};function xe(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:me,forEach:function(G,N,q){me(G,function(){N.apply(this,arguments)},q)},count:function(G){var N=0;return me(G,function(){N++}),N},toArray:function(G){return me(G,function(N){return N})||[]},only:function(G){if(!Ee(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ht.Component=k,Ht.Fragment=t,Ht.Profiler=i,Ht.PureComponent=T,Ht.StrictMode=r,Ht.Suspense=c,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ht.act=xe,Ht.cloneElement=function(G,N,q){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var W=E({},G.props),ne=G.key,K=G.ref,R=G._owner;if(N!=null){if(N.ref!==void 0&&(K=N.ref,R=we.current),N.key!==void 0&&(ne=""+N.key),G.type&&G.type.defaultProps)var L=G.type.defaultProps;for(J in N)X.call(N,J)&&!ce.hasOwnProperty(J)&&(W[J]=N[J]===void 0&&L!==void 0?L[J]:N[J])}var J=arguments.length-2;if(J===1)W.children=q;else if(1<J){L=Array(J);for(var le=0;le<J;le++)L[le]=arguments[le+2];W.children=L}return{$$typeof:n,type:G.type,key:ne,ref:K,props:W,_owner:R}},Ht.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},Ht.createElement=oe,Ht.createFactory=function(G){var N=oe.bind(null,G);return N.type=G,N},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(G){return{$$typeof:u,render:G}},Ht.isValidElement=Ee,Ht.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:Ne}},Ht.memo=function(G,N){return{$$typeof:h,type:G,compare:N===void 0?null:N}},Ht.startTransition=function(G){var N=ye.transition;ye.transition={};try{G()}finally{ye.transition=N}},Ht.unstable_act=xe,Ht.useCallback=function(G,N){return pe.current.useCallback(G,N)},Ht.useContext=function(G){return pe.current.useContext(G)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(G){return pe.current.useDeferredValue(G)},Ht.useEffect=function(G,N){return pe.current.useEffect(G,N)},Ht.useId=function(){return pe.current.useId()},Ht.useImperativeHandle=function(G,N,q){return pe.current.useImperativeHandle(G,N,q)},Ht.useInsertionEffect=function(G,N){return pe.current.useInsertionEffect(G,N)},Ht.useLayoutEffect=function(G,N){return pe.current.useLayoutEffect(G,N)},Ht.useMemo=function(G,N){return pe.current.useMemo(G,N)},Ht.useReducer=function(G,N,q){return pe.current.useReducer(G,N,q)},Ht.useRef=function(G){return pe.current.useRef(G)},Ht.useState=function(G){return pe.current.useState(G)},Ht.useSyncExternalStore=function(G,N,q){return pe.current.useSyncExternalStore(G,N,q)},Ht.useTransition=function(){return pe.current.useTransition()},Ht.version="18.3.1",Ht}var ww;function M0(){return ww||(ww=1,bg.exports=D4()),bg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function M4(){if(_w)return mh;_w=1;var n=M0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,c,h){var m,g={},y=null,p=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(p=c.ref);for(m in c)r.call(c,m)&&!o.hasOwnProperty(m)&&(g[m]=c[m]);if(u&&u.defaultProps)for(m in c=u.defaultProps,c)g[m]===void 0&&(g[m]=c[m]);return{$$typeof:e,type:u,key:y,ref:p,props:g,_owner:i.current}}return mh.Fragment=t,mh.jsx=a,mh.jsxs=a,mh}var bw;function j4(){return bw||(bw=1,_g.exports=M4()),_g.exports}var be=j4(),De=M0();const ic=F4(De);var Kd={},Sg={exports:{}},Hi={},xg={exports:{}},Eg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function B4(){return Sw||(Sw=1,function(n){function e(ye,de){var xe=ye.length;ye.push(de);e:for(;0<xe;){var G=xe-1>>>1,N=ye[G];if(0<i(N,de))ye[G]=de,ye[xe]=N,xe=G;else break e}}function t(ye){return ye.length===0?null:ye[0]}function r(ye){if(ye.length===0)return null;var de=ye[0],xe=ye.pop();if(xe!==de){ye[0]=xe;e:for(var G=0,N=ye.length,q=N>>>1;G<q;){var W=2*(G+1)-1,ne=ye[W],K=W+1,R=ye[K];if(0>i(ne,xe))K<N&&0>i(R,ne)?(ye[G]=R,ye[K]=xe,G=K):(ye[G]=ne,ye[W]=xe,G=W);else if(K<N&&0>i(R,xe))ye[G]=R,ye[K]=xe,G=K;else break e}}return de}function i(ye,de){var xe=ye.sortIndex-de.sortIndex;return xe!==0?xe:ye.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],h=[],m=1,g=null,y=3,p=!1,E=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ye){for(var de=t(h);de!==null;){if(de.callback===null)r(h);else if(de.startTime<=ye)r(h),de.sortIndex=de.expirationTime,e(c,de);else break;de=t(h)}}function H(ye){if(S=!1,j(ye),!E)if(t(c)!==null)E=!0,Ne(X);else{var de=t(h);de!==null&&pe(H,de.startTime-ye)}}function X(ye,de){E=!1,S&&(S=!1,_(oe),oe=-1),p=!0;var xe=y;try{for(j(de),g=t(c);g!==null&&(!(g.expirationTime>de)||ye&&!Q());){var G=g.callback;if(typeof G=="function"){g.callback=null,y=g.priorityLevel;var N=G(g.expirationTime<=de);de=n.unstable_now(),typeof N=="function"?g.callback=N:g===t(c)&&r(c),j(de)}else r(c);g=t(c)}if(g!==null)var q=!0;else{var W=t(h);W!==null&&pe(H,W.startTime-de),q=!1}return q}finally{g=null,y=xe,p=!1}}var we=!1,ce=null,oe=-1,z=5,Ee=-1;function Q(){return!(n.unstable_now()-Ee<z)}function B(){if(ce!==null){var ye=n.unstable_now();Ee=ye;var de=!0;try{de=ce(!0,ye)}finally{de?ee():(we=!1,ce=null)}}else we=!1}var ee;if(typeof T=="function")ee=function(){T(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,me=F.port2;F.port1.onmessage=B,ee=function(){me.postMessage(null)}}else ee=function(){k(B,0)};function Ne(ye){ce=ye,we||(we=!0,ee())}function pe(ye,de){oe=k(function(){ye(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ye){ye.callback=null},n.unstable_continueExecution=function(){E||p||(E=!0,Ne(X))},n.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ye?Math.floor(1e3/ye):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ye){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var xe=y;y=de;try{return ye()}finally{y=xe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ye,de){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var xe=y;y=ye;try{return de()}finally{y=xe}},n.unstable_scheduleCallback=function(ye,de,xe){var G=n.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?G+xe:G):xe=G,ye){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=xe+N,ye={id:m++,callback:de,priorityLevel:ye,startTime:xe,expirationTime:N,sortIndex:-1},xe>G?(ye.sortIndex=xe,e(h,ye),t(c)===null&&ye===t(h)&&(S?(_(oe),oe=-1):S=!0,pe(H,xe-G))):(ye.sortIndex=N,e(c,ye),E||p||(E=!0,Ne(X))),ye},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(ye){var de=y;return function(){var xe=y;y=de;try{return ye.apply(this,arguments)}finally{y=xe}}}}(Eg)),Eg}var xw;function U4(){return xw||(xw=1,xg.exports=B4()),xg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function z4(){if(Ew)return Hi;Ew=1;var n=M0(),e=U4();function t(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(s){return c.call(g,s)?!0:c.call(m,s)?!1:h.test(s)?g[s]=!0:(m[s]=!0,!1)}function p(s,l,f,v){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,l,f,v){if(l===null||typeof l>"u"||p(s,l,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(s,l,f,v,C,M,te){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=C,this.mustUseProperty=f,this.propertyName=s,this.type=l,this.sanitizeURL=M,this.removeEmptyString=te}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];k[l]=new S(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(_,T);k[l]=new S(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(_,T);k[l]=new S(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(_,T);k[l]=new S(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,l,f,v){var C=k.hasOwnProperty(l)?k[l]:null;(C!==null?C.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,f,C,v)&&(f=null),v||C===null?y(l)&&(f===null?s.removeAttribute(l):s.setAttribute(l,""+f)):C.mustUseProperty?s[C.propertyName]=f===null?C.type===3?!1:"":f:(l=C.attributeName,v=C.attributeNamespace,f===null?s.removeAttribute(l):(C=C.type,f=C===3||C===4&&f===!0?"":""+f,v?s.setAttributeNS(v,l,f):s.setAttribute(l,f))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),we=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),Q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ye=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=ye&&s[ye]||s["@@iterator"],typeof s=="function"?s:null)}var xe=Object.assign,G;function N(s){if(G===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+s}var q=!1;function W(s,l){if(!s||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(We){var v=We}Reflect.construct(s,[],l)}else{try{l.call()}catch(We){v=We}s.call(l.prototype)}else{try{throw Error()}catch(We){v=We}s()}}catch(We){if(We&&v&&typeof We.stack=="string"){for(var C=We.stack.split(`
`),M=v.stack.split(`
`),te=C.length-1,Ae=M.length-1;1<=te&&0<=Ae&&C[te]!==M[Ae];)Ae--;for(;1<=te&&0<=Ae;te--,Ae--)if(C[te]!==M[Ae]){if(te!==1||Ae!==1)do if(te--,Ae--,0>Ae||C[te]!==M[Ae]){var ke=`
`+C[te].replace(" at new "," at ");return s.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",s.displayName)),ke}while(1<=te&&0<=Ae);break}}}finally{q=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?N(s):""}function ne(s){switch(s.tag){case 5:return N(s.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return s=W(s.type,!1),s;case 11:return s=W(s.type.render,!1),s;case 1:return s=W(s.type,!0),s;default:return""}}function K(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ce:return"Fragment";case we:return"Portal";case z:return"Profiler";case oe:return"StrictMode";case ee:return"Suspense";case F:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Q:return(s.displayName||"Context")+".Consumer";case Ee:return(s._context.displayName||"Context")+".Provider";case B:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return l=s.displayName||null,l!==null?l:K(s.type)||"Memo";case Ne:l=s._payload,s=s._init;try{return K(s(l))}catch{}}return null}function R(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(l);case 8:return l===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function L(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function J(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function le(s){var l=J(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var C=f.get,M=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return C.call(this)},set:function(te){v=""+te,M.call(this,te)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(te){v=""+te},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function V(s){s._valueTracker||(s._valueTracker=le(s))}function ie(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),v="";return s&&(v=J(s)?s.checked?"true":"false":s.value),s=v,s!==f?(l.setValue(s),!0):!1}function _e(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function D(s,l){var f=l.checked;return xe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function se(s,l){var f=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;f=L(l.value!=null?l.value:f),s._wrapperState={initialChecked:v,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function I(s,l){l=l.checked,l!=null&&j(s,"checked",l,!1)}function b(s,l){I(s,l);var f=L(l.value),v=l.type;if(f!=null)v==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?O(s,l.type,f):l.hasOwnProperty("defaultValue")&&O(s,l.type,L(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function x(s,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,f||l===s.value||(s.value=l),s.defaultValue=l}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function O(s,l,f){(l!=="number"||_e(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var ae=Array.isArray;function ve(s,l,f,v){if(s=s.options,l){l={};for(var C=0;C<f.length;C++)l["$"+f[C]]=!0;for(f=0;f<s.length;f++)C=l.hasOwnProperty("$"+s[f].value),s[f].selected!==C&&(s[f].selected=C),C&&v&&(s[f].defaultSelected=!0)}else{for(f=""+L(f),l=null,C=0;C<s.length;C++){if(s[C].value===f){s[C].selected=!0,v&&(s[C].defaultSelected=!0);return}l!==null||s[C].disabled||(l=s[C])}l!==null&&(l.selected=!0)}}function he(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return xe({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Oe(s,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(t(92));if(ae(f)){if(1<f.length)throw Error(t(93));f=f[0]}l=f}l==null&&(l=""),f=l}s._wrapperState={initialValue:L(f)}}function qe(s,l){var f=L(l.value),v=L(l.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),l.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),v!=null&&(s.defaultValue=""+v)}function Ue(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Xe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Xe(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ct,mt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,v,C){MSApp.execUnsafeLocalFunction(function(){return s(l,f,v,C)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ct.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function At(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bn=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(s){Bn.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),ot[l]=ot[s]})});function bt(s,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ot.hasOwnProperty(s)&&ot[s]?(""+l).trim():l+"px"}function yr(s,l){s=s.style;for(var f in l)if(l.hasOwnProperty(f)){var v=f.indexOf("--")===0,C=bt(f,l[f],v);f==="float"&&(f="cssFloat"),v?s.setProperty(f,C):s[f]=C}}var Zt=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wt(s,l){if(l){if(Zt[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function jr(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=null;function Qi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _n=null,nr=null,Gn=null;function dn(s){if(s=Tl(s)){if(typeof _n!="function")throw Error(t(280));var l=s.stateNode;l&&(l=Du(l),_n(s.stateNode,s.type,l))}}function Ot(s){nr?Gn?Gn.push(s):Gn=[s]:nr=s}function en(){if(nr){var s=nr,l=Gn;if(Gn=nr=null,dn(s),l)for(s=0;s<l.length;s++)dn(l[s])}}function _o(s,l){return s(l)}function mr(){}var Ti=!1;function Zi(s,l,f){if(Ti)return s(l,f);Ti=!0;try{return _o(s,l,f)}finally{Ti=!1,(nr!==null||Gn!==null)&&(mr(),en())}}function xt(s,l){var f=s.stateNode;if(f===null)return null;var v=Du(f);if(v===null)return null;f=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,l,typeof f));return f}var gi=!1;if(u)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{gi=!1}function Xr(s,l,f,v,C,M,te,Ae,ke){var We=Array.prototype.slice.call(arguments,3);try{l.apply(f,We)}catch(nt){this.onError(nt)}}var kn=!1,Tn=null,Ar=!1,bo=null,Ms={onError:function(s){kn=!0,Tn=s}};function es(s,l,f,v,C,M,te,Ae,ke){kn=!1,Tn=null,Xr.apply(Ms,arguments)}function ts(s,l,f,v,C,M,te,Ae,ke){if(es.apply(this,arguments),kn){if(kn){var We=Tn;kn=!1,Tn=null}else throw Error(t(198));Ar||(Ar=!0,bo=We)}}function wr(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function ns(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function vi(s){if(wr(s)!==s)throw Error(t(188))}function ms(s){var l=s.alternate;if(!l){if(l=wr(s),l===null)throw Error(t(188));return l!==s?null:s}for(var f=s,v=l;;){var C=f.return;if(C===null)break;var M=C.alternate;if(M===null){if(v=C.return,v!==null){f=v;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===f)return vi(C),s;if(M===v)return vi(C),l;M=M.sibling}throw Error(t(188))}if(f.return!==v.return)f=C,v=M;else{for(var te=!1,Ae=C.child;Ae;){if(Ae===f){te=!0,f=C,v=M;break}if(Ae===v){te=!0,v=C,f=M;break}Ae=Ae.sibling}if(!te){for(Ae=M.child;Ae;){if(Ae===f){te=!0,f=M,v=C;break}if(Ae===v){te=!0,v=M,f=C;break}Ae=Ae.sibling}if(!te)throw Error(t(189))}}if(f.alternate!==v)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:l}function So(s){return s=ms(s),s!==null?sa(s):null}function sa(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=sa(s);if(l!==null)return l;s=s.sibling}return null}var oa=e.unstable_scheduleCallback,aa=e.unstable_cancelCallback,el=e.unstable_shouldYield,Sc=e.unstable_requestPaint,Pn=e.unstable_now,Kf=e.unstable_getCurrentPriorityLevel,xo=e.unstable_ImmediatePriority,mu=e.unstable_UserBlockingPriority,tl=e.unstable_NormalPriority,gu=e.unstable_LowPriority,xc=e.unstable_IdlePriority,la=null,Pi=null;function nl(s){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(la,s,void 0,(s.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:Ac,Hn=Math.log,Ec=Math.LN2;function Ac(s){return s>>>=0,s===0?32:31-(Hn(s)/Ec|0)|0}var ua=64,Eo=4194304;function ca(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Jr(s,l){var f=s.pendingLanes;if(f===0)return 0;var v=0,C=s.suspendedLanes,M=s.pingedLanes,te=f&268435455;if(te!==0){var Ae=te&~C;Ae!==0?v=ca(Ae):(M&=te,M!==0&&(v=ca(M)))}else te=f&~C,te!==0?v=ca(te):M!==0&&(v=ca(M));if(v===0)return 0;if(l!==0&&l!==v&&(l&C)===0&&(C=v&-v,M=l&-l,C>=M||C===16&&(M&4194240)!==0))return l;if((v&4)!==0&&(v|=f&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)f=31-yi(l),C=1<<f,v|=s[f],l&=~C;return v}function rl(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(s,l){for(var f=s.suspendedLanes,v=s.pingedLanes,C=s.expirationTimes,M=s.pendingLanes;0<M;){var te=31-yi(M),Ae=1<<te,ke=C[te];ke===-1?((Ae&f)===0||(Ae&v)!==0)&&(C[te]=rl(Ae,l)):ke<=l&&(s.expiredLanes|=Ae),M&=~Ae}}function fa(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vu(){var s=ua;return ua<<=1,(ua&4194240)===0&&(ua=64),s}function yu(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function Ao(s,l,f){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-yi(l),s[l]=f}function Yf(s,l){var f=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<f;){var C=31-yi(f),M=1<<C;l[C]=0,v[C]=-1,s[C]=-1,f&=~M}}function il(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var v=31-yi(f),C=1<<v;C&l|s[v]&l&&(s[v]|=l),f&=~C}}var tn=0;function sl(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Nc,wu,Ic,gs,ha,No=!1,da=[],Ln=null,vs=null,rs=null,Ct=new Map,pa=new Map,ys=[],ws="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(s,l){switch(s){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Ct.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(l.pointerId)}}function Io(s,l,f,v,C,M){return s===null||s.nativeEvent!==M?(s={blockedOn:l,domEventName:f,eventSystemFlags:v,nativeEvent:M,targetContainers:[C]},l!==null&&(l=Tl(l),l!==null&&wu(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),s)}function ol(s,l,f,v,C){switch(l){case"focusin":return Ln=Io(Ln,s,l,f,v,C),!0;case"dragenter":return vs=Io(vs,s,l,f,v,C),!0;case"mouseover":return rs=Io(rs,s,l,f,v,C),!0;case"pointerover":var M=C.pointerId;return Ct.set(M,Io(Ct.get(M)||null,s,l,f,v,C)),!0;case"gotpointercapture":return M=C.pointerId,pa.set(M,Io(pa.get(M)||null,s,l,f,v,C)),!0}return!1}function al(s){var l=jo(s.target);if(l!==null){var f=wr(l);if(f!==null){if(l=f.tag,l===13){if(l=ns(f),l!==null){s.blockedOn=l,ha(s.priority,function(){Ic(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ll(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=cl(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var v=new f.constructor(f.type,f);Yt=v,f.target.dispatchEvent(v),Yt=null}else return l=Tl(f),l!==null&&wu(l),s.blockedOn=f,!1;l.shift()}return!0}function Cc(s,l,f){ll(s)&&f.delete(l)}function Xf(){No=!1,Ln!==null&&ll(Ln)&&(Ln=null),vs!==null&&ll(vs)&&(vs=null),rs!==null&&ll(rs)&&(rs=null),Ct.forEach(Cc),pa.forEach(Cc)}function js(s,l){s.blockedOn===l&&(s.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xf)))}function is(s){function l(C){return js(C,s)}if(0<da.length){js(da[0],s);for(var f=1;f<da.length;f++){var v=da[f];v.blockedOn===s&&(v.blockedOn=null)}}for(Ln!==null&&js(Ln,s),vs!==null&&js(vs,s),rs!==null&&js(rs,s),Ct.forEach(l),pa.forEach(l),f=0;f<ys.length;f++)v=ys[f],v.blockedOn===s&&(v.blockedOn=null);for(;0<ys.length&&(f=ys[0],f.blockedOn===null);)al(f),f.blockedOn===null&&ys.shift()}var wi=H.ReactCurrentBatchConfig,ul=!0;function ma(s,l,f,v){var C=tn,M=wi.transition;wi.transition=null;try{tn=1,Co(s,l,f,v)}finally{tn=C,wi.transition=M}}function bu(s,l,f,v){var C=tn,M=wi.transition;wi.transition=null;try{tn=4,Co(s,l,f,v)}finally{tn=C,wi.transition=M}}function Co(s,l,f,v){if(ul){var C=cl(s,l,f,v);if(C===null)Ru(s,l,v,ga,f),_u(s,v);else if(ol(C,s,l,f,v))v.stopPropagation();else if(_u(s,v),l&4&&-1<ws.indexOf(s)){for(;C!==null;){var M=Tl(C);if(M!==null&&Nc(M),M=cl(s,l,f,v),M===null&&Ru(s,l,v,ga,f),M===C)break;C=M}C!==null&&v.stopPropagation()}else Ru(s,l,v,null,f)}}var ga=null;function cl(s,l,f,v){if(ga=null,s=Qi(v),s=jo(s),s!==null)if(l=wr(s),l===null)s=null;else if(f=l.tag,f===13){if(s=ns(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return ga=s,null}function Su(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case xo:return 1;case mu:return 4;case tl:case gu:return 16;case xc:return 536870912;default:return 16}default:return 16}}var ss=null,Li=null,Ri=null;function kc(){if(Ri)return Ri;var s,l=Li,f=l.length,v,C="value"in ss?ss.value:ss.textContent,M=C.length;for(s=0;s<f&&l[s]===C[s];s++);var te=f-s;for(v=1;v<=te&&l[f-v]===C[M-v];v++);return Ri=C.slice(s,1<v?1-v:void 0)}function os(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Zr(){return!0}function fl(){return!1}function rr(s){function l(f,v,C,M,te){this._reactName=f,this._targetInst=C,this.type=v,this.nativeEvent=M,this.target=te,this.currentTarget=null;for(var Ae in s)s.hasOwnProperty(Ae)&&(f=s[Ae],this[Ae]=f?f(M):M[Ae]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Zr:fl,this.isPropagationStopped=fl,this}return xe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),l}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=rr(ko),va=xe({},ko,{view:0,detail:0}),xu=rr(va),ya,hl,_s,Po=xe({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ht,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_s&&(_s&&s.type==="mousemove"?(ya=s.screenX-_s.screenX,hl=s.screenY-_s.screenY):hl=ya=0,_s=s),ya)},movementY:function(s){return"movementY"in s?s.movementY:hl}}),dl=rr(Po),Tc=xe({},Po,{dataTransfer:0}),Jf=rr(Tc),pl=xe({},va,{relatedTarget:0}),Bs=rr(pl),Eu=xe({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=rr(Eu),Au=xe({},ko,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),A=rr(Au),Y=xe({},ko,{data:0}),Se=rr(Y),Ie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function et(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=$e[s])?!!l[s]:!1}function ht(){return et}var St=xe({},va,{key:function(s){if(s.key){var l=Ie[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=os(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fe[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ht,charCode:function(s){return s.type==="keypress"?os(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?os(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Bt=rr(St),Mt=xe({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gt=rr(Mt),Rn=xe({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ht}),Un=rr(Rn),Kn=xe({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nr=rr(Kn),gr=xe({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),as=rr(gr),_i=[9,13,27,32],Oi=u&&"CompositionEvent"in window,Ro=null;u&&"documentMode"in document&&(Ro=document.documentMode);var Nu=u&&"TextEvent"in window&&!Ro,ml=u&&(!Oi||Ro&&8<Ro&&11>=Ro),wa=" ",gl=!1;function vl(s,l){switch(s){case"keyup":return _i.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zn=!1;function yl(s,l){switch(s){case"compositionend":return _a(l);case"keypress":return l.which!==32?null:(gl=!0,wa);case"textInput":return s=l.data,s===wa&&gl?null:s;default:return null}}function wl(s,l){if(zn)return s==="compositionend"||!Oi&&vl(s,l)?(s=kc(),Ri=Li=ss=null,zn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ml&&l.locale!=="ko"?null:l.data;default:return null}}var _l={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bl(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!_l[s.type]:l==="textarea"}function Br(s,l,f,v){Ot(v),l=Oc(l,"onChange"),0<l.length&&(f=new To("onChange","change",null,f,v),s.push({event:f,listeners:l}))}var ba=null,Us=null;function Pc(s){Pu(s,0)}function Ur(s){var l=Ta(s);if(ie(l))return s}function Sl(s,l){if(s==="change")return l}var Iu=!1;if(u){var xl;if(u){var bs="oninput"in document;if(!bs){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),bs=typeof Oo.oninput=="function"}xl=bs}else xl=!1;Iu=xl&&(!document.documentMode||9<document.documentMode)}function zr(){ba&&(ba.detachEvent("onpropertychange",Ir),Us=ba=null)}function Ir(s){if(s.propertyName==="value"&&Ur(Us)){var l=[];Br(l,Us,s,Qi(s)),Zi(Pc,l)}}function Fo(s,l,f){s==="focusin"?(zr(),ba=l,Us=f,ba.attachEvent("onpropertychange",Ir)):s==="focusout"&&zr()}function zs(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ur(Us)}function qs(s,l){if(s==="click")return Ur(l)}function El(s,l){if(s==="input"||s==="change")return Ur(l)}function Ws(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var nn=typeof Object.is=="function"?Object.is:Ws;function Hs(s,l){if(nn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),v=Object.keys(l);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var C=f[v];if(!c.call(l,C)||!nn(s[C],l[C]))return!1}return!0}function Cr(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bi(s,l){var f=Cr(s);s=0;for(var v;f;){if(f.nodeType===3){if(v=s+f.textContent.length,s<=l&&v>=l)return{node:f,offset:l-s};s=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Cr(f)}}function Sa(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Sa(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Cu(){for(var s=window,l=_e();l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=_e(s.document)}return l}function xa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function Ea(s){var l=Cu(),f=s.focusedElem,v=s.selectionRange;if(l!==f&&f&&f.ownerDocument&&Sa(f.ownerDocument.documentElement,f)){if(v!==null&&xa(f)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(s,f.value.length);else if(s=(l=f.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var C=f.textContent.length,M=Math.min(v.start,C);v=v.end===void 0?M:Math.min(v.end,C),!s.extend&&M>v&&(C=v,v=M,M=C),C=bi(f,M);var te=bi(f,v);C&&te&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==te.node||s.focusOffset!==te.offset)&&(l=l.createRange(),l.setStart(C.node,C.offset),s.removeAllRanges(),M>v?(s.addRange(l),s.extend(te.node,te.offset)):(l.setEnd(te.node,te.offset),s.addRange(l)))}}for(l=[],s=f;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)s=l[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Aa=u&&"documentMode"in document&&11>=document.documentMode,Si=null,Vs=null,Ss=null,$s=!1;function Gs(s,l,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;$s||Si==null||Si!==_e(v)||(v=Si,"selectionStart"in v&&xa(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ss&&Hs(Ss,v)||(Ss=v,v=Oc(Vs,"onSelect"),0<v.length&&(l=new To("onSelect","select",null,l,f),s.push({event:l,listeners:v}),l.target=Si)))}function Do(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var _r={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},ei={},gn={};u&&(gn=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function ln(s){if(ei[s])return ei[s];if(!_r[s])return s;var l=_r[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in gn)return ei[s]=l[f];return s}var qn=ln("animationend"),Yn=ln("animationiteration"),xs=ln("animationstart"),Al=ln("transitionend"),Na=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(s,l){Na.set(s,l),o(l,[s])}for(var Nl=0;Nl<ku.length;Nl++){var qr=ku[Nl],Fi=qr.toLowerCase(),Lc=qr[0].toUpperCase()+qr.slice(1);Es(Fi,"on"+Lc)}Es(qn,"onAnimationEnd"),Es(Yn,"onAnimationIteration"),Es(xs,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Al,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function Tu(s,l,f){var v=s.type||"unknown-event";s.currentTarget=f,ts(v,l,void 0,s),s.currentTarget=null}function Pu(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var v=s[f],C=v.event;v=v.listeners;e:{var M=void 0;if(l)for(var te=v.length-1;0<=te;te--){var Ae=v[te],ke=Ae.instance,We=Ae.currentTarget;if(Ae=Ae.listener,ke!==M&&C.isPropagationStopped())break e;Tu(C,Ae,We),M=ke}else for(te=0;te<v.length;te++){if(Ae=v[te],ke=Ae.instance,We=Ae.currentTarget,Ae=Ae.listener,ke!==M&&C.isPropagationStopped())break e;Tu(C,Ae,We),M=ke}}}if(Ar)throw s=bo,Ar=!1,bo=null,s}function vn(s,l){var f=l[ni];f===void 0&&(f=l[ni]=new Set);var v=s+"__bubble";f.has(v)||(Lu(l,s,2,!1),f.add(v))}function Rc(s,l,f){var v=0;l&&(v|=4),Lu(f,s,v,l)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Ia(s){if(!s[Il]){s[Il]=!0,r.forEach(function(f){f!=="selectionchange"&&(dd.has(f)||Rc(f,!1,s),Rc(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Il]||(l[Il]=!0,Rc("selectionchange",!1,l))}}function Lu(s,l,f,v){switch(Su(l)){case 1:var C=ma;break;case 4:C=bu;break;default:C=Co}f=C.bind(null,l,f,s),C=void 0,!gi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),v?C!==void 0?s.addEventListener(l,f,{capture:!0,passive:C}):s.addEventListener(l,f,!0):C!==void 0?s.addEventListener(l,f,{passive:C}):s.addEventListener(l,f,!1)}function Ru(s,l,f,v,C){var M=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var te=v.tag;if(te===3||te===4){var Ae=v.stateNode.containerInfo;if(Ae===C||Ae.nodeType===8&&Ae.parentNode===C)break;if(te===4)for(te=v.return;te!==null;){var ke=te.tag;if((ke===3||ke===4)&&(ke=te.stateNode.containerInfo,ke===C||ke.nodeType===8&&ke.parentNode===C))return;te=te.return}for(;Ae!==null;){if(te=jo(Ae),te===null)return;if(ke=te.tag,ke===5||ke===6){v=M=te;continue e}Ae=Ae.parentNode}}v=v.return}Zi(function(){var We=M,nt=Qi(f),it=[];e:{var tt=Na.get(s);if(tt!==void 0){var pt=To,vt=s;switch(s){case"keypress":if(os(f)===0)break e;case"keydown":case"keyup":pt=Bt;break;case"focusin":vt="focus",pt=Bs;break;case"focusout":vt="blur",pt=Bs;break;case"beforeblur":case"afterblur":pt=Bs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Un;break;case qn:case Yn:case xs:pt=Lo;break;case Al:pt=Nr;break;case"scroll":pt=xu;break;case"wheel":pt=as;break;case"copy":case"cut":case"paste":pt=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Gt}var wt=(l&4)!==0,ar=!wt&&s==="scroll",Be=wt?tt!==null?tt+"Capture":null:tt;wt=[];for(var Le=We,ze;Le!==null;){ze=Le;var at=ze.stateNode;if(ze.tag===5&&at!==null&&(ze=at,Be!==null&&(at=xt(Le,Be),at!=null&&wt.push(Ou(Le,at,ze)))),ar)break;Le=Le.return}0<wt.length&&(tt=new pt(tt,vt,null,f,nt),it.push({event:tt,listeners:wt}))}}if((l&7)===0){e:{if(tt=s==="mouseover"||s==="pointerover",pt=s==="mouseout"||s==="pointerout",tt&&f!==Yt&&(vt=f.relatedTarget||f.fromElement)&&(jo(vt)||vt[kr]))break e;if((pt||tt)&&(tt=nt.window===nt?nt:(tt=nt.ownerDocument)?tt.defaultView||tt.parentWindow:window,pt?(vt=f.relatedTarget||f.toElement,pt=We,vt=vt?jo(vt):null,vt!==null&&(ar=wr(vt),vt!==ar||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(pt=null,vt=We),pt!==vt)){if(wt=dl,at="onMouseLeave",Be="onMouseEnter",Le="mouse",(s==="pointerout"||s==="pointerover")&&(wt=Gt,at="onPointerLeave",Be="onPointerEnter",Le="pointer"),ar=pt==null?tt:Ta(pt),ze=vt==null?tt:Ta(vt),tt=new wt(at,Le+"leave",pt,f,nt),tt.target=ar,tt.relatedTarget=ze,at=null,jo(nt)===We&&(wt=new wt(Be,Le+"enter",vt,f,nt),wt.target=ze,wt.relatedTarget=ar,at=wt),ar=at,pt&&vt)t:{for(wt=pt,Be=vt,Le=0,ze=wt;ze;ze=Ca(ze))Le++;for(ze=0,at=Be;at;at=Ca(at))ze++;for(;0<Le-ze;)wt=Ca(wt),Le--;for(;0<ze-Le;)Be=Ca(Be),ze--;for(;Le--;){if(wt===Be||Be!==null&&wt===Be.alternate)break t;wt=Ca(wt),Be=Ca(Be)}wt=null}else wt=null;pt!==null&&pd(it,tt,pt,wt,!1),vt!==null&&ar!==null&&pd(it,ar,vt,wt,!0)}}e:{if(tt=We?Ta(We):window,pt=tt.nodeName&&tt.nodeName.toLowerCase(),pt==="select"||pt==="input"&&tt.type==="file")var _t=Sl;else if(bl(tt))if(Iu)_t=El;else{_t=zs;var Nt=Fo}else(pt=tt.nodeName)&&pt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(_t=qs);if(_t&&(_t=_t(s,We))){Br(it,_t,f,nt);break e}Nt&&Nt(s,tt,We),s==="focusout"&&(Nt=tt._wrapperState)&&Nt.controlled&&tt.type==="number"&&O(tt,"number",tt.value)}switch(Nt=We?Ta(We):window,s){case"focusin":(bl(Nt)||Nt.contentEditable==="true")&&(Si=Nt,Vs=We,Ss=null);break;case"focusout":Ss=Vs=Si=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,Gs(it,f,nt);break;case"selectionchange":if(Aa)break;case"keydown":case"keyup":Gs(it,f,nt)}var It;if(Oi)e:{switch(s){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else zn?vl(s,f)&&(Ft="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Ft="onCompositionStart");Ft&&(ml&&f.locale!=="ko"&&(zn||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&zn&&(It=kc()):(ss=nt,Li="value"in ss?ss.value:ss.textContent,zn=!0)),Nt=Oc(We,Ft),0<Nt.length&&(Ft=new Se(Ft,s,null,f,nt),it.push({event:Ft,listeners:Nt}),It?Ft.data=It:(It=_a(f),It!==null&&(Ft.data=It)))),(It=Nu?yl(s,f):wl(s,f))&&(We=Oc(We,"onBeforeInput"),0<We.length&&(nt=new Se("onBeforeInput","beforeinput",null,f,nt),it.push({event:nt,listeners:We}),nt.data=It))}Pu(it,l)})}function Ou(s,l,f){return{instance:s,listener:l,currentTarget:f}}function Oc(s,l){for(var f=l+"Capture",v=[];s!==null;){var C=s,M=C.stateNode;C.tag===5&&M!==null&&(C=M,M=xt(s,f),M!=null&&v.unshift(Ou(s,M,C)),M=xt(s,l),M!=null&&v.push(Ou(s,M,C))),s=s.return}return v}function Ca(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pd(s,l,f,v,C){for(var M=l._reactName,te=[];f!==null&&f!==v;){var Ae=f,ke=Ae.alternate,We=Ae.stateNode;if(ke!==null&&ke===v)break;Ae.tag===5&&We!==null&&(Ae=We,C?(ke=xt(f,M),ke!=null&&te.unshift(Ou(f,ke,Ae))):C||(ke=xt(f,M),ke!=null&&te.push(Ou(f,ke,Ae)))),f=f.return}te.length!==0&&s.push({event:l,listeners:te})}var Om=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function md(s){return(typeof s=="string"?s:""+s).replace(Om,`
`).replace(Fm,"")}function Fc(s,l,f){if(l=md(l),md(s)!==l&&f)throw Error(t(425))}function Cl(){}var Fu=null,ka=null;function Qf(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,gd=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,Dm=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(s){return vd.resolve(null).then(s).catch(Mm)}:Zf;function Mm(s){setTimeout(function(){throw s})}function eh(s,l){var f=l,v=0;do{var C=f.nextSibling;if(s.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(v===0){s.removeChild(C),is(l);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=C}while(f);is(l)}function Wr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Di(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}var ti=Math.random().toString(36).slice(2),As="__reactFiber$"+ti,kl="__reactProps$"+ti,kr="__reactContainer$"+ti,ni="__reactEvents$"+ti,jm="__reactListeners$"+ti,Bm="__reactHandles$"+ti;function jo(s){var l=s[As];if(l)return l;for(var f=s.parentNode;f;){if(l=f[kr]||f[As]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=Di(s);s!==null;){if(f=s[As])return f;s=Di(s)}return l}s=f,f=s.parentNode}return null}function Tl(s){return s=s[As]||s[kr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Du(s){return s[kl]||null}var th=[],Ks=-1;function ls(s){return{current:s}}function un(s){0>Ks||(s.current=th[Ks],th[Ks]=null,Ks--)}function pn(s,l){Ks++,th[Ks]=s.current,s.current=l}var Bo={},br=ls(Bo),ri=ls(!1),Pa=Bo;function Pl(s,l){var f=s.type.contextTypes;if(!f)return Bo;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var C={},M;for(M in f)C[M]=l[M];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=C),C}function ii(s){return s=s.childContextTypes,s!=null}function Dc(){un(ri),un(br)}function yd(s,l,f){if(br.current!==Bo)throw Error(t(168));pn(br,l),pn(ri,f)}function nh(s,l,f){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var C in v)if(!(C in l))throw Error(t(108,R(s)||"Unknown",C));return xe({},f,v)}function La(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bo,Pa=br.current,pn(br,s),pn(ri,ri.current),!0}function wd(s,l,f){var v=s.stateNode;if(!v)throw Error(t(169));f?(s=nh(s,l,Pa),v.__reactInternalMemoizedMergedChildContext=s,un(ri),un(br),pn(br,s)):un(ri),pn(ri,f)}var Ys=null,Mu=!1,d=!1;function w(s){Ys===null?Ys=[s]:Ys.push(s)}function P(s){Mu=!0,w(s)}function U(){if(!d&&Ys!==null){d=!0;var s=0,l=tn;try{var f=Ys;for(tn=1;s<f.length;s++){var v=f[s];do v=v(!0);while(v!==null)}Ys=null,Mu=!1}catch(C){throw Ys!==null&&(Ys=Ys.slice(s+1)),oa(xo,U),C}finally{tn=l,d=!1}}return null}var $=[],Z=0,re=null,ue=0,fe=[],ge=0,Ce=null,Me=1,je="";function Re(s,l){$[Z++]=ue,$[Z++]=re,re=s,ue=l}function Je(s,l,f){fe[ge++]=Me,fe[ge++]=je,fe[ge++]=Ce,Ce=s;var v=Me;s=je;var C=32-yi(v)-1;v&=~(1<<C),f+=1;var M=32-yi(l)+C;if(30<M){var te=C-C%5;M=(v&(1<<te)-1).toString(32),v>>=te,C-=te,Me=1<<32-yi(l)+C|f<<C|v,je=M+s}else Me=1<<M|f<<C|v,je=s}function He(s){s.return!==null&&(Re(s,1),Je(s,1,0))}function Te(s){for(;s===re;)re=$[--Z],$[Z]=null,ue=$[--Z],$[Z]=null;for(;s===Ce;)Ce=fe[--ge],fe[ge]=null,je=fe[--ge],fe[ge]=null,Me=fe[--ge],fe[ge]=null}var Pe=null,Ke=null,Ge=!1,Ye=null;function dt(s,l){var f=Ps(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=s,l=s.deletions,l===null?(s.deletions=[f],s.flags|=16):l.push(f)}function ut(s,l){switch(s.tag){case 5:var f=s.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Pe=s,Ke=Wr(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Pe=s,Ke=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Ce!==null?{id:Me,overflow:je}:null,s.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Ps(18,null,null,0),f.stateNode=l,f.return=s,s.child=f,Pe=s,Ke=null,!0):!1;default:return!1}}function Et(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ft(s){if(Ge){var l=Ke;if(l){var f=l;if(!ut(s,l)){if(Et(s))throw Error(t(418));l=Wr(f.nextSibling);var v=Pe;l&&ut(s,l)?dt(v,f):(s.flags=s.flags&-4097|2,Ge=!1,Pe=s)}}else{if(Et(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ge=!1,Pe=s}}}function Jt(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pe=s}function Qt(s){if(s!==Pe)return!1;if(!Ge)return Jt(s),Ge=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Qf(s.type,s.memoizedProps)),l&&(l=Ke)){if(Et(s))throw Xt(),Error(t(418));for(;l;)dt(s,l),l=Wr(l.nextSibling)}if(Jt(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(l===0){Ke=Wr(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}s=s.nextSibling}Ke=null}}else Ke=Pe?Wr(s.stateNode.nextSibling):null;return!0}function Xt(){for(var s=Ke;s;)s=Wr(s.nextSibling)}function zt(){Ke=Pe=null,Ge=!1}function cn(s){Ye===null?Ye=[s]:Ye.push(s)}var mn=H.ReactCurrentBatchConfig;function Lt(s,l,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var v=f.stateNode}if(!v)throw Error(t(147,s));var C=v,M=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===M?l.ref:(l=function(te){var Ae=C.refs;te===null?delete Ae[M]:Ae[M]=te},l._stringRef=M,l)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function On(s,l){throw s=Object.prototype.toString.call(l),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Hr(s){var l=s._init;return l(s._payload)}function Vn(s){function l(Be,Le){if(s){var ze=Be.deletions;ze===null?(Be.deletions=[Le],Be.flags|=16):ze.push(Le)}}function f(Be,Le){if(!s)return null;for(;Le!==null;)l(Be,Le),Le=Le.sibling;return null}function v(Be,Le){for(Be=new Map;Le!==null;)Le.key!==null?Be.set(Le.key,Le):Be.set(Le.index,Le),Le=Le.sibling;return Be}function C(Be,Le){return Be=Wl(Be,Le),Be.index=0,Be.sibling=null,Be}function M(Be,Le,ze){return Be.index=ze,s?(ze=Be.alternate,ze!==null?(ze=ze.index,ze<Le?(Be.flags|=2,Le):ze):(Be.flags|=2,Le)):(Be.flags|=1048576,Le)}function te(Be){return s&&Be.alternate===null&&(Be.flags|=2),Be}function Ae(Be,Le,ze,at){return Le===null||Le.tag!==6?(Le=pg(ze,Be.mode,at),Le.return=Be,Le):(Le=C(Le,ze),Le.return=Be,Le)}function ke(Be,Le,ze,at){var _t=ze.type;return _t===ce?nt(Be,Le,ze.props.children,at,ze.key):Le!==null&&(Le.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ne&&Hr(_t)===Le.type)?(at=C(Le,ze.props),at.ref=Lt(Be,Le,ze),at.return=Be,at):(at=Bd(ze.type,ze.key,ze.props,null,Be.mode,at),at.ref=Lt(Be,Le,ze),at.return=Be,at)}function We(Be,Le,ze,at){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==ze.containerInfo||Le.stateNode.implementation!==ze.implementation?(Le=mg(ze,Be.mode,at),Le.return=Be,Le):(Le=C(Le,ze.children||[]),Le.return=Be,Le)}function nt(Be,Le,ze,at,_t){return Le===null||Le.tag!==7?(Le=Vu(ze,Be.mode,at,_t),Le.return=Be,Le):(Le=C(Le,ze),Le.return=Be,Le)}function it(Be,Le,ze){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=pg(""+Le,Be.mode,ze),Le.return=Be,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case X:return ze=Bd(Le.type,Le.key,Le.props,null,Be.mode,ze),ze.ref=Lt(Be,null,Le),ze.return=Be,ze;case we:return Le=mg(Le,Be.mode,ze),Le.return=Be,Le;case Ne:var at=Le._init;return it(Be,at(Le._payload),ze)}if(ae(Le)||de(Le))return Le=Vu(Le,Be.mode,ze,null),Le.return=Be,Le;On(Be,Le)}return null}function tt(Be,Le,ze,at){var _t=Le!==null?Le.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return _t!==null?null:Ae(Be,Le,""+ze,at);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case X:return ze.key===_t?ke(Be,Le,ze,at):null;case we:return ze.key===_t?We(Be,Le,ze,at):null;case Ne:return _t=ze._init,tt(Be,Le,_t(ze._payload),at)}if(ae(ze)||de(ze))return _t!==null?null:nt(Be,Le,ze,at,null);On(Be,ze)}return null}function pt(Be,Le,ze,at,_t){if(typeof at=="string"&&at!==""||typeof at=="number")return Be=Be.get(ze)||null,Ae(Le,Be,""+at,_t);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case X:return Be=Be.get(at.key===null?ze:at.key)||null,ke(Le,Be,at,_t);case we:return Be=Be.get(at.key===null?ze:at.key)||null,We(Le,Be,at,_t);case Ne:var Nt=at._init;return pt(Be,Le,ze,Nt(at._payload),_t)}if(ae(at)||de(at))return Be=Be.get(ze)||null,nt(Le,Be,at,_t,null);On(Le,at)}return null}function vt(Be,Le,ze,at){for(var _t=null,Nt=null,It=Le,Ft=Le=0,Rr=null;It!==null&&Ft<ze.length;Ft++){It.index>Ft?(Rr=It,It=null):Rr=It.sibling;var an=tt(Be,It,ze[Ft],at);if(an===null){It===null&&(It=Rr);break}s&&It&&an.alternate===null&&l(Be,It),Le=M(an,Le,Ft),Nt===null?_t=an:Nt.sibling=an,Nt=an,It=Rr}if(Ft===ze.length)return f(Be,It),Ge&&Re(Be,Ft),_t;if(It===null){for(;Ft<ze.length;Ft++)It=it(Be,ze[Ft],at),It!==null&&(Le=M(It,Le,Ft),Nt===null?_t=It:Nt.sibling=It,Nt=It);return Ge&&Re(Be,Ft),_t}for(It=v(Be,It);Ft<ze.length;Ft++)Rr=pt(It,Be,Ft,ze[Ft],at),Rr!==null&&(s&&Rr.alternate!==null&&It.delete(Rr.key===null?Ft:Rr.key),Le=M(Rr,Le,Ft),Nt===null?_t=Rr:Nt.sibling=Rr,Nt=Rr);return s&&It.forEach(function(Hl){return l(Be,Hl)}),Ge&&Re(Be,Ft),_t}function wt(Be,Le,ze,at){var _t=de(ze);if(typeof _t!="function")throw Error(t(150));if(ze=_t.call(ze),ze==null)throw Error(t(151));for(var Nt=_t=null,It=Le,Ft=Le=0,Rr=null,an=ze.next();It!==null&&!an.done;Ft++,an=ze.next()){It.index>Ft?(Rr=It,It=null):Rr=It.sibling;var Hl=tt(Be,It,an.value,at);if(Hl===null){It===null&&(It=Rr);break}s&&It&&Hl.alternate===null&&l(Be,It),Le=M(Hl,Le,Ft),Nt===null?_t=Hl:Nt.sibling=Hl,Nt=Hl,It=Rr}if(an.done)return f(Be,It),Ge&&Re(Be,Ft),_t;if(It===null){for(;!an.done;Ft++,an=ze.next())an=it(Be,an.value,at),an!==null&&(Le=M(an,Le,Ft),Nt===null?_t=an:Nt.sibling=an,Nt=an);return Ge&&Re(Be,Ft),_t}for(It=v(Be,It);!an.done;Ft++,an=ze.next())an=pt(It,Be,Ft,an.value,at),an!==null&&(s&&an.alternate!==null&&It.delete(an.key===null?Ft:an.key),Le=M(an,Le,Ft),Nt===null?_t=an:Nt.sibling=an,Nt=an);return s&&It.forEach(function(O4){return l(Be,O4)}),Ge&&Re(Be,Ft),_t}function ar(Be,Le,ze,at){if(typeof ze=="object"&&ze!==null&&ze.type===ce&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case X:e:{for(var _t=ze.key,Nt=Le;Nt!==null;){if(Nt.key===_t){if(_t=ze.type,_t===ce){if(Nt.tag===7){f(Be,Nt.sibling),Le=C(Nt,ze.props.children),Le.return=Be,Be=Le;break e}}else if(Nt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ne&&Hr(_t)===Nt.type){f(Be,Nt.sibling),Le=C(Nt,ze.props),Le.ref=Lt(Be,Nt,ze),Le.return=Be,Be=Le;break e}f(Be,Nt);break}else l(Be,Nt);Nt=Nt.sibling}ze.type===ce?(Le=Vu(ze.props.children,Be.mode,at,ze.key),Le.return=Be,Be=Le):(at=Bd(ze.type,ze.key,ze.props,null,Be.mode,at),at.ref=Lt(Be,Le,ze),at.return=Be,Be=at)}return te(Be);case we:e:{for(Nt=ze.key;Le!==null;){if(Le.key===Nt)if(Le.tag===4&&Le.stateNode.containerInfo===ze.containerInfo&&Le.stateNode.implementation===ze.implementation){f(Be,Le.sibling),Le=C(Le,ze.children||[]),Le.return=Be,Be=Le;break e}else{f(Be,Le);break}else l(Be,Le);Le=Le.sibling}Le=mg(ze,Be.mode,at),Le.return=Be,Be=Le}return te(Be);case Ne:return Nt=ze._init,ar(Be,Le,Nt(ze._payload),at)}if(ae(ze))return vt(Be,Le,ze,at);if(de(ze))return wt(Be,Le,ze,at);On(Be,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Le!==null&&Le.tag===6?(f(Be,Le.sibling),Le=C(Le,ze),Le.return=Be,Be=Le):(f(Be,Le),Le=pg(ze,Be.mode,at),Le.return=Be,Be=Le),te(Be)):f(Be,Le)}return ar}var ir=Vn(!0),sn=Vn(!1),Tr=ls(null),Pr=null,Fn=null,sr=null;function Sr(){sr=Fn=Pr=null}function si(s){var l=Tr.current;un(Tr),s._currentValue=l}function Mi(s,l,f){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===f)break;s=s.return}}function Dn(s,l){Pr=s,sr=Fn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(zi=!0),s.firstContext=null)}function Xn(s){var l=s._currentValue;if(sr!==s)if(s={context:s,memoizedValue:l,next:null},Fn===null){if(Pr===null)throw Error(t(308));Fn=s,Pr.dependencies={lanes:0,firstContext:s}}else Fn=Fn.next=s;return l}var xi=null;function Uo(s){xi===null?xi=[s]:xi.push(s)}function Xs(s,l,f,v){var C=l.interleaved;return C===null?(f.next=f,Uo(l)):(f.next=C.next,C.next=f),l.interleaved=f,on(s,v)}function on(s,l){s.lanes|=l;var f=s.alternate;for(f!==null&&(f.lanes|=l),f=s,s=s.return;s!==null;)s.childLanes|=l,f=s.alternate,f!==null&&(f.childLanes|=l),f=s,s=s.return;return f.tag===3?f.stateNode:null}var Ns=!1;function Mc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ji(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Bi(s,l,f){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(rn&2)!==0){var C=v.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),v.pending=l,on(s,f)}return C=v.interleaved,C===null?(l.next=l,Uo(v)):(l.next=C.next,C.next=l),v.interleaved=l,on(s,f)}function Ra(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,f|=v,l.lanes=f,il(s,f)}}function Ui(s,l){var f=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var C=null,M=null;if(f=f.firstBaseUpdate,f!==null){do{var te={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};M===null?C=M=te:M=M.next=te,f=f.next}while(f!==null);M===null?C=M=l:M=M.next=l}else C=M=l;f={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:v.shared,effects:v.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}function Js(s,l,f,v){var C=s.updateQueue;Ns=!1;var M=C.firstBaseUpdate,te=C.lastBaseUpdate,Ae=C.shared.pending;if(Ae!==null){C.shared.pending=null;var ke=Ae,We=ke.next;ke.next=null,te===null?M=We:te.next=We,te=ke;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,Ae=nt.lastBaseUpdate,Ae!==te&&(Ae===null?nt.firstBaseUpdate=We:Ae.next=We,nt.lastBaseUpdate=ke))}if(M!==null){var it=C.baseState;te=0,nt=We=ke=null,Ae=M;do{var tt=Ae.lane,pt=Ae.eventTime;if((v&tt)===tt){nt!==null&&(nt=nt.next={eventTime:pt,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var vt=s,wt=Ae;switch(tt=l,pt=f,wt.tag){case 1:if(vt=wt.payload,typeof vt=="function"){it=vt.call(pt,it,tt);break e}it=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=wt.payload,tt=typeof vt=="function"?vt.call(pt,it,tt):vt,tt==null)break e;it=xe({},it,tt);break e;case 2:Ns=!0}}Ae.callback!==null&&Ae.lane!==0&&(s.flags|=64,tt=C.effects,tt===null?C.effects=[Ae]:tt.push(Ae))}else pt={eventTime:pt,lane:tt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},nt===null?(We=nt=pt,ke=it):nt=nt.next=pt,te|=tt;if(Ae=Ae.next,Ae===null){if(Ae=C.shared.pending,Ae===null)break;tt=Ae,Ae=tt.next,tt.next=null,C.lastBaseUpdate=tt,C.shared.pending=null}}while(!0);if(nt===null&&(ke=it),C.baseState=ke,C.firstBaseUpdate=We,C.lastBaseUpdate=nt,l=C.shared.interleaved,l!==null){C=l;do te|=C.lane,C=C.next;while(C!==l)}else M===null&&(C.shared.lanes=0);zu|=te,s.lanes=te,s.memoizedState=it}}function Oa(s,l,f){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],C=v.callback;if(C!==null){if(v.callback=null,v=f,typeof C!="function")throw Error(t(191,C));C.call(v)}}}var Ll={},Ei=ls(Ll),Rl=ls(Ll),zo=ls(Ll);function Qs(s){if(s===Ll)throw Error(t(174));return s}function Ol(s,l){switch(pn(zo,l),pn(Rl,s),pn(Ei,Ll),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:st(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=st(l,s)}un(Ei),pn(Ei,l)}function Is(){un(Ei),un(Rl),un(zo)}function _d(s){Qs(zo.current);var l=Qs(Ei.current),f=st(l,s.type);l!==f&&(pn(Rl,s),pn(Ei,f))}function ih(s){Rl.current===s&&(un(Ei),un(Rl))}var xn=ls(0);function us(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sh=[];function oh(){for(var s=0;s<sh.length;s++)sh[s]._workInProgressVersionPrimary=null;sh.length=0}var jc=H.ReactCurrentDispatcher,Bc=H.ReactCurrentBatchConfig,Cs=0,Nn=null,Jn=null,$n=null,Fl=!1,Zs=!1,Dl=0,Um=0;function or(){throw Error(t(321))}function Uc(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!nn(s[f],l[f]))return!1;return!0}function ju(s,l,f,v,C,M){if(Cs=M,Nn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,jc.current=s===null||s.memoizedState===null?o4:a4,s=f(v,C),Zs){M=0;do{if(Zs=!1,Dl=0,25<=M)throw Error(t(301));M+=1,$n=Jn=null,l.updateQueue=null,jc.current=l4,s=f(v,C)}while(Zs)}if(jc.current=Ad,l=Jn!==null&&Jn.next!==null,Cs=0,$n=Jn=Nn=null,Fl=!1,l)throw Error(t(300));return s}function ks(){var s=Dl!==0;return Dl=0,s}function cs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Nn.memoizedState=$n=s:$n=$n.next=s,$n}function Ai(){if(Jn===null){var s=Nn.alternate;s=s!==null?s.memoizedState:null}else s=Jn.next;var l=$n===null?Nn.memoizedState:$n.next;if(l!==null)$n=l,Jn=s;else{if(s===null)throw Error(t(310));Jn=s,s={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},$n===null?Nn.memoizedState=$n=s:$n=$n.next=s}return $n}function Bu(s,l){return typeof l=="function"?l(s):l}function zc(s){var l=Ai(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var v=Jn,C=v.baseQueue,M=f.pending;if(M!==null){if(C!==null){var te=C.next;C.next=M.next,M.next=te}v.baseQueue=C=M,f.pending=null}if(C!==null){M=C.next,v=v.baseState;var Ae=te=null,ke=null,We=M;do{var nt=We.lane;if((Cs&nt)===nt)ke!==null&&(ke=ke.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),v=We.hasEagerState?We.eagerState:s(v,We.action);else{var it={lane:nt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};ke===null?(Ae=ke=it,te=v):ke=ke.next=it,Nn.lanes|=nt,zu|=nt}We=We.next}while(We!==null&&We!==M);ke===null?te=v:ke.next=Ae,nn(v,l.memoizedState)||(zi=!0),l.memoizedState=v,l.baseState=te,l.baseQueue=ke,f.lastRenderedState=v}if(s=f.interleaved,s!==null){C=s;do M=C.lane,Nn.lanes|=M,zu|=M,C=C.next;while(C!==s)}else C===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function qo(s){var l=Ai(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var v=f.dispatch,C=f.pending,M=l.memoizedState;if(C!==null){f.pending=null;var te=C=C.next;do M=s(M,te.action),te=te.next;while(te!==C);nn(M,l.memoizedState)||(zi=!0),l.memoizedState=M,l.baseQueue===null&&(l.baseState=M),f.lastRenderedState=M}return[M,v]}function bd(){}function ah(s,l){var f=Nn,v=Ai(),C=l(),M=!nn(v.memoizedState,C);if(M&&(v.memoizedState=C,zi=!0),v=v.queue,Hc(xd.bind(null,f,v,s),[s]),v.getSnapshot!==l||M||$n!==null&&$n.memoizedState.tag&1){if(f.flags|=2048,Ni(9,lh.bind(null,f,v,C,l),void 0,null),Lr===null)throw Error(t(349));(Cs&30)!==0||Sd(f,l,C)}return C}function Sd(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=Nn.updateQueue,l===null?(l={lastEffect:null,stores:null},Nn.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function lh(s,l,f,v){l.value=f,l.getSnapshot=v,Ml(l)&&qc(s)}function xd(s,l,f){return f(function(){Ml(l)&&qc(s)})}function Ml(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!nn(s,f)}catch{return!0}}function qc(s){var l=on(s,1);l!==null&&io(l,s,1,-1)}function Uu(s){var l=cs();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:s},l.queue=s,s=s.dispatch=s4.bind(null,Nn,s),[l.memoizedState,s]}function Ni(s,l,f,v){return s={tag:s,create:l,destroy:f,deps:v,next:null},l=Nn.updateQueue,l===null?(l={lastEffect:null,stores:null},Nn.updateQueue=l,l.lastEffect=s.next=s):(f=l.lastEffect,f===null?l.lastEffect=s.next=s:(v=f.next,f.next=s,s.next=v,l.lastEffect=s)),s}function eo(){return Ai().memoizedState}function fs(s,l,f,v){var C=cs();Nn.flags|=s,C.memoizedState=Ni(1|l,f,void 0,v===void 0?null:v)}function Fa(s,l,f,v){var C=Ai();v=v===void 0?null:v;var M=void 0;if(Jn!==null){var te=Jn.memoizedState;if(M=te.destroy,v!==null&&Uc(v,te.deps)){C.memoizedState=Ni(l,f,M,v);return}}Nn.flags|=s,C.memoizedState=Ni(1|l,f,M,v)}function Wc(s,l){return fs(8390656,8,s,l)}function Hc(s,l){return Fa(2048,8,s,l)}function Ed(s,l){return Fa(4,2,s,l)}function Vc(s,l){return Fa(4,4,s,l)}function $c(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function gy(s,l,f){return f=f!=null?f.concat([s]):null,Fa(4,4,$c.bind(null,l,s),f)}function zm(){}function vy(s,l){var f=Ai();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&Uc(l,v[1])?v[0]:(f.memoizedState=[s,l],s)}function yy(s,l){var f=Ai();l=l===void 0?null:l;var v=f.memoizedState;return v!==null&&l!==null&&Uc(l,v[1])?v[0]:(s=s(),f.memoizedState=[s,l],s)}function wy(s,l,f){return(Cs&21)===0?(s.baseState&&(s.baseState=!1,zi=!0),s.memoizedState=f):(nn(f,l)||(f=vu(),Nn.lanes|=f,zu|=f,s.baseState=!0),l)}function r4(s,l){var f=tn;tn=f!==0&&4>f?f:4,s(!0);var v=Bc.transition;Bc.transition={};try{s(!1),l()}finally{tn=f,Bc.transition=v}}function _y(){return Ai().memoizedState}function i4(s,l,f){var v=zl(s);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},by(s))Sy(l,f);else if(f=Xs(s,l,f,v),f!==null){var C=Ci();io(f,s,v,C),xy(f,l,v)}}function s4(s,l,f){var v=zl(s),C={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(by(s))Sy(l,C);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=l.lastRenderedReducer,M!==null))try{var te=l.lastRenderedState,Ae=M(te,f);if(C.hasEagerState=!0,C.eagerState=Ae,nn(Ae,te)){var ke=l.interleaved;ke===null?(C.next=C,Uo(l)):(C.next=ke.next,ke.next=C),l.interleaved=C;return}}catch{}finally{}f=Xs(s,l,C,v),f!==null&&(C=Ci(),io(f,s,v,C),xy(f,l,v))}}function by(s){var l=s.alternate;return s===Nn||l!==null&&l===Nn}function Sy(s,l){Zs=Fl=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function xy(s,l,f){if((f&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,f|=v,l.lanes=f,il(s,f)}}var Ad={readContext:Xn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},o4={readContext:Xn,useCallback:function(s,l){return cs().memoizedState=[s,l===void 0?null:l],s},useContext:Xn,useEffect:Wc,useImperativeHandle:function(s,l,f){return f=f!=null?f.concat([s]):null,fs(4194308,4,$c.bind(null,l,s),f)},useLayoutEffect:function(s,l){return fs(4194308,4,s,l)},useInsertionEffect:function(s,l){return fs(4,2,s,l)},useMemo:function(s,l){var f=cs();return l=l===void 0?null:l,s=s(),f.memoizedState=[s,l],s},useReducer:function(s,l,f){var v=cs();return l=f!==void 0?f(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=i4.bind(null,Nn,s),[v.memoizedState,s]},useRef:function(s){var l=cs();return s={current:s},l.memoizedState=s},useState:Uu,useDebugValue:zm,useDeferredValue:function(s){return cs().memoizedState=s},useTransition:function(){var s=Uu(!1),l=s[0];return s=r4.bind(null,s[1]),cs().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,f){var v=Nn,C=cs();if(Ge){if(f===void 0)throw Error(t(407));f=f()}else{if(f=l(),Lr===null)throw Error(t(349));(Cs&30)!==0||Sd(v,l,f)}C.memoizedState=f;var M={value:f,getSnapshot:l};return C.queue=M,Wc(xd.bind(null,v,M,s),[s]),v.flags|=2048,Ni(9,lh.bind(null,v,M,f,l),void 0,null),f},useId:function(){var s=cs(),l=Lr.identifierPrefix;if(Ge){var f=je,v=Me;f=(v&~(1<<32-yi(v)-1)).toString(32)+f,l=":"+l+"R"+f,f=Dl++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Um++,l=":"+l+"r"+f.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},a4={readContext:Xn,useCallback:vy,useContext:Xn,useEffect:Hc,useImperativeHandle:gy,useInsertionEffect:Ed,useLayoutEffect:Vc,useMemo:yy,useReducer:zc,useRef:eo,useState:function(){return zc(Bu)},useDebugValue:zm,useDeferredValue:function(s){var l=Ai();return wy(l,Jn.memoizedState,s)},useTransition:function(){var s=zc(Bu)[0],l=Ai().memoizedState;return[s,l]},useMutableSource:bd,useSyncExternalStore:ah,useId:_y,unstable_isNewReconciler:!1},l4={readContext:Xn,useCallback:vy,useContext:Xn,useEffect:Hc,useImperativeHandle:gy,useInsertionEffect:Ed,useLayoutEffect:Vc,useMemo:yy,useReducer:qo,useRef:eo,useState:function(){return qo(Bu)},useDebugValue:zm,useDeferredValue:function(s){var l=Ai();return Jn===null?l.memoizedState=s:wy(l,Jn.memoizedState,s)},useTransition:function(){var s=qo(Bu)[0],l=Ai().memoizedState;return[s,l]},useMutableSource:bd,useSyncExternalStore:ah,useId:_y,unstable_isNewReconciler:!1};function to(s,l){if(s&&s.defaultProps){l=xe({},l),s=s.defaultProps;for(var f in s)l[f]===void 0&&(l[f]=s[f]);return l}return l}function qm(s,l,f,v){l=s.memoizedState,f=f(v,l),f=f==null?l:xe({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Nd={isMounted:function(s){return(s=s._reactInternals)?wr(s)===s:!1},enqueueSetState:function(s,l,f){s=s._reactInternals;var v=Ci(),C=zl(s),M=ji(v,C);M.payload=l,f!=null&&(M.callback=f),l=Bi(s,M,C),l!==null&&(io(l,s,C,v),Ra(l,s,C))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var v=Ci(),C=zl(s),M=ji(v,C);M.tag=1,M.payload=l,f!=null&&(M.callback=f),l=Bi(s,M,C),l!==null&&(io(l,s,C,v),Ra(l,s,C))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=Ci(),v=zl(s),C=ji(f,v);C.tag=2,l!=null&&(C.callback=l),l=Bi(s,C,v),l!==null&&(io(l,s,v,f),Ra(l,s,v))}};function Ey(s,l,f,v,C,M,te){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,M,te):l.prototype&&l.prototype.isPureReactComponent?!Hs(f,v)||!Hs(C,M):!0}function Ay(s,l,f){var v=!1,C=Bo,M=l.contextType;return typeof M=="object"&&M!==null?M=Xn(M):(C=ii(l)?Pa:br.current,v=l.contextTypes,M=(v=v!=null)?Pl(s,C):Bo),l=new l(f,M),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Nd,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=M),l}function Ny(s,l,f,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,v),l.state!==s&&Nd.enqueueReplaceState(l,l.state,null)}function Wm(s,l,f,v){var C=s.stateNode;C.props=f,C.state=s.memoizedState,C.refs={},Mc(s);var M=l.contextType;typeof M=="object"&&M!==null?C.context=Xn(M):(M=ii(l)?Pa:br.current,C.context=Pl(s,M)),C.state=s.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(qm(s,l,M,f),C.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(l=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),l!==C.state&&Nd.enqueueReplaceState(C,C.state,null),Js(s,f,C,v),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Gc(s,l){try{var f="",v=l;do f+=ne(v),v=v.return;while(v);var C=f}catch(M){C=`
Error generating stack: `+M.message+`
`+M.stack}return{value:s,source:l,stack:C,digest:null}}function Hm(s,l,f){return{value:s,source:null,stack:f??null,digest:l??null}}function Vm(s,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var u4=typeof WeakMap=="function"?WeakMap:Map;function Iy(s,l,f){f=ji(-1,f),f.tag=3,f.payload={element:null};var v=l.value;return f.callback=function(){Rd||(Rd=!0,og=v),Vm(s,l)},f}function Cy(s,l,f){f=ji(-1,f),f.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var C=l.value;f.payload=function(){return v(C)},f.callback=function(){Vm(s,l)}}var M=s.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(f.callback=function(){Vm(s,l),typeof v!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var te=l.stack;this.componentDidCatch(l.value,{componentStack:te!==null?te:""})}),f}function ky(s,l,f){var v=s.pingCache;if(v===null){v=s.pingCache=new u4;var C=new Set;v.set(l,C)}else C=v.get(l),C===void 0&&(C=new Set,v.set(l,C));C.has(f)||(C.add(f),s=x4.bind(null,s,l,f),l.then(s,s))}function Ty(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Py(s,l,f,v,C){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=ji(-1,1),l.tag=2,Bi(f,l,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var c4=H.ReactCurrentOwner,zi=!1;function Ii(s,l,f,v){l.child=s===null?sn(l,null,f,v):ir(l,s.child,f,v)}function Ly(s,l,f,v,C){f=f.render;var M=l.ref;return Dn(l,C),v=ju(s,l,f,v,M,C),f=ks(),s!==null&&!zi?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~C,Da(s,l,C)):(Ge&&f&&He(l),l.flags|=1,Ii(s,l,v,C),l.child)}function Ry(s,l,f,v,C){if(s===null){var M=f.type;return typeof M=="function"&&!dg(M)&&M.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=M,Oy(s,l,M,v,C)):(s=Bd(f.type,null,v,l,l.mode,C),s.ref=l.ref,s.return=l,l.child=s)}if(M=s.child,(s.lanes&C)===0){var te=M.memoizedProps;if(f=f.compare,f=f!==null?f:Hs,f(te,v)&&s.ref===l.ref)return Da(s,l,C)}return l.flags|=1,s=Wl(M,v),s.ref=l.ref,s.return=l,l.child=s}function Oy(s,l,f,v,C){if(s!==null){var M=s.memoizedProps;if(Hs(M,v)&&s.ref===l.ref)if(zi=!1,l.pendingProps=v=M,(s.lanes&C)!==0)(s.flags&131072)!==0&&(zi=!0);else return l.lanes=s.lanes,Da(s,l,C)}return $m(s,l,f,v,C)}function Fy(s,l,f){var v=l.pendingProps,C=v.children,M=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(Yc,hs),hs|=f;else{if((f&1073741824)===0)return s=M!==null?M.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,pn(Yc,hs),hs|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=M!==null?M.baseLanes:f,pn(Yc,hs),hs|=v}else M!==null?(v=M.baseLanes|f,l.memoizedState=null):v=f,pn(Yc,hs),hs|=v;return Ii(s,l,C,f),l.child}function Dy(s,l){var f=l.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function $m(s,l,f,v,C){var M=ii(f)?Pa:br.current;return M=Pl(l,M),Dn(l,C),f=ju(s,l,f,v,M,C),v=ks(),s!==null&&!zi?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~C,Da(s,l,C)):(Ge&&v&&He(l),l.flags|=1,Ii(s,l,f,C),l.child)}function My(s,l,f,v,C){if(ii(f)){var M=!0;La(l)}else M=!1;if(Dn(l,C),l.stateNode===null)Cd(s,l),Ay(l,f,v),Wm(l,f,v,C),v=!0;else if(s===null){var te=l.stateNode,Ae=l.memoizedProps;te.props=Ae;var ke=te.context,We=f.contextType;typeof We=="object"&&We!==null?We=Xn(We):(We=ii(f)?Pa:br.current,We=Pl(l,We));var nt=f.getDerivedStateFromProps,it=typeof nt=="function"||typeof te.getSnapshotBeforeUpdate=="function";it||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(Ae!==v||ke!==We)&&Ny(l,te,v,We),Ns=!1;var tt=l.memoizedState;te.state=tt,Js(l,v,te,C),ke=l.memoizedState,Ae!==v||tt!==ke||ri.current||Ns?(typeof nt=="function"&&(qm(l,f,nt,v),ke=l.memoizedState),(Ae=Ns||Ey(l,f,Ae,v,tt,ke,We))?(it||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(l.flags|=4194308)):(typeof te.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ke),te.props=v,te.state=ke,te.context=We,v=Ae):(typeof te.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{te=l.stateNode,rh(s,l),Ae=l.memoizedProps,We=l.type===l.elementType?Ae:to(l.type,Ae),te.props=We,it=l.pendingProps,tt=te.context,ke=f.contextType,typeof ke=="object"&&ke!==null?ke=Xn(ke):(ke=ii(f)?Pa:br.current,ke=Pl(l,ke));var pt=f.getDerivedStateFromProps;(nt=typeof pt=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(Ae!==it||tt!==ke)&&Ny(l,te,v,ke),Ns=!1,tt=l.memoizedState,te.state=tt,Js(l,v,te,C);var vt=l.memoizedState;Ae!==it||tt!==vt||ri.current||Ns?(typeof pt=="function"&&(qm(l,f,pt,v),vt=l.memoizedState),(We=Ns||Ey(l,f,We,v,tt,vt,ke)||!1)?(nt||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(v,vt,ke),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(v,vt,ke)),typeof te.componentDidUpdate=="function"&&(l.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof te.componentDidUpdate!="function"||Ae===s.memoizedProps&&tt===s.memoizedState||(l.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||Ae===s.memoizedProps&&tt===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=vt),te.props=v,te.state=vt,te.context=ke,v=We):(typeof te.componentDidUpdate!="function"||Ae===s.memoizedProps&&tt===s.memoizedState||(l.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||Ae===s.memoizedProps&&tt===s.memoizedState||(l.flags|=1024),v=!1)}return Gm(s,l,f,v,M,C)}function Gm(s,l,f,v,C,M){Dy(s,l);var te=(l.flags&128)!==0;if(!v&&!te)return C&&wd(l,f,!1),Da(s,l,M);v=l.stateNode,c4.current=l;var Ae=te&&typeof f.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&te?(l.child=ir(l,s.child,null,M),l.child=ir(l,null,Ae,M)):Ii(s,l,Ae,M),l.memoizedState=v.state,C&&wd(l,f,!0),l.child}function jy(s){var l=s.stateNode;l.pendingContext?yd(s,l.pendingContext,l.pendingContext!==l.context):l.context&&yd(s,l.context,!1),Ol(s,l.containerInfo)}function By(s,l,f,v,C){return zt(),cn(C),l.flags|=256,Ii(s,l,f,v),l.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Ym(s){return{baseLanes:s,cachePool:null,transitions:null}}function Uy(s,l,f){var v=l.pendingProps,C=xn.current,M=!1,te=(l.flags&128)!==0,Ae;if((Ae=te)||(Ae=s!==null&&s.memoizedState===null?!1:(C&2)!==0),Ae?(M=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),pn(xn,C&1),s===null)return ft(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(te=v.children,s=v.fallback,M?(v=l.mode,M=l.child,te={mode:"hidden",children:te},(v&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=te):M=Ud(te,v,0,null),s=Vu(s,v,f,null),M.return=l,s.return=l,M.sibling=s,l.child=M,l.child.memoizedState=Ym(f),l.memoizedState=Km,s):Xm(l,te));if(C=s.memoizedState,C!==null&&(Ae=C.dehydrated,Ae!==null))return f4(s,l,te,v,Ae,C,f);if(M){M=v.fallback,te=l.mode,C=s.child,Ae=C.sibling;var ke={mode:"hidden",children:v.children};return(te&1)===0&&l.child!==C?(v=l.child,v.childLanes=0,v.pendingProps=ke,l.deletions=null):(v=Wl(C,ke),v.subtreeFlags=C.subtreeFlags&14680064),Ae!==null?M=Wl(Ae,M):(M=Vu(M,te,f,null),M.flags|=2),M.return=l,v.return=l,v.sibling=M,l.child=v,v=M,M=l.child,te=s.child.memoizedState,te=te===null?Ym(f):{baseLanes:te.baseLanes|f,cachePool:null,transitions:te.transitions},M.memoizedState=te,M.childLanes=s.childLanes&~f,l.memoizedState=Km,v}return M=s.child,s=M.sibling,v=Wl(M,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=f),v.return=l,v.sibling=null,s!==null&&(f=l.deletions,f===null?(l.deletions=[s],l.flags|=16):f.push(s)),l.child=v,l.memoizedState=null,v}function Xm(s,l){return l=Ud({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Id(s,l,f,v){return v!==null&&cn(v),ir(l,s.child,null,f),s=Xm(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function f4(s,l,f,v,C,M,te){if(f)return l.flags&256?(l.flags&=-257,v=Hm(Error(t(422))),Id(s,l,te,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(M=v.fallback,C=l.mode,v=Ud({mode:"visible",children:v.children},C,0,null),M=Vu(M,C,te,null),M.flags|=2,v.return=l,M.return=l,v.sibling=M,l.child=v,(l.mode&1)!==0&&ir(l,s.child,null,te),l.child.memoizedState=Ym(te),l.memoizedState=Km,M);if((l.mode&1)===0)return Id(s,l,te,null);if(C.data==="$!"){if(v=C.nextSibling&&C.nextSibling.dataset,v)var Ae=v.dgst;return v=Ae,M=Error(t(419)),v=Hm(M,v,void 0),Id(s,l,te,v)}if(Ae=(te&s.childLanes)!==0,zi||Ae){if(v=Lr,v!==null){switch(te&-te){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(v.suspendedLanes|te))!==0?0:C,C!==0&&C!==M.retryLane&&(M.retryLane=C,on(s,C),io(v,s,C,-1))}return hg(),v=Hm(Error(t(421))),Id(s,l,te,v)}return C.data==="$?"?(l.flags|=128,l.child=s.child,l=E4.bind(null,s),C._reactRetry=l,null):(s=M.treeContext,Ke=Wr(C.nextSibling),Pe=l,Ge=!0,Ye=null,s!==null&&(fe[ge++]=Me,fe[ge++]=je,fe[ge++]=Ce,Me=s.id,je=s.overflow,Ce=l),l=Xm(l,v.children),l.flags|=4096,l)}function zy(s,l,f){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Mi(s.return,l,f)}function Jm(s,l,f,v,C){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:C}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=v,M.tail=f,M.tailMode=C)}function qy(s,l,f){var v=l.pendingProps,C=v.revealOrder,M=v.tail;if(Ii(s,l,v.children,f),v=xn.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zy(s,f,l);else if(s.tag===19)zy(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(pn(xn,v),(l.mode&1)===0)l.memoizedState=null;else switch(C){case"forwards":for(f=l.child,C=null;f!==null;)s=f.alternate,s!==null&&us(s)===null&&(C=f),f=f.sibling;f=C,f===null?(C=l.child,l.child=null):(C=f.sibling,f.sibling=null),Jm(l,!1,C,f,M);break;case"backwards":for(f=null,C=l.child,l.child=null;C!==null;){if(s=C.alternate,s!==null&&us(s)===null){l.child=C;break}s=C.sibling,C.sibling=f,f=C,C=s}Jm(l,!0,f,null,M);break;case"together":Jm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Cd(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Da(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),zu|=l.lanes,(f&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(t(153));if(l.child!==null){for(s=l.child,f=Wl(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=Wl(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function h4(s,l,f){switch(l.tag){case 3:jy(l),zt();break;case 5:_d(l);break;case 1:ii(l.type)&&La(l);break;case 4:Ol(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,C=l.memoizedProps.value;pn(Tr,v._currentValue),v._currentValue=C;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(pn(xn,xn.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Uy(s,l,f):(pn(xn,xn.current&1),s=Da(s,l,f),s!==null?s.sibling:null);pn(xn,xn.current&1);break;case 19:if(v=(f&l.childLanes)!==0,(s.flags&128)!==0){if(v)return qy(s,l,f);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),pn(xn,xn.current),v)break;return null;case 22:case 23:return l.lanes=0,Fy(s,l,f)}return Da(s,l,f)}var Wy,Qm,Hy,Vy;Wy=function(s,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Qm=function(){},Hy=function(s,l,f,v){var C=s.memoizedProps;if(C!==v){s=l.stateNode,Qs(Ei.current);var M=null;switch(f){case"input":C=D(s,C),v=D(s,v),M=[];break;case"select":C=xe({},C,{value:void 0}),v=xe({},v,{value:void 0}),M=[];break;case"textarea":C=he(s,C),v=he(s,v),M=[];break;default:typeof C.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=Cl)}Wt(f,v);var te;f=null;for(We in C)if(!v.hasOwnProperty(We)&&C.hasOwnProperty(We)&&C[We]!=null)if(We==="style"){var Ae=C[We];for(te in Ae)Ae.hasOwnProperty(te)&&(f||(f={}),f[te]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(i.hasOwnProperty(We)?M||(M=[]):(M=M||[]).push(We,null));for(We in v){var ke=v[We];if(Ae=C!=null?C[We]:void 0,v.hasOwnProperty(We)&&ke!==Ae&&(ke!=null||Ae!=null))if(We==="style")if(Ae){for(te in Ae)!Ae.hasOwnProperty(te)||ke&&ke.hasOwnProperty(te)||(f||(f={}),f[te]="");for(te in ke)ke.hasOwnProperty(te)&&Ae[te]!==ke[te]&&(f||(f={}),f[te]=ke[te])}else f||(M||(M=[]),M.push(We,f)),f=ke;else We==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,Ae=Ae?Ae.__html:void 0,ke!=null&&Ae!==ke&&(M=M||[]).push(We,ke)):We==="children"?typeof ke!="string"&&typeof ke!="number"||(M=M||[]).push(We,""+ke):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(i.hasOwnProperty(We)?(ke!=null&&We==="onScroll"&&vn("scroll",s),M||Ae===ke||(M=[])):(M=M||[]).push(We,ke))}f&&(M=M||[]).push("style",f);var We=M;(l.updateQueue=We)&&(l.flags|=4)}},Vy=function(s,l,f,v){f!==v&&(l.flags|=4)};function uh(s,l){if(!Ge)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function oi(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,v=0;if(l)for(var C=s.child;C!==null;)f|=C.lanes|C.childLanes,v|=C.subtreeFlags&14680064,v|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)f|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=v,s.childLanes=f,l}function d4(s,l,f){var v=l.pendingProps;switch(Te(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(l),null;case 1:return ii(l.type)&&Dc(),oi(l),null;case 3:return v=l.stateNode,Is(),un(ri),un(br),oh(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Qt(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ye!==null&&(ug(Ye),Ye=null))),Qm(s,l),oi(l),null;case 5:ih(l);var C=Qs(zo.current);if(f=l.type,s!==null&&l.stateNode!=null)Hy(s,l,f,v,C),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(t(166));return oi(l),null}if(s=Qs(Ei.current),Qt(l)){v=l.stateNode,f=l.type;var M=l.memoizedProps;switch(v[As]=l,v[kl]=M,s=(l.mode&1)!==0,f){case"dialog":vn("cancel",v),vn("close",v);break;case"iframe":case"object":case"embed":vn("load",v);break;case"video":case"audio":for(C=0;C<Mo.length;C++)vn(Mo[C],v);break;case"source":vn("error",v);break;case"img":case"image":case"link":vn("error",v),vn("load",v);break;case"details":vn("toggle",v);break;case"input":se(v,M),vn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!M.multiple},vn("invalid",v);break;case"textarea":Oe(v,M),vn("invalid",v)}Wt(f,M),C=null;for(var te in M)if(M.hasOwnProperty(te)){var Ae=M[te];te==="children"?typeof Ae=="string"?v.textContent!==Ae&&(M.suppressHydrationWarning!==!0&&Fc(v.textContent,Ae,s),C=["children",Ae]):typeof Ae=="number"&&v.textContent!==""+Ae&&(M.suppressHydrationWarning!==!0&&Fc(v.textContent,Ae,s),C=["children",""+Ae]):i.hasOwnProperty(te)&&Ae!=null&&te==="onScroll"&&vn("scroll",v)}switch(f){case"input":V(v),x(v,M,!0);break;case"textarea":V(v),Ue(v);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(v.onclick=Cl)}v=C,l.updateQueue=v,v!==null&&(l.flags|=4)}else{te=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xe(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=te.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=te.createElement(f,{is:v.is}):(s=te.createElement(f),f==="select"&&(te=s,v.multiple?te.multiple=!0:v.size&&(te.size=v.size))):s=te.createElementNS(s,f),s[As]=l,s[kl]=v,Wy(s,l,!1,!1),l.stateNode=s;e:{switch(te=jr(f,v),f){case"dialog":vn("cancel",s),vn("close",s),C=v;break;case"iframe":case"object":case"embed":vn("load",s),C=v;break;case"video":case"audio":for(C=0;C<Mo.length;C++)vn(Mo[C],s);C=v;break;case"source":vn("error",s),C=v;break;case"img":case"image":case"link":vn("error",s),vn("load",s),C=v;break;case"details":vn("toggle",s),C=v;break;case"input":se(s,v),C=D(s,v),vn("invalid",s);break;case"option":C=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},C=xe({},v,{value:void 0}),vn("invalid",s);break;case"textarea":Oe(s,v),C=he(s,v),vn("invalid",s);break;default:C=v}Wt(f,C),Ae=C;for(M in Ae)if(Ae.hasOwnProperty(M)){var ke=Ae[M];M==="style"?yr(s,ke):M==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&mt(s,ke)):M==="children"?typeof ke=="string"?(f!=="textarea"||ke!=="")&&At(s,ke):typeof ke=="number"&&At(s,""+ke):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ke!=null&&M==="onScroll"&&vn("scroll",s):ke!=null&&j(s,M,ke,te))}switch(f){case"input":V(s),x(s,v,!1);break;case"textarea":V(s),Ue(s);break;case"option":v.value!=null&&s.setAttribute("value",""+L(v.value));break;case"select":s.multiple=!!v.multiple,M=v.value,M!=null?ve(s,!!v.multiple,M,!1):v.defaultValue!=null&&ve(s,!!v.multiple,v.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Cl)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return oi(l),null;case 6:if(s&&l.stateNode!=null)Vy(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(t(166));if(f=Qs(zo.current),Qs(Ei.current),Qt(l)){if(v=l.stateNode,f=l.memoizedProps,v[As]=l,(M=v.nodeValue!==f)&&(s=Pe,s!==null))switch(s.tag){case 3:Fc(v.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Fc(v.nodeValue,f,(s.mode&1)!==0)}M&&(l.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[As]=l,l.stateNode=v}return oi(l),null;case 13:if(un(xn),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ge&&Ke!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Xt(),zt(),l.flags|=98560,M=!1;else if(M=Qt(l),v!==null&&v.dehydrated!==null){if(s===null){if(!M)throw Error(t(318));if(M=l.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[As]=l}else zt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;oi(l),M=!1}else Ye!==null&&(ug(Ye),Ye=null),M=!0;if(!M)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(xn.current&1)!==0?xr===0&&(xr=3):hg())),l.updateQueue!==null&&(l.flags|=4),oi(l),null);case 4:return Is(),Qm(s,l),s===null&&Ia(l.stateNode.containerInfo),oi(l),null;case 10:return si(l.type._context),oi(l),null;case 17:return ii(l.type)&&Dc(),oi(l),null;case 19:if(un(xn),M=l.memoizedState,M===null)return oi(l),null;if(v=(l.flags&128)!==0,te=M.rendering,te===null)if(v)uh(M,!1);else{if(xr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(te=us(s),te!==null){for(l.flags|=128,uh(M,!1),v=te.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=f,f=l.child;f!==null;)M=f,s=v,M.flags&=14680066,te=M.alternate,te===null?(M.childLanes=0,M.lanes=s,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=te.childLanes,M.lanes=te.lanes,M.child=te.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=te.memoizedProps,M.memoizedState=te.memoizedState,M.updateQueue=te.updateQueue,M.type=te.type,s=te.dependencies,M.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return pn(xn,xn.current&1|2),l.child}s=s.sibling}M.tail!==null&&Pn()>Xc&&(l.flags|=128,v=!0,uh(M,!1),l.lanes=4194304)}else{if(!v)if(s=us(te),s!==null){if(l.flags|=128,v=!0,f=s.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),uh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!te.alternate&&!Ge)return oi(l),null}else 2*Pn()-M.renderingStartTime>Xc&&f!==1073741824&&(l.flags|=128,v=!0,uh(M,!1),l.lanes=4194304);M.isBackwards?(te.sibling=l.child,l.child=te):(f=M.last,f!==null?f.sibling=te:l.child=te,M.last=te)}return M.tail!==null?(l=M.tail,M.rendering=l,M.tail=l.sibling,M.renderingStartTime=Pn(),l.sibling=null,f=xn.current,pn(xn,v?f&1|2:f&1),l):(oi(l),null);case 22:case 23:return fg(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(hs&1073741824)!==0&&(oi(l),l.subtreeFlags&6&&(l.flags|=8192)):oi(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function p4(s,l){switch(Te(l),l.tag){case 1:return ii(l.type)&&Dc(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Is(),un(ri),un(br),oh(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return ih(l),null;case 13:if(un(xn),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(t(340));zt()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return un(xn),null;case 4:return Is(),null;case 10:return si(l.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var kd=!1,ai=!1,m4=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Kc(s,l){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Qn(s,l,v)}else f.current=null}function Zm(s,l,f){try{f()}catch(v){Qn(s,l,v)}}var $y=!1;function g4(s,l){if(Fu=ul,s=Cu(),xa(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var C=v.anchorOffset,M=v.focusNode;v=v.focusOffset;try{f.nodeType,M.nodeType}catch{f=null;break e}var te=0,Ae=-1,ke=-1,We=0,nt=0,it=s,tt=null;t:for(;;){for(var pt;it!==f||C!==0&&it.nodeType!==3||(Ae=te+C),it!==M||v!==0&&it.nodeType!==3||(ke=te+v),it.nodeType===3&&(te+=it.nodeValue.length),(pt=it.firstChild)!==null;)tt=it,it=pt;for(;;){if(it===s)break t;if(tt===f&&++We===C&&(Ae=te),tt===M&&++nt===v&&(ke=te),(pt=it.nextSibling)!==null)break;it=tt,tt=it.parentNode}it=pt}f=Ae===-1||ke===-1?null:{start:Ae,end:ke}}else f=null}f=f||{start:0,end:0}}else f=null;for(ka={focusedElem:s,selectionRange:f},ul=!1,gt=l;gt!==null;)if(l=gt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,gt=s;else for(;gt!==null;){l=gt;try{var vt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var wt=vt.memoizedProps,ar=vt.memoizedState,Be=l.stateNode,Le=Be.getSnapshotBeforeUpdate(l.elementType===l.type?wt:to(l.type,wt),ar);Be.__reactInternalSnapshotBeforeUpdate=Le}break;case 3:var ze=l.stateNode.containerInfo;ze.nodeType===1?ze.textContent="":ze.nodeType===9&&ze.documentElement&&ze.removeChild(ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(at){Qn(l,l.return,at)}if(s=l.sibling,s!==null){s.return=l.return,gt=s;break}gt=l.return}return vt=$y,$y=!1,vt}function ch(s,l,f){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var C=v=v.next;do{if((C.tag&s)===s){var M=C.destroy;C.destroy=void 0,M!==void 0&&Zm(l,f,M)}C=C.next}while(C!==v)}}function Td(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&s)===s){var v=f.create;f.destroy=v()}f=f.next}while(f!==l)}}function eg(s){var l=s.ref;if(l!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof l=="function"?l(s):l.current=s}}function Gy(s){var l=s.alternate;l!==null&&(s.alternate=null,Gy(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[As],delete l[kl],delete l[ni],delete l[jm],delete l[Bm])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ky(s){return s.tag===5||s.tag===3||s.tag===4}function Yy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ky(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tg(s,l,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(s,l):f.insertBefore(s,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(s,f)):(l=f,l.appendChild(s)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Cl));else if(v!==4&&(s=s.child,s!==null))for(tg(s,l,f),s=s.sibling;s!==null;)tg(s,l,f),s=s.sibling}function ng(s,l,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(ng(s,l,f),s=s.sibling;s!==null;)ng(s,l,f),s=s.sibling}var Vr=null,no=!1;function jl(s,l,f){for(f=f.child;f!==null;)Xy(s,l,f),f=f.sibling}function Xy(s,l,f){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(la,f)}catch{}switch(f.tag){case 5:ai||Kc(f,l);case 6:var v=Vr,C=no;Vr=null,jl(s,l,f),Vr=v,no=C,Vr!==null&&(no?(s=Vr,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Vr.removeChild(f.stateNode));break;case 18:Vr!==null&&(no?(s=Vr,f=f.stateNode,s.nodeType===8?eh(s.parentNode,f):s.nodeType===1&&eh(s,f),is(s)):eh(Vr,f.stateNode));break;case 4:v=Vr,C=no,Vr=f.stateNode.containerInfo,no=!0,jl(s,l,f),Vr=v,no=C;break;case 0:case 11:case 14:case 15:if(!ai&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){C=v=v.next;do{var M=C,te=M.destroy;M=M.tag,te!==void 0&&((M&2)!==0||(M&4)!==0)&&Zm(f,l,te),C=C.next}while(C!==v)}jl(s,l,f);break;case 1:if(!ai&&(Kc(f,l),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(Ae){Qn(f,l,Ae)}jl(s,l,f);break;case 21:jl(s,l,f);break;case 22:f.mode&1?(ai=(v=ai)||f.memoizedState!==null,jl(s,l,f),ai=v):jl(s,l,f);break;default:jl(s,l,f)}}function Jy(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new m4),l.forEach(function(v){var C=A4.bind(null,s,v);f.has(v)||(f.add(v),v.then(C,C))})}}function ro(s,l){var f=l.deletions;if(f!==null)for(var v=0;v<f.length;v++){var C=f[v];try{var M=s,te=l,Ae=te;e:for(;Ae!==null;){switch(Ae.tag){case 5:Vr=Ae.stateNode,no=!1;break e;case 3:Vr=Ae.stateNode.containerInfo,no=!0;break e;case 4:Vr=Ae.stateNode.containerInfo,no=!0;break e}Ae=Ae.return}if(Vr===null)throw Error(t(160));Xy(M,te,C),Vr=null,no=!1;var ke=C.alternate;ke!==null&&(ke.return=null),C.return=null}catch(We){Qn(C,l,We)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Qy(l,s),l=l.sibling}function Qy(s,l){var f=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ro(l,s),Wo(s),v&4){try{ch(3,s,s.return),Td(3,s)}catch(wt){Qn(s,s.return,wt)}try{ch(5,s,s.return)}catch(wt){Qn(s,s.return,wt)}}break;case 1:ro(l,s),Wo(s),v&512&&f!==null&&Kc(f,f.return);break;case 5:if(ro(l,s),Wo(s),v&512&&f!==null&&Kc(f,f.return),s.flags&32){var C=s.stateNode;try{At(C,"")}catch(wt){Qn(s,s.return,wt)}}if(v&4&&(C=s.stateNode,C!=null)){var M=s.memoizedProps,te=f!==null?f.memoizedProps:M,Ae=s.type,ke=s.updateQueue;if(s.updateQueue=null,ke!==null)try{Ae==="input"&&M.type==="radio"&&M.name!=null&&I(C,M),jr(Ae,te);var We=jr(Ae,M);for(te=0;te<ke.length;te+=2){var nt=ke[te],it=ke[te+1];nt==="style"?yr(C,it):nt==="dangerouslySetInnerHTML"?mt(C,it):nt==="children"?At(C,it):j(C,nt,it,We)}switch(Ae){case"input":b(C,M);break;case"textarea":qe(C,M);break;case"select":var tt=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!M.multiple;var pt=M.value;pt!=null?ve(C,!!M.multiple,pt,!1):tt!==!!M.multiple&&(M.defaultValue!=null?ve(C,!!M.multiple,M.defaultValue,!0):ve(C,!!M.multiple,M.multiple?[]:"",!1))}C[kl]=M}catch(wt){Qn(s,s.return,wt)}}break;case 6:if(ro(l,s),Wo(s),v&4){if(s.stateNode===null)throw Error(t(162));C=s.stateNode,M=s.memoizedProps;try{C.nodeValue=M}catch(wt){Qn(s,s.return,wt)}}break;case 3:if(ro(l,s),Wo(s),v&4&&f!==null&&f.memoizedState.isDehydrated)try{is(l.containerInfo)}catch(wt){Qn(s,s.return,wt)}break;case 4:ro(l,s),Wo(s);break;case 13:ro(l,s),Wo(s),C=s.child,C.flags&8192&&(M=C.memoizedState!==null,C.stateNode.isHidden=M,!M||C.alternate!==null&&C.alternate.memoizedState!==null||(sg=Pn())),v&4&&Jy(s);break;case 22:if(nt=f!==null&&f.memoizedState!==null,s.mode&1?(ai=(We=ai)||nt,ro(l,s),ai=We):ro(l,s),Wo(s),v&8192){if(We=s.memoizedState!==null,(s.stateNode.isHidden=We)&&!nt&&(s.mode&1)!==0)for(gt=s,nt=s.child;nt!==null;){for(it=gt=nt;gt!==null;){switch(tt=gt,pt=tt.child,tt.tag){case 0:case 11:case 14:case 15:ch(4,tt,tt.return);break;case 1:Kc(tt,tt.return);var vt=tt.stateNode;if(typeof vt.componentWillUnmount=="function"){v=tt,f=tt.return;try{l=v,vt.props=l.memoizedProps,vt.state=l.memoizedState,vt.componentWillUnmount()}catch(wt){Qn(v,f,wt)}}break;case 5:Kc(tt,tt.return);break;case 22:if(tt.memoizedState!==null){tw(it);continue}}pt!==null?(pt.return=tt,gt=pt):tw(it)}nt=nt.sibling}e:for(nt=null,it=s;;){if(it.tag===5){if(nt===null){nt=it;try{C=it.stateNode,We?(M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(Ae=it.stateNode,ke=it.memoizedProps.style,te=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,Ae.style.display=bt("display",te))}catch(wt){Qn(s,s.return,wt)}}}else if(it.tag===6){if(nt===null)try{it.stateNode.nodeValue=We?"":it.memoizedProps}catch(wt){Qn(s,s.return,wt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===s)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===s)break e;for(;it.sibling===null;){if(it.return===null||it.return===s)break e;nt===it&&(nt=null),it=it.return}nt===it&&(nt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:ro(l,s),Wo(s),v&4&&Jy(s);break;case 21:break;default:ro(l,s),Wo(s)}}function Wo(s){var l=s.flags;if(l&2){try{e:{for(var f=s.return;f!==null;){if(Ky(f)){var v=f;break e}f=f.return}throw Error(t(160))}switch(v.tag){case 5:var C=v.stateNode;v.flags&32&&(At(C,""),v.flags&=-33);var M=Yy(s);ng(s,M,C);break;case 3:case 4:var te=v.stateNode.containerInfo,Ae=Yy(s);tg(s,Ae,te);break;default:throw Error(t(161))}}catch(ke){Qn(s,s.return,ke)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function v4(s,l,f){gt=s,Zy(s)}function Zy(s,l,f){for(var v=(s.mode&1)!==0;gt!==null;){var C=gt,M=C.child;if(C.tag===22&&v){var te=C.memoizedState!==null||kd;if(!te){var Ae=C.alternate,ke=Ae!==null&&Ae.memoizedState!==null||ai;Ae=kd;var We=ai;if(kd=te,(ai=ke)&&!We)for(gt=C;gt!==null;)te=gt,ke=te.child,te.tag===22&&te.memoizedState!==null?nw(C):ke!==null?(ke.return=te,gt=ke):nw(C);for(;M!==null;)gt=M,Zy(M),M=M.sibling;gt=C,kd=Ae,ai=We}ew(s)}else(C.subtreeFlags&8772)!==0&&M!==null?(M.return=C,gt=M):ew(s)}}function ew(s){for(;gt!==null;){var l=gt;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ai||Td(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!ai)if(f===null)v.componentDidMount();else{var C=l.elementType===l.type?f.memoizedProps:to(l.type,f.memoizedProps);v.componentDidUpdate(C,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var M=l.updateQueue;M!==null&&Oa(l,M,v);break;case 3:var te=l.updateQueue;if(te!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}Oa(l,te,f)}break;case 5:var Ae=l.stateNode;if(f===null&&l.flags&4){f=Ae;var ke=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&f.focus();break;case"img":ke.src&&(f.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var We=l.alternate;if(We!==null){var nt=We.memoizedState;if(nt!==null){var it=nt.dehydrated;it!==null&&is(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ai||l.flags&512&&eg(l)}catch(tt){Qn(l,l.return,tt)}}if(l===s){gt=null;break}if(f=l.sibling,f!==null){f.return=l.return,gt=f;break}gt=l.return}}function tw(s){for(;gt!==null;){var l=gt;if(l===s){gt=null;break}var f=l.sibling;if(f!==null){f.return=l.return,gt=f;break}gt=l.return}}function nw(s){for(;gt!==null;){var l=gt;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Td(4,l)}catch(ke){Qn(l,f,ke)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var C=l.return;try{v.componentDidMount()}catch(ke){Qn(l,C,ke)}}var M=l.return;try{eg(l)}catch(ke){Qn(l,M,ke)}break;case 5:var te=l.return;try{eg(l)}catch(ke){Qn(l,te,ke)}}}catch(ke){Qn(l,l.return,ke)}if(l===s){gt=null;break}var Ae=l.sibling;if(Ae!==null){Ae.return=l.return,gt=Ae;break}gt=l.return}}var y4=Math.ceil,Pd=H.ReactCurrentDispatcher,rg=H.ReactCurrentOwner,Ts=H.ReactCurrentBatchConfig,rn=0,Lr=null,vr=null,$r=0,hs=0,Yc=ls(0),xr=0,fh=null,zu=0,Ld=0,ig=0,hh=null,qi=null,sg=0,Xc=1/0,Ma=null,Rd=!1,og=null,Bl=null,Od=!1,Ul=null,Fd=0,dh=0,ag=null,Dd=-1,Md=0;function Ci(){return(rn&6)!==0?Pn():Dd!==-1?Dd:Dd=Pn()}function zl(s){return(s.mode&1)===0?1:(rn&2)!==0&&$r!==0?$r&-$r:mn.transition!==null?(Md===0&&(Md=vu()),Md):(s=tn,s!==0||(s=window.event,s=s===void 0?16:Su(s.type)),s)}function io(s,l,f,v){if(50<dh)throw dh=0,ag=null,Error(t(185));Ao(s,f,v),((rn&2)===0||s!==Lr)&&(s===Lr&&((rn&2)===0&&(Ld|=f),xr===4&&ql(s,$r)),Wi(s,v),f===1&&rn===0&&(l.mode&1)===0&&(Xc=Pn()+500,Mu&&U()))}function Wi(s,l){var f=s.callbackNode;Qr(s,l);var v=Jr(s,s===Lr?$r:0);if(v===0)f!==null&&aa(f),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(f!=null&&aa(f),l===1)s.tag===0?P(iw.bind(null,s)):w(iw.bind(null,s)),Dm(function(){(rn&6)===0&&U()}),f=null;else{switch(sl(v)){case 1:f=xo;break;case 4:f=mu;break;case 16:f=tl;break;case 536870912:f=xc;break;default:f=tl}f=hw(f,rw.bind(null,s))}s.callbackPriority=l,s.callbackNode=f}}function rw(s,l){if(Dd=-1,Md=0,(rn&6)!==0)throw Error(t(327));var f=s.callbackNode;if(Jc()&&s.callbackNode!==f)return null;var v=Jr(s,s===Lr?$r:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=jd(s,v);else{l=v;var C=rn;rn|=2;var M=ow();(Lr!==s||$r!==l)&&(Ma=null,Xc=Pn()+500,Wu(s,l));do try{b4();break}catch(Ae){sw(s,Ae)}while(!0);Sr(),Pd.current=M,rn=C,vr!==null?l=0:(Lr=null,$r=0,l=xr)}if(l!==0){if(l===2&&(C=fa(s),C!==0&&(v=C,l=lg(s,C))),l===1)throw f=fh,Wu(s,0),ql(s,v),Wi(s,Pn()),f;if(l===6)ql(s,v);else{if(C=s.current.alternate,(v&30)===0&&!w4(C)&&(l=jd(s,v),l===2&&(M=fa(s),M!==0&&(v=M,l=lg(s,M))),l===1))throw f=fh,Wu(s,0),ql(s,v),Wi(s,Pn()),f;switch(s.finishedWork=C,s.finishedLanes=v,l){case 0:case 1:throw Error(t(345));case 2:Hu(s,qi,Ma);break;case 3:if(ql(s,v),(v&130023424)===v&&(l=sg+500-Pn(),10<l)){if(Jr(s,0)!==0)break;if(C=s.suspendedLanes,(C&v)!==v){Ci(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=Zf(Hu.bind(null,s,qi,Ma),l);break}Hu(s,qi,Ma);break;case 4:if(ql(s,v),(v&4194240)===v)break;for(l=s.eventTimes,C=-1;0<v;){var te=31-yi(v);M=1<<te,te=l[te],te>C&&(C=te),v&=~M}if(v=C,v=Pn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*y4(v/1960))-v,10<v){s.timeoutHandle=Zf(Hu.bind(null,s,qi,Ma),v);break}Hu(s,qi,Ma);break;case 5:Hu(s,qi,Ma);break;default:throw Error(t(329))}}}return Wi(s,Pn()),s.callbackNode===f?rw.bind(null,s):null}function lg(s,l){var f=hh;return s.current.memoizedState.isDehydrated&&(Wu(s,l).flags|=256),s=jd(s,l),s!==2&&(l=qi,qi=f,l!==null&&ug(l)),s}function ug(s){qi===null?qi=s:qi.push.apply(qi,s)}function w4(s){for(var l=s;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var C=f[v],M=C.getSnapshot;C=C.value;try{if(!nn(M(),C))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ql(s,l){for(l&=~ig,l&=~Ld,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var f=31-yi(l),v=1<<f;s[f]=-1,l&=~v}}function iw(s){if((rn&6)!==0)throw Error(t(327));Jc();var l=Jr(s,0);if((l&1)===0)return Wi(s,Pn()),null;var f=jd(s,l);if(s.tag!==0&&f===2){var v=fa(s);v!==0&&(l=v,f=lg(s,v))}if(f===1)throw f=fh,Wu(s,0),ql(s,l),Wi(s,Pn()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Hu(s,qi,Ma),Wi(s,Pn()),null}function cg(s,l){var f=rn;rn|=1;try{return s(l)}finally{rn=f,rn===0&&(Xc=Pn()+500,Mu&&U())}}function qu(s){Ul!==null&&Ul.tag===0&&(rn&6)===0&&Jc();var l=rn;rn|=1;var f=Ts.transition,v=tn;try{if(Ts.transition=null,tn=1,s)return s()}finally{tn=v,Ts.transition=f,rn=l,(rn&6)===0&&U()}}function fg(){hs=Yc.current,un(Yc)}function Wu(s,l){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,gd(f)),vr!==null)for(f=vr.return;f!==null;){var v=f;switch(Te(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Dc();break;case 3:Is(),un(ri),un(br),oh();break;case 5:ih(v);break;case 4:Is();break;case 13:un(xn);break;case 19:un(xn);break;case 10:si(v.type._context);break;case 22:case 23:fg()}f=f.return}if(Lr=s,vr=s=Wl(s.current,null),$r=hs=l,xr=0,fh=null,ig=Ld=zu=0,qi=hh=null,xi!==null){for(l=0;l<xi.length;l++)if(f=xi[l],v=f.interleaved,v!==null){f.interleaved=null;var C=v.next,M=f.pending;if(M!==null){var te=M.next;M.next=C,v.next=te}f.pending=v}xi=null}return s}function sw(s,l){do{var f=vr;try{if(Sr(),jc.current=Ad,Fl){for(var v=Nn.memoizedState;v!==null;){var C=v.queue;C!==null&&(C.pending=null),v=v.next}Fl=!1}if(Cs=0,$n=Jn=Nn=null,Zs=!1,Dl=0,rg.current=null,f===null||f.return===null){xr=1,fh=l,vr=null;break}e:{var M=s,te=f.return,Ae=f,ke=l;if(l=$r,Ae.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var We=ke,nt=Ae,it=nt.tag;if((nt.mode&1)===0&&(it===0||it===11||it===15)){var tt=nt.alternate;tt?(nt.updateQueue=tt.updateQueue,nt.memoizedState=tt.memoizedState,nt.lanes=tt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var pt=Ty(te);if(pt!==null){pt.flags&=-257,Py(pt,te,Ae,M,l),pt.mode&1&&ky(M,We,l),l=pt,ke=We;var vt=l.updateQueue;if(vt===null){var wt=new Set;wt.add(ke),l.updateQueue=wt}else vt.add(ke);break e}else{if((l&1)===0){ky(M,We,l),hg();break e}ke=Error(t(426))}}else if(Ge&&Ae.mode&1){var ar=Ty(te);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),Py(ar,te,Ae,M,l),cn(Gc(ke,Ae));break e}}M=ke=Gc(ke,Ae),xr!==4&&(xr=2),hh===null?hh=[M]:hh.push(M),M=te;do{switch(M.tag){case 3:M.flags|=65536,l&=-l,M.lanes|=l;var Be=Iy(M,ke,l);Ui(M,Be);break e;case 1:Ae=ke;var Le=M.type,ze=M.stateNode;if((M.flags&128)===0&&(typeof Le.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Bl===null||!Bl.has(ze)))){M.flags|=65536,l&=-l,M.lanes|=l;var at=Cy(M,Ae,l);Ui(M,at);break e}}M=M.return}while(M!==null)}lw(f)}catch(_t){l=_t,vr===f&&f!==null&&(vr=f=f.return);continue}break}while(!0)}function ow(){var s=Pd.current;return Pd.current=Ad,s===null?Ad:s}function hg(){(xr===0||xr===3||xr===2)&&(xr=4),Lr===null||(zu&268435455)===0&&(Ld&268435455)===0||ql(Lr,$r)}function jd(s,l){var f=rn;rn|=2;var v=ow();(Lr!==s||$r!==l)&&(Ma=null,Wu(s,l));do try{_4();break}catch(C){sw(s,C)}while(!0);if(Sr(),rn=f,Pd.current=v,vr!==null)throw Error(t(261));return Lr=null,$r=0,xr}function _4(){for(;vr!==null;)aw(vr)}function b4(){for(;vr!==null&&!el();)aw(vr)}function aw(s){var l=fw(s.alternate,s,hs);s.memoizedProps=s.pendingProps,l===null?lw(s):vr=l,rg.current=null}function lw(s){var l=s;do{var f=l.alternate;if(s=l.return,(l.flags&32768)===0){if(f=d4(f,l,hs),f!==null){vr=f;return}}else{if(f=p4(f,l),f!==null){f.flags&=32767,vr=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{xr=6,vr=null;return}}if(l=l.sibling,l!==null){vr=l;return}vr=l=s}while(l!==null);xr===0&&(xr=5)}function Hu(s,l,f){var v=tn,C=Ts.transition;try{Ts.transition=null,tn=1,S4(s,l,f,v)}finally{Ts.transition=C,tn=v}return null}function S4(s,l,f,v){do Jc();while(Ul!==null);if((rn&6)!==0)throw Error(t(327));f=s.finishedWork;var C=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var M=f.lanes|f.childLanes;if(Yf(s,M),s===Lr&&(vr=Lr=null,$r=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Od||(Od=!0,hw(tl,function(){return Jc(),null})),M=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||M){M=Ts.transition,Ts.transition=null;var te=tn;tn=1;var Ae=rn;rn|=4,rg.current=null,g4(s,f),Qy(f,s),Ea(ka),ul=!!Fu,ka=Fu=null,s.current=f,v4(f),Sc(),rn=Ae,tn=te,Ts.transition=M}else s.current=f;if(Od&&(Od=!1,Ul=s,Fd=C),M=s.pendingLanes,M===0&&(Bl=null),nl(f.stateNode),Wi(s,Pn()),l!==null)for(v=s.onRecoverableError,f=0;f<l.length;f++)C=l[f],v(C.value,{componentStack:C.stack,digest:C.digest});if(Rd)throw Rd=!1,s=og,og=null,s;return(Fd&1)!==0&&s.tag!==0&&Jc(),M=s.pendingLanes,(M&1)!==0?s===ag?dh++:(dh=0,ag=s):dh=0,U(),null}function Jc(){if(Ul!==null){var s=sl(Fd),l=Ts.transition,f=tn;try{if(Ts.transition=null,tn=16>s?16:s,Ul===null)var v=!1;else{if(s=Ul,Ul=null,Fd=0,(rn&6)!==0)throw Error(t(331));var C=rn;for(rn|=4,gt=s.current;gt!==null;){var M=gt,te=M.child;if((gt.flags&16)!==0){var Ae=M.deletions;if(Ae!==null){for(var ke=0;ke<Ae.length;ke++){var We=Ae[ke];for(gt=We;gt!==null;){var nt=gt;switch(nt.tag){case 0:case 11:case 15:ch(8,nt,M)}var it=nt.child;if(it!==null)it.return=nt,gt=it;else for(;gt!==null;){nt=gt;var tt=nt.sibling,pt=nt.return;if(Gy(nt),nt===We){gt=null;break}if(tt!==null){tt.return=pt,gt=tt;break}gt=pt}}}var vt=M.alternate;if(vt!==null){var wt=vt.child;if(wt!==null){vt.child=null;do{var ar=wt.sibling;wt.sibling=null,wt=ar}while(wt!==null)}}gt=M}}if((M.subtreeFlags&2064)!==0&&te!==null)te.return=M,gt=te;else e:for(;gt!==null;){if(M=gt,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:ch(9,M,M.return)}var Be=M.sibling;if(Be!==null){Be.return=M.return,gt=Be;break e}gt=M.return}}var Le=s.current;for(gt=Le;gt!==null;){te=gt;var ze=te.child;if((te.subtreeFlags&2064)!==0&&ze!==null)ze.return=te,gt=ze;else e:for(te=Le;gt!==null;){if(Ae=gt,(Ae.flags&2048)!==0)try{switch(Ae.tag){case 0:case 11:case 15:Td(9,Ae)}}catch(_t){Qn(Ae,Ae.return,_t)}if(Ae===te){gt=null;break e}var at=Ae.sibling;if(at!==null){at.return=Ae.return,gt=at;break e}gt=Ae.return}}if(rn=C,U(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(la,s)}catch{}v=!0}return v}finally{tn=f,Ts.transition=l}}return!1}function uw(s,l,f){l=Gc(f,l),l=Iy(s,l,1),s=Bi(s,l,1),l=Ci(),s!==null&&(Ao(s,1,l),Wi(s,l))}function Qn(s,l,f){if(s.tag===3)uw(s,s,f);else for(;l!==null;){if(l.tag===3){uw(l,s,f);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Bl===null||!Bl.has(v))){s=Gc(f,s),s=Cy(l,s,1),l=Bi(l,s,1),s=Ci(),l!==null&&(Ao(l,1,s),Wi(l,s));break}}l=l.return}}function x4(s,l,f){var v=s.pingCache;v!==null&&v.delete(l),l=Ci(),s.pingedLanes|=s.suspendedLanes&f,Lr===s&&($r&f)===f&&(xr===4||xr===3&&($r&130023424)===$r&&500>Pn()-sg?Wu(s,0):ig|=f),Wi(s,l)}function cw(s,l){l===0&&((s.mode&1)===0?l=1:(l=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var f=Ci();s=on(s,l),s!==null&&(Ao(s,l,f),Wi(s,f))}function E4(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),cw(s,f)}function A4(s,l){var f=0;switch(s.tag){case 13:var v=s.stateNode,C=s.memoizedState;C!==null&&(f=C.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(l),cw(s,f)}var fw;fw=function(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps||ri.current)zi=!0;else{if((s.lanes&f)===0&&(l.flags&128)===0)return zi=!1,h4(s,l,f);zi=(s.flags&131072)!==0}else zi=!1,Ge&&(l.flags&1048576)!==0&&Je(l,ue,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Cd(s,l),s=l.pendingProps;var C=Pl(l,br.current);Dn(l,f),C=ju(null,l,v,s,C,f);var M=ks();return l.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ii(v)?(M=!0,La(l)):M=!1,l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Mc(l),C.updater=Nd,l.stateNode=C,C._reactInternals=l,Wm(l,v,s,f),l=Gm(null,l,v,!0,M,f)):(l.tag=0,Ge&&M&&He(l),Ii(null,l,C,f),l=l.child),l;case 16:v=l.elementType;e:{switch(Cd(s,l),s=l.pendingProps,C=v._init,v=C(v._payload),l.type=v,C=l.tag=I4(v),s=to(v,s),C){case 0:l=$m(null,l,v,s,f);break e;case 1:l=My(null,l,v,s,f);break e;case 11:l=Ly(null,l,v,s,f);break e;case 14:l=Ry(null,l,v,to(v.type,s),f);break e}throw Error(t(306,v,""))}return l;case 0:return v=l.type,C=l.pendingProps,C=l.elementType===v?C:to(v,C),$m(s,l,v,C,f);case 1:return v=l.type,C=l.pendingProps,C=l.elementType===v?C:to(v,C),My(s,l,v,C,f);case 3:e:{if(jy(l),s===null)throw Error(t(387));v=l.pendingProps,M=l.memoizedState,C=M.element,rh(s,l),Js(l,v,null,f);var te=l.memoizedState;if(v=te.element,M.isDehydrated)if(M={element:v,isDehydrated:!1,cache:te.cache,pendingSuspenseBoundaries:te.pendingSuspenseBoundaries,transitions:te.transitions},l.updateQueue.baseState=M,l.memoizedState=M,l.flags&256){C=Gc(Error(t(423)),l),l=By(s,l,v,f,C);break e}else if(v!==C){C=Gc(Error(t(424)),l),l=By(s,l,v,f,C);break e}else for(Ke=Wr(l.stateNode.containerInfo.firstChild),Pe=l,Ge=!0,Ye=null,f=sn(l,null,v,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(zt(),v===C){l=Da(s,l,f);break e}Ii(s,l,v,f)}l=l.child}return l;case 5:return _d(l),s===null&&ft(l),v=l.type,C=l.pendingProps,M=s!==null?s.memoizedProps:null,te=C.children,Qf(v,C)?te=null:M!==null&&Qf(v,M)&&(l.flags|=32),Dy(s,l),Ii(s,l,te,f),l.child;case 6:return s===null&&ft(l),null;case 13:return Uy(s,l,f);case 4:return Ol(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=ir(l,null,v,f):Ii(s,l,v,f),l.child;case 11:return v=l.type,C=l.pendingProps,C=l.elementType===v?C:to(v,C),Ly(s,l,v,C,f);case 7:return Ii(s,l,l.pendingProps,f),l.child;case 8:return Ii(s,l,l.pendingProps.children,f),l.child;case 12:return Ii(s,l,l.pendingProps.children,f),l.child;case 10:e:{if(v=l.type._context,C=l.pendingProps,M=l.memoizedProps,te=C.value,pn(Tr,v._currentValue),v._currentValue=te,M!==null)if(nn(M.value,te)){if(M.children===C.children&&!ri.current){l=Da(s,l,f);break e}}else for(M=l.child,M!==null&&(M.return=l);M!==null;){var Ae=M.dependencies;if(Ae!==null){te=M.child;for(var ke=Ae.firstContext;ke!==null;){if(ke.context===v){if(M.tag===1){ke=ji(-1,f&-f),ke.tag=2;var We=M.updateQueue;if(We!==null){We=We.shared;var nt=We.pending;nt===null?ke.next=ke:(ke.next=nt.next,nt.next=ke),We.pending=ke}}M.lanes|=f,ke=M.alternate,ke!==null&&(ke.lanes|=f),Mi(M.return,f,l),Ae.lanes|=f;break}ke=ke.next}}else if(M.tag===10)te=M.type===l.type?null:M.child;else if(M.tag===18){if(te=M.return,te===null)throw Error(t(341));te.lanes|=f,Ae=te.alternate,Ae!==null&&(Ae.lanes|=f),Mi(te,f,l),te=M.sibling}else te=M.child;if(te!==null)te.return=M;else for(te=M;te!==null;){if(te===l){te=null;break}if(M=te.sibling,M!==null){M.return=te.return,te=M;break}te=te.return}M=te}Ii(s,l,C.children,f),l=l.child}return l;case 9:return C=l.type,v=l.pendingProps.children,Dn(l,f),C=Xn(C),v=v(C),l.flags|=1,Ii(s,l,v,f),l.child;case 14:return v=l.type,C=to(v,l.pendingProps),C=to(v.type,C),Ry(s,l,v,C,f);case 15:return Oy(s,l,l.type,l.pendingProps,f);case 17:return v=l.type,C=l.pendingProps,C=l.elementType===v?C:to(v,C),Cd(s,l),l.tag=1,ii(v)?(s=!0,La(l)):s=!1,Dn(l,f),Ay(l,v,C),Wm(l,v,C,f),Gm(null,l,v,!0,s,f);case 19:return qy(s,l,f);case 22:return Fy(s,l,f)}throw Error(t(156,l.tag))};function hw(s,l){return oa(s,l)}function N4(s,l,f,v){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(s,l,f,v){return new N4(s,l,f,v)}function dg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function I4(s){if(typeof s=="function")return dg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===me)return 14}return 2}function Wl(s,l){var f=s.alternate;return f===null?(f=Ps(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Bd(s,l,f,v,C,M){var te=2;if(v=s,typeof s=="function")dg(s)&&(te=1);else if(typeof s=="string")te=5;else e:switch(s){case ce:return Vu(f.children,C,M,l);case oe:te=8,C|=8;break;case z:return s=Ps(12,f,l,C|2),s.elementType=z,s.lanes=M,s;case ee:return s=Ps(13,f,l,C),s.elementType=ee,s.lanes=M,s;case F:return s=Ps(19,f,l,C),s.elementType=F,s.lanes=M,s;case pe:return Ud(f,C,M,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ee:te=10;break e;case Q:te=9;break e;case B:te=11;break e;case me:te=14;break e;case Ne:te=16,v=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return l=Ps(te,f,l,C),l.elementType=s,l.type=v,l.lanes=M,l}function Vu(s,l,f,v){return s=Ps(7,s,v,l),s.lanes=f,s}function Ud(s,l,f,v){return s=Ps(22,s,v,l),s.elementType=pe,s.lanes=f,s.stateNode={isHidden:!1},s}function pg(s,l,f){return s=Ps(6,s,null,l),s.lanes=f,s}function mg(s,l,f){return l=Ps(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function C4(s,l,f,v,C){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=v,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function gg(s,l,f,v,C,M,te,Ae,ke){return s=new C4(s,l,f,Ae,ke),l===1?(l=1,M===!0&&(l|=8)):l=0,M=Ps(3,null,null,l),s.current=M,M.stateNode=s,M.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(M),s}function k4(s,l,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:v==null?null:""+v,children:s,containerInfo:l,implementation:f}}function dw(s){if(!s)return Bo;s=s._reactInternals;e:{if(wr(s)!==s||s.tag!==1)throw Error(t(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ii(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(ii(f))return nh(s,f,l)}return l}function pw(s,l,f,v,C,M,te,Ae,ke){return s=gg(f,v,!0,s,C,M,te,Ae,ke),s.context=dw(null),f=s.current,v=Ci(),C=zl(f),M=ji(v,C),M.callback=l??null,Bi(f,M,C),s.current.lanes=C,Ao(s,C,v),Wi(s,v),s}function zd(s,l,f,v){var C=l.current,M=Ci(),te=zl(C);return f=dw(f),l.context===null?l.context=f:l.pendingContext=f,l=ji(M,te),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=Bi(C,l,te),s!==null&&(io(s,C,te,M),Ra(s,C,te)),te}function qd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function mw(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function vg(s,l){mw(s,l),(s=s.alternate)&&mw(s,l)}function T4(){return null}var gw=typeof reportError=="function"?reportError:function(s){console.error(s)};function yg(s){this._internalRoot=s}Wd.prototype.render=yg.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(t(409));zd(s,l,null,null)},Wd.prototype.unmount=yg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;qu(function(){zd(null,s,null,null)}),l[kr]=null}};function Wd(s){this._internalRoot=s}Wd.prototype.unstable_scheduleHydration=function(s){if(s){var l=gs();s={blockedOn:null,target:s,priority:l};for(var f=0;f<ys.length&&l!==0&&l<ys[f].priority;f++);ys.splice(f,0,s),f===0&&al(s)}};function wg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function vw(){}function P4(s,l,f,v,C){if(C){if(typeof v=="function"){var M=v;v=function(){var We=qd(te);M.call(We)}}var te=pw(l,v,s,0,null,!1,!1,"",vw);return s._reactRootContainer=te,s[kr]=te.current,Ia(s.nodeType===8?s.parentNode:s),qu(),te}for(;C=s.lastChild;)s.removeChild(C);if(typeof v=="function"){var Ae=v;v=function(){var We=qd(ke);Ae.call(We)}}var ke=gg(s,0,!1,null,null,!1,!1,"",vw);return s._reactRootContainer=ke,s[kr]=ke.current,Ia(s.nodeType===8?s.parentNode:s),qu(function(){zd(l,ke,f,v)}),ke}function Vd(s,l,f,v,C){var M=f._reactRootContainer;if(M){var te=M;if(typeof C=="function"){var Ae=C;C=function(){var ke=qd(te);Ae.call(ke)}}zd(l,te,s,C)}else te=P4(f,l,s,C,v);return qd(te)}Nc=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var f=ca(l.pendingLanes);f!==0&&(il(l,f|1),Wi(l,Pn()),(rn&6)===0&&(Xc=Pn()+500,U()))}break;case 13:qu(function(){var v=on(s,1);if(v!==null){var C=Ci();io(v,s,1,C)}}),vg(s,1)}},wu=function(s){if(s.tag===13){var l=on(s,134217728);if(l!==null){var f=Ci();io(l,s,134217728,f)}vg(s,134217728)}},Ic=function(s){if(s.tag===13){var l=zl(s),f=on(s,l);if(f!==null){var v=Ci();io(f,s,l,v)}vg(s,l)}},gs=function(){return tn},ha=function(s,l){var f=tn;try{return tn=s,l()}finally{tn=f}},_n=function(s,l,f){switch(l){case"input":if(b(s,f),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var v=f[l];if(v!==s&&v.form===s.form){var C=Du(v);if(!C)throw Error(t(90));ie(v),b(v,C)}}}break;case"textarea":qe(s,f);break;case"select":l=f.value,l!=null&&ve(s,!!f.multiple,l,!1)}},_o=cg,mr=qu;var L4={usingClientEntryPoint:!1,Events:[Tl,Ta,Du,Ot,en,cg]},ph={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R4={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=So(s),s===null?null:s.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||T4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{la=$d.inject(R4),Pi=$d}catch{}}return Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L4,Hi.createPortal=function(s,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(l))throw Error(t(200));return k4(s,l,null,f)},Hi.createRoot=function(s,l){if(!wg(s))throw Error(t(299));var f=!1,v="",C=gw;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=gg(s,1,!1,null,null,f,!1,v,C),s[kr]=l.current,Ia(s.nodeType===8?s.parentNode:s),new yg(l)},Hi.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=So(l),s=s===null?null:s.stateNode,s},Hi.flushSync=function(s){return qu(s)},Hi.hydrate=function(s,l,f){if(!Hd(l))throw Error(t(200));return Vd(null,s,l,!0,f)},Hi.hydrateRoot=function(s,l,f){if(!wg(s))throw Error(t(405));var v=f!=null&&f.hydratedSources||null,C=!1,M="",te=gw;if(f!=null&&(f.unstable_strictMode===!0&&(C=!0),f.identifierPrefix!==void 0&&(M=f.identifierPrefix),f.onRecoverableError!==void 0&&(te=f.onRecoverableError)),l=pw(l,null,s,1,f??null,C,!1,M,te),s[kr]=l.current,Ia(s),v)for(s=0;s<v.length;s++)f=v[s],C=f._getVersion,C=C(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,C]:l.mutableSourceEagerHydrationData.push(f,C);return new Wd(l)},Hi.render=function(s,l,f){if(!Hd(l))throw Error(t(200));return Vd(null,s,l,!1,f)},Hi.unmountComponentAtNode=function(s){if(!Hd(s))throw Error(t(40));return s._reactRootContainer?(qu(function(){Vd(null,null,s,!1,function(){s._reactRootContainer=null,s[kr]=null})}),!0):!1},Hi.unstable_batchedUpdates=cg,Hi.unstable_renderSubtreeIntoContainer=function(s,l,f,v){if(!Hd(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Vd(s,l,f,!1,v)},Hi.version="18.3.1-next-f1338f8080-20240426",Hi}var Aw;function q4(){if(Aw)return Sg.exports;Aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sg.exports=z4(),Sg.exports}var Nw;function W4(){if(Nw)return Kd;Nw=1;var n=q4();return Kd.createRoot=n.createRoot,Kd.hydrateRoot=n.hydrateRoot,Kd}var H4=W4(),gh={},Iw;function V4(){if(Iw)return gh;Iw=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.parse=a,gh.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,p){const E=new o,S=y.length;if(S<2)return E;const k=(p==null?void 0:p.decode)||m;let _=0;do{const T=y.indexOf("=",_);if(T===-1)break;const j=y.indexOf(";",_),H=j===-1?S:j;if(T>H){_=y.lastIndexOf(";",T-1)+1;continue}const X=u(y,_,T),we=c(y,T,X),ce=y.slice(X,we);if(E[ce]===void 0){let oe=u(y,T+1,H),z=c(y,H,oe);const Ee=k(y.slice(oe,z));E[ce]=Ee}_=H+1}while(_<S);return E}function u(y,p,E){do{const S=y.charCodeAt(p);if(S!==32&&S!==9)return p}while(++p<E);return E}function c(y,p,E){for(;p>E;){const S=y.charCodeAt(--p);if(S!==32&&S!==9)return p+1}return E}function h(y,p,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const k=S(p);if(!e.test(k))throw new TypeError(`argument val is invalid: ${p}`);let _=y+"="+k;if(!E)return _;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);_+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);_+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);_+="; Path="+E.path}if(E.expires){if(!g(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);_+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(_+="; HttpOnly"),E.secure&&(_+="; Secure"),E.partitioned&&(_+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return _}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return gh}V4();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cw="popstate";function $4(n={}){function e(i,o){let{pathname:a="/",search:u="",hash:c=""}=pc(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),V1("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let a=i.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let c=i.location.href,h=c.indexOf("#");u=h===-1?c:c.slice(0,h)}return u+"#"+(typeof o=="string"?o:jh(o))}function r(i,o){Fs(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return K4(e,t,r,n)}function Wn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G4(){return Math.random().toString(36).substring(2,10)}function kw(n,e){return{usr:n.state,key:n.key,idx:e}}function V1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pc(e):e,state:t,key:e&&e.key||r||G4()}}function jh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function K4(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u="POP",c=null,h=m();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function m(){return(a.state||{idx:null}).idx}function g(){u="POP";let k=m(),_=k==null?null:k-h;h=k,c&&c({action:u,location:S.location,delta:_})}function y(k,_){u="PUSH";let T=V1(S.location,k,_);t&&t(T,k),h=m()+1;let j=kw(T,h),H=S.createHref(T);try{a.pushState(j,"",H)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(H)}o&&c&&c({action:u,location:S.location,delta:1})}function p(k,_){u="REPLACE";let T=V1(S.location,k,_);t&&t(T,k),h=m();let j=kw(T,h),H=S.createHref(T);a.replaceState(j,"",H),o&&c&&c({action:u,location:S.location,delta:0})}function E(k){let _=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof k=="string"?k:jh(k);return T=T.replace(/ $/,"%20"),Wn(_,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,_)}let S={get action(){return u},get location(){return n(i,a)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Cw,g),c=k,()=>{i.removeEventListener(Cw,g),c=null}},createHref(k){return e(i,k)},createURL:E,encodeLocation(k){let _=E(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:p,go(k){return a.go(k)}};return S}function M2(n,e,t="/"){return Y4(n,e,t,!1)}function Y4(n,e,t,r){let i=typeof e=="string"?pc(e):e,o=ru(i.pathname||"/",t);if(o==null)return null;let a=j2(n);X4(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let h=a3(o);u=s3(a[c],h,r)}return u}function j2(n,e=[],t=[],r=""){let i=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Wn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=Va([r,c.relativePath]),m=t.concat(c);o.children&&o.children.length>0&&(Wn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),j2(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:r3(h,o.index),routesMeta:m})};return n.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of B2(o.path))i(o,a,c)}),e}function B2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=B2(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function X4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:i3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var J4=/^:[\w-]+$/,Q4=3,Z4=2,e3=1,t3=10,n3=-2,Tw=n=>n==="*";function r3(n,e){let t=n.split("/"),r=t.length;return t.some(Tw)&&(r+=n3),e&&(r+=Z4),t.filter(i=>!Tw(i)).reduce((i,o)=>i+(J4.test(o)?Q4:o===""?e3:t3),r)}function i3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function s3(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),y=c.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Va([o,g.pathname]),pathnameBase:f3(Va([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Va([o,g.pathnameBase]))}return a}function Ip(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=o3(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},y)=>{if(m==="*"){let E=u[y]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const p=u[y];return g&&!p?h[m]=void 0:h[m]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:n}}function o3(n,e=!1,t=!0){Fs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function a3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ru(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function l3(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?pc(n):n;return{pathname:t?t.startsWith("/")?t:u3(t,e):e,search:h3(r),hash:d3(i)}}function u3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ag(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j0(n){let e=c3(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function B0(n,e,t,r=!1){let i;typeof n=="string"?i=pc(n):(i={...n},Wn(!i.pathname||!i.pathname.includes("?"),Ag("?","pathname","search",i)),Wn(!i.pathname||!i.pathname.includes("#"),Ag("#","pathname","hash",i)),Wn(!i.search||!i.search.includes("#"),Ag("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let c=l3(i,u),h=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}var Va=n=>n.join("/").replace(/\/\/+/g,"/"),f3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function p3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var U2=["POST","PUT","PATCH","DELETE"];new Set(U2);var m3=["GET",...U2];new Set(m3);var Df=De.createContext(null);Df.displayName="DataRouter";var sm=De.createContext(null);sm.displayName="DataRouterState";var z2=De.createContext({isTransitioning:!1});z2.displayName="ViewTransition";var g3=De.createContext(new Map);g3.displayName="Fetchers";var v3=De.createContext(null);v3.displayName="Await";var vo=De.createContext(null);vo.displayName="Navigation";var Qh=De.createContext(null);Qh.displayName="Location";var na=De.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var U0=De.createContext(null);U0.displayName="RouteError";function y3(n,{relative:e}={}){Wn(Mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=De.useContext(vo),{hash:i,pathname:o,search:a}=ed(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Va([t,o])),r.createHref({pathname:u,search:a,hash:i})}function Mf(){return De.useContext(Qh)!=null}function cu(){return Wn(Mf(),"useLocation() may be used only in the context of a <Router> component."),De.useContext(Qh).location}var q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W2(n){De.useContext(vo).static||De.useLayoutEffect(n)}function Zh(){let{isDataRoute:n}=De.useContext(na);return n?P3():w3()}function w3(){Wn(Mf(),"useNavigate() may be used only in the context of a <Router> component.");let n=De.useContext(Df),{basename:e,navigator:t}=De.useContext(vo),{matches:r}=De.useContext(na),{pathname:i}=cu(),o=JSON.stringify(j0(r)),a=De.useRef(!1);return W2(()=>{a.current=!0}),De.useCallback((c,h={})=>{if(Fs(a.current,q2),!a.current)return;if(typeof c=="number"){t.go(c);return}let m=B0(c,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Va([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,i,n])}De.createContext(null);function ed(n,{relative:e}={}){let{matches:t}=De.useContext(na),{pathname:r}=cu(),i=JSON.stringify(j0(t));return De.useMemo(()=>B0(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function _3(n,e){return H2(n,e)}function H2(n,e,t,r){var T;Wn(Mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=De.useContext(vo),{matches:a}=De.useContext(na),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";V2(h,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=cu(),p;if(e){let j=typeof e=="string"?pc(e):e;Wn(m==="/"||((T=j.pathname)==null?void 0:T.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),p=j}else p=y;let E=p.pathname||"/",S=E;if(m!=="/"){let j=m.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=!o&&t&&t.matches&&t.matches.length>0?t.matches:M2(n,{pathname:S});Fs(g||k!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Fs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=A3(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Va([m,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Va([m,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,t,r);return e&&_?De.createElement(Qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function b3(){let n=T3(),e=p3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=De.createElement(De.Fragment,null,De.createElement("p",null,"💿 Hey developer 👋"),De.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",De.createElement("code",{style:o},"ErrorBoundary")," or"," ",De.createElement("code",{style:o},"errorElement")," prop on your route.")),De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},e),t?De.createElement("pre",{style:i},t):null,a)}var S3=De.createElement(b3,null),x3=class extends De.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?De.createElement(na.Provider,{value:this.props.routeContext},De.createElement(U0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E3({routeContext:n,match:e,children:t}){let r=De.useContext(Df);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),De.createElement(na.Provider,{value:n},t)}function A3(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let c=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Wn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:m,errors:g}=t,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,m)=>{let g,y=!1,p=null,E=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||S3,a&&(u<0&&m===0?(V2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):u===m&&(y=!0,E=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),k=()=>{let _;return g?_=p:y?_=E:h.route.Component?_=De.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=c,De.createElement(E3,{match:h,routeContext:{outlet:c,matches:S,isDataRoute:t!=null},children:_})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?De.createElement(x3,{location:t.location,revalidation:t.revalidation,component:p,error:g,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function z0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N3(n){let e=De.useContext(Df);return Wn(e,z0(n)),e}function I3(n){let e=De.useContext(sm);return Wn(e,z0(n)),e}function C3(n){let e=De.useContext(na);return Wn(e,z0(n)),e}function q0(n){let e=C3(n),t=e.matches[e.matches.length-1];return Wn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function k3(){return q0("useRouteId")}function T3(){var r;let n=De.useContext(U0),e=I3("useRouteError"),t=q0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function P3(){let{router:n}=N3("useNavigate"),e=q0("useNavigate"),t=De.useRef(!1);return W2(()=>{t.current=!0}),De.useCallback(async(i,o={})=>{Fs(t.current,q2),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Pw={};function V2(n,e,t){!e&&!Pw[n]&&(Pw[n]=!0,Fs(!1,t))}De.memo(L3);function L3({routes:n,future:e,state:t}){return H2(n,void 0,t,e)}function $2({to:n,replace:e,state:t,relative:r}){Wn(Mf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=De.useContext(vo);Fs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=De.useContext(na),{pathname:a}=cu(),u=Zh(),c=B0(n,j0(o),a,r==="path"),h=JSON.stringify(c);return De.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function sf(n){Wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R3({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Wn(!Mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=De.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof t=="string"&&(t=pc(t));let{pathname:c="/",search:h="",hash:m="",state:g=null,key:y="default"}=t,p=De.useMemo(()=>{let E=ru(c,a);return E==null?null:{location:{pathname:E,search:h,hash:m,state:g,key:y},navigationType:r}},[a,c,h,m,g,y,r]);return Fs(p!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:De.createElement(vo.Provider,{value:u},De.createElement(Qh.Provider,{children:e,value:p}))}function O3({children:n,location:e}){return _3($1(n),e)}function $1(n,e=[]){let t=[];return De.Children.forEach(n,(r,i)=>{if(!De.isValidElement(r))return;let o=[...e,i];if(r.type===De.Fragment){t.push.apply(t,$1(r.props.children,o));return}Wn(r.type===sf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$1(r.props.children,o)),t.push(a)}),t}var dp="get",pp="application/x-www-form-urlencoded";function om(n){return n!=null&&typeof n.tagName=="string"}function F3(n){return om(n)&&n.tagName.toLowerCase()==="button"}function D3(n){return om(n)&&n.tagName.toLowerCase()==="form"}function M3(n){return om(n)&&n.tagName.toLowerCase()==="input"}function j3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function B3(n,e){return n.button===0&&(!e||e==="_self")&&!j3(n)}var Yd=null;function U3(){if(Yd===null)try{new FormData(document.createElement("form"),0),Yd=!1}catch{Yd=!0}return Yd}var z3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(n){return n!=null&&!z3.has(n)?(Fs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pp}"`),null):n}function q3(n,e){let t,r,i,o,a;if(D3(n)){let u=n.getAttribute("action");r=u?ru(u,e):null,t=n.getAttribute("method")||dp,i=Ng(n.getAttribute("enctype"))||pp,o=new FormData(n)}else if(F3(n)||M3(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?ru(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||dp,i=Ng(n.getAttribute("formenctype"))||Ng(u.getAttribute("enctype"))||pp,o=new FormData(u,n),!U3()){let{name:h,type:m,value:g}=n;if(m==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,g)}}else{if(om(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dp,r=null,i=pp,a=n}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:a}}function W0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function W3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function V3(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await W3(o,t);return a.links?a.links():[]}return[]}));return Y3(r.flat(1).filter(H3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lw(n,e,t,r,i,o){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var m;return t[h].pathname!==c.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,h)=>a(c,h)||u(c,h)):o==="data"?e.filter((c,h)=>{var g;let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(a(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function $3(n,e,{includeHydrateFallback:t}={}){return G3(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function G3(n){return[...new Set(n)]}function K3(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Y3(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(K3(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function X3(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function J3(){let n=De.useContext(Df);return W0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Q3(){let n=De.useContext(sm);return W0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var H0=De.createContext(void 0);H0.displayName="FrameworkContext";function G2(){let n=De.useContext(H0);return W0(n,"You must render this element inside a <HydratedRouter> element"),n}function Z3(n,e){let t=De.useContext(H0),[r,i]=De.useState(!1),[o,a]=De.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,y=De.useRef(null);De.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=_=>{_.forEach(T=>{a(T.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[n]),De.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let p=()=>{i(!0)},E=()=>{i(!1),a(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:vh(u,p),onBlur:vh(c,E),onMouseEnter:vh(h,p),onMouseLeave:vh(m,E),onTouchStart:vh(g,p)}]:[!1,y,{}]}function vh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eA({page:n,...e}){let{router:t}=J3(),r=De.useMemo(()=>M2(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?De.createElement(nA,{page:n,matches:r,...e}):null}function tA(n){let{manifest:e,routeModules:t}=G2(),[r,i]=De.useState([]);return De.useEffect(()=>{let o=!1;return V3(n,e,t).then(a=>{o||i(a)}),()=>{o=!0}},[n,e,t]),r}function nA({page:n,matches:e,...t}){let r=cu(),{manifest:i,routeModules:o}=G2(),{loaderData:a,matches:u}=Q3(),c=De.useMemo(()=>Lw(n,e,u,i,r,"data"),[n,e,u,i,r]),h=De.useMemo(()=>Lw(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=De.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let p=new Set,E=!1;if(e.forEach(k=>{var T;let _=i.routes[k.route.id];!_||!_.hasLoader||(!c.some(j=>j.route.id===k.route.id)&&k.route.id in a&&((T=o[k.route.id])!=null&&T.shouldRevalidate)||_.hasClientLoader?E=!0:p.add(k.route.id))}),p.size===0)return[];let S=X3(n);return E&&p.size>0&&S.searchParams.set("_routes",e.filter(k=>p.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[a,r,i,c,e,n,o]),g=De.useMemo(()=>$3(h,i),[h,i]),y=tA(h);return De.createElement(De.Fragment,null,m.map(p=>De.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),g.map(p=>De.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),y.map(({key:p,link:E})=>De.createElement("link",{key:p,...E})))}function rA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var K2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{K2&&(window.__reactRouterVersion="7.2.0")}catch{}function iA({basename:n,children:e,window:t}){let r=De.useRef();r.current==null&&(r.current=$4({window:t,v5Compat:!0}));let i=r.current,[o,a]=De.useState({action:i.action,location:i.location}),u=De.useCallback(c=>{De.startTransition(()=>a(c))},[a]);return De.useLayoutEffect(()=>i.listen(u),[i,u]),De.createElement(R3,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nf=De.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:u,target:c,to:h,preventScrollReset:m,viewTransition:g,...y},p){let{basename:E}=De.useContext(vo),S=typeof h=="string"&&Y2.test(h),k,_=!1;if(typeof h=="string"&&S&&(k=h,K2))try{let z=new URL(window.location.href),Ee=h.startsWith("//")?new URL(z.protocol+h):new URL(h),Q=ru(Ee.pathname,E);Ee.origin===z.origin&&Q!=null?h=Q+Ee.search+Ee.hash:_=!0}catch{Fs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=y3(h,{relative:i}),[j,H,X]=Z3(r,y),we=lA(h,{replace:a,state:u,target:c,preventScrollReset:m,relative:i,viewTransition:g});function ce(z){e&&e(z),z.defaultPrevented||we(z)}let oe=De.createElement("a",{...y,...X,href:k||T,onClick:_||o?e:ce,ref:rA(p,H),target:c,"data-discover":!S&&t==="render"?"true":void 0});return j&&!S?De.createElement(De.Fragment,null,oe,De.createElement(eA,{page:T})):oe});Nf.displayName="Link";var sA=De.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:u,children:c,...h},m){let g=ed(a,{relative:h.relative}),y=cu(),p=De.useContext(sm),{navigator:E,basename:S}=De.useContext(vo),k=p!=null&&dA(g)&&u===!0,_=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,T=y.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(T=T.toLowerCase(),j=j?j.toLowerCase():null,_=_.toLowerCase()),j&&S&&(j=ru(j,S)||j);const H=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let X=T===_||!i&&T.startsWith(_)&&T.charAt(H)==="/",we=j!=null&&(j===_||!i&&j.startsWith(_)&&j.charAt(_.length)==="/"),ce={isActive:X,isPending:we,isTransitioning:k},oe=X?e:void 0,z;typeof r=="function"?z=r(ce):z=[r,X?"active":null,we?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof o=="function"?o(ce):o;return De.createElement(Nf,{...h,"aria-current":oe,className:z,ref:m,style:Ee,to:a,viewTransition:u},typeof c=="function"?c(ce):c)});sA.displayName="NavLink";var oA=De.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:a=dp,action:u,onSubmit:c,relative:h,preventScrollReset:m,viewTransition:g,...y},p)=>{let E=fA(),S=hA(u,{relative:h}),k=a.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&Y2.test(u),T=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,X=(H==null?void 0:H.getAttribute("formmethod"))||a;E(H||j.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:i,state:o,relative:h,preventScrollReset:m,viewTransition:g})};return De.createElement("form",{ref:p,method:k,action:S,onSubmit:r?c:T,...y,"data-discover":!_&&n==="render"?"true":void 0})});oA.displayName="Form";function aA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(n){let e=De.useContext(Df);return Wn(e,aA(n)),e}function lA(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let u=Zh(),c=cu(),h=ed(n,{relative:o});return De.useCallback(m=>{if(B3(m,e)){m.preventDefault();let g=t!==void 0?t:jh(c)===jh(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,h,t,r,e,n,i,o,a])}var uA=0,cA=()=>`__${String(++uA)}__`;function fA(){let{router:n}=X2("useSubmit"),{basename:e}=De.useContext(vo),t=k3();return De.useCallback(async(r,i={})=>{let{action:o,method:a,encType:u,formData:c,body:h}=q3(r,e);if(i.navigate===!1){let m=i.fetcherKey||cA();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function hA(n,{relative:e}={}){let{basename:t}=De.useContext(vo),r=De.useContext(na);Wn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...ed(n||".",{relative:e})},a=cu();if(n==null){o.search=a.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(m=>m==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Va([t,o.pathname])),jh(o)}function dA(n,e={}){let t=De.useContext(z2);Wn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X2("useViewTransitionState"),i=ed(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ru(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=ru(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ip(i.pathname,a)!=null||Ip(i.pathname,o)!=null}new TextEncoder;const pA=()=>{};var Rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=function(n,e){if(!n)throw jf(e)},jf=function(n){return new Error("Firebase Database ("+J2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],a=n[t++],u=n[t++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],a=i+1<n.length,u=a?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let y=(u&15)<<2|h>>6,p=h&63;c||(p=64,a||(y=64)),r.push(t[m],t[g],t[y],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||h==null||g==null)throw new gA;const y=o<<2|u>>4;if(r.push(y),h!==64){const p=u<<4&240|h>>2;if(r.push(p),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z2=function(n){const e=Q2(n);return V0.encodeByteArray(e,!0)},Cp=function(n){return Z2(n).replace(/\./g,"")},kp=function(n){try{return V0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){return eb(void 0,n)}function eb(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!yA(t)||(n[t]=eb(n[t],e[t]));return n}function yA(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=()=>wA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof Rw>"u")return;const n=Rw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},SA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kp(n[1]);return e&&JSON.parse(e)},$0=()=>{try{return pA()||_A()||bA()||SA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tb=n=>{var e,t;return(t=(e=$0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xA=n=>{const e=tb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nb=()=>{var n;return(n=$0())===null||n===void 0?void 0:n.config},rb=n=>{var e;return(e=$0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cp(JSON.stringify(t)),Cp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function AA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ib(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const n=ki();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IA(){return J2.NODE_ADMIN===!0}function ob(){try{return typeof indexedDB=="object"}catch{return!1}}function ab(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function CA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="FirebaseError";class ra extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kA,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?TA(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new ra(i,u,r)}}function TA(n,e){return n.replace(PA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){return JSON.parse(n)}function Mr(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=Bh(kp(o[0])||""),t=Bh(kp(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},LA=function(n){const e=lb(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},RA=function(n){const e=lb(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function If(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function G1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tp(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function iu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],a=e[i];if(Ow(o)&&Ow(a)){if(!iu(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Ow(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ch(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function kh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)r[g]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let g=16;g<80;g++){const y=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4],h,m;for(let g=0;g<80;g++){g<40?g<20?(h=u^o&(a^u),m=1518500249):(h=o^a^u,m=1859775393):g<60?(h=o&a|u&(o|a),m=2400959708):(h=o^a^u,m=3395469782);const y=(i<<5|i>>>27)+h+c+m+r[g]&4294967295;c=u,u=a,a=(o<<30|o>>>2)&4294967295,o=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let a=this.inbuf_;for(;i<t;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<t;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function FA(n,e){const t=new DA(n,e);return t.subscribe.bind(t)}class DA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ig),i.error===void 0&&(i.error=Ig),i.complete===void 0&&(i.complete=Ig);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ig(){}function K0(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,lt(r<n.length,"Surrogate pair missing trail surrogate.");const a=n.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lm=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1e3,UA=2,zA=4*60*60*1e3,qA=.5;function Fw(n,e=BA,t=UA){const r=e*Math.pow(t,n),i=Math.round(qA*r*(Math.random()-.5)*2);return Math.min(zA,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(n){return n&&n._delegate?n._delegate:n}class mo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new am;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VA(e))try{this.getOrInitializeService({instanceIdentifier:Yu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yu){return this.instances.has(e)}getOptions(e=Yu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yu){return this.component?this.component.multipleInstances?e:Yu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(n){return n===Yu?void 0:n}function VA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bn||(bn={}));const GA={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},KA=bn.INFO,YA={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},XA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=YA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...e),this._logHandler(this,bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...e),this._logHandler(this,bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...e),this._logHandler(this,bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...e),this._logHandler(this,bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...e),this._logHandler(this,bn.ERROR,...e)}}const JA=(n,e)=>e.some(t=>n instanceof t);let Dw,Mw;function QA(){return Dw||(Dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ub=new WeakMap,K1=new WeakMap,cb=new WeakMap,Cg=new WeakMap,Y0=new WeakMap;function eN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(eu(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&ub.set(t,n)}).catch(()=>{}),Y0.set(e,n),e}function tN(n){if(K1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});K1.set(n,e)}let Y1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return K1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nN(n){Y1=n(Y1)}function rN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(kg(this),e,...t);return cb.set(r,e.sort?e.sort():[e]),eu(r)}:ZA().includes(n)?function(...e){return n.apply(kg(this),e),eu(ub.get(this))}:function(...e){return eu(n.apply(kg(this),e))}}function iN(n){return typeof n=="function"?rN(n):(n instanceof IDBTransaction&&tN(n),JA(n,QA())?new Proxy(n,Y1):n)}function eu(n){if(n instanceof IDBRequest)return eN(n);if(Cg.has(n))return Cg.get(n);const e=iN(n);return e!==n&&(Cg.set(n,e),Y0.set(e,n)),e}const kg=n=>Y0.get(n);function fb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(n,e),u=eu(a);return r&&a.addEventListener("upgradeneeded",c=>{r(eu(a.result),c.oldVersion,c.newVersion,eu(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const sN=["get","getKey","getAll","getAllKeys","count"],oN=["put","add","delete","clear"],Tg=new Map;function jw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=oN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sN.includes(t)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return Tg.set(e,o),o}nN(n=>({...n,get:(e,t,r)=>jw(e,t)||n.get(e,t,r),has:(e,t)=>!!jw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function lN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const X1="@firebase/app",Bw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new um("@firebase/app"),uN="@firebase/app-compat",cN="@firebase/analytics-compat",fN="@firebase/analytics",hN="@firebase/app-check-compat",dN="@firebase/app-check",pN="@firebase/auth",mN="@firebase/auth-compat",gN="@firebase/database",vN="@firebase/data-connect",yN="@firebase/database-compat",wN="@firebase/functions",_N="@firebase/functions-compat",bN="@firebase/installations",SN="@firebase/installations-compat",xN="@firebase/messaging",EN="@firebase/messaging-compat",AN="@firebase/performance",NN="@firebase/performance-compat",IN="@firebase/remote-config",CN="@firebase/remote-config-compat",kN="@firebase/storage",TN="@firebase/storage-compat",PN="@firebase/firestore",LN="@firebase/vertexai",RN="@firebase/firestore-compat",ON="firebase",FN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="[DEFAULT]",DN={[X1]:"fire-core",[uN]:"fire-core-compat",[fN]:"fire-analytics",[cN]:"fire-analytics-compat",[dN]:"fire-app-check",[hN]:"fire-app-check-compat",[pN]:"fire-auth",[mN]:"fire-auth-compat",[gN]:"fire-rtdb",[vN]:"fire-data-connect",[yN]:"fire-rtdb-compat",[wN]:"fire-fn",[_N]:"fire-fn-compat",[bN]:"fire-iid",[SN]:"fire-iid-compat",[xN]:"fire-fcm",[EN]:"fire-fcm-compat",[AN]:"fire-perf",[NN]:"fire-perf-compat",[IN]:"fire-rc",[CN]:"fire-rc-compat",[kN]:"fire-gcs",[TN]:"fire-gcs-compat",[PN]:"fire-fst",[RN]:"fire-fst-compat",[LN]:"fire-vertex","fire-js":"fire-js",[ON]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map,MN=new Map,Q1=new Map;function Uw(n,e){try{n.container.addComponent(e)}catch(t){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ta(n){const e=n.name;if(Q1.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;Q1.set(e,n);for(const t of Pp.values())Uw(t,n);for(const t of MN.values())Uw(t,n);return!0}function gc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tu=new mc("app","Firebase",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=FN;function hb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:J1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw tu.create("bad-app-name",{appName:String(i)});if(t||(t=nb()),!t)throw tu.create("no-options");const o=Pp.get(i);if(o){if(iu(t,o.options)&&iu(r,o.config))return o;throw tu.create("duplicate-app",{appName:i})}const a=new $A(i);for(const c of Q1.values())a.addComponent(c);const u=new BN(t,r,a);return Pp.set(i,u),u}function X0(n=J1){const e=Pp.get(n);if(!e&&n===J1&&nb())return hb();if(!e)throw tu.create("no-app",{appName:n});return e}function Os(n,e,t){var r;let i=(r=DN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(u.join(" "));return}ta(new mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="firebase-heartbeat-database",zN=1,Uh="firebase-heartbeat-store";let Pg=null;function db(){return Pg||(Pg=fb(UN,zN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uh)}catch(t){console.warn(t)}}}}).catch(n=>{throw tu.create("idb-open",{originalErrorMessage:n.message})})),Pg}async function qN(n){try{const t=(await db()).transaction(Uh),r=await t.objectStore(Uh).get(pb(n));return await t.done,r}catch(e){if(e instanceof ra)Ka.warn(e.message);else{const t=tu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ka.warn(t.message)}}}async function zw(n,e){try{const r=(await db()).transaction(Uh,"readwrite");await r.objectStore(Uh).put(e,pb(n)),await r.done}catch(t){if(t instanceof ra)Ka.warn(t.message);else{const r=tu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ka.warn(r.message)}}}function pb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=1024,HN=30;class VN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>HN){const a=KN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ka.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qw(),{heartbeatsToSend:r,unsentEntries:i}=$N(this._heartbeatsCache.heartbeats),o=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ka.warn(t),""}}}function qw(){return new Date().toISOString().substring(0,10)}function $N(n,e=WN){const t=[];let r=n.slice();for(const i of n){const o=t.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Ww(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Ww(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class GN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ob()?ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return zw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return zw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ww(n){return Cp(JSON.stringify({version:2,heartbeats:n})).length}function KN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){ta(new mo("platform-logger",e=>new aN(e),"PRIVATE")),ta(new mo("heartbeat",e=>new VN(e),"PRIVATE")),Os(X1,Bw,n),Os(X1,Bw,"esm2017"),Os("fire-js","")}YN("");var XN="firebase",JN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(XN,JN,"app");const mb="@firebase/installations",J0="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=1e4,vb=`w:${J0}`,yb="FIS_v2",QN="https://firebaseinstallations.googleapis.com/v1",ZN=60*60*1e3,e6="installations",t6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oc=new mc(e6,t6,n6);function wb(n){return n instanceof ra&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b({projectId:n}){return`${QN}/projects/${n}/installations`}function bb(n){return{token:n.token,requestStatus:2,expiresIn:i6(n.expiresIn),creationTime:Date.now()}}async function Sb(n,e){const r=(await e.json()).error;return oc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function r6(n,{refreshToken:e}){const t=xb(n);return t.append("Authorization",s6(e)),t}async function Eb(n){const e=await n();return e.status>=500&&e.status<600?n():e}function i6(n){return Number(n.replace("s","000"))}function s6(n){return`${yb} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=_b(n),i=xb(n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={fid:t,authVersion:yb,appId:n.appId,sdkVersion:vb},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await Eb(()=>fetch(r,u));if(c.ok){const h=await c.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:bb(h.authToken)}}else throw await Sb("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=/^[cdef][\w-]{21}$/,Z1="";function u6(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=c6(n);return l6.test(t)?t:Z1}catch{return Z1}}function c6(n){return a6(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;function Ib(n,e){const t=cm(n);Cb(t,e),f6(t,e)}function Cb(n,e){const t=Nb.get(n);if(t)for(const r of t)r(e)}function f6(n,e){const t=h6();t&&t.postMessage({key:n,fid:e}),d6()}let Zu=null;function h6(){return!Zu&&"BroadcastChannel"in self&&(Zu=new BroadcastChannel("[Firebase] FID Change"),Zu.onmessage=n=>{Cb(n.data.key,n.data.fid)}),Zu}function d6(){Nb.size===0&&Zu&&(Zu.close(),Zu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="firebase-installations-database",m6=1,ac="firebase-installations-store";let Lg=null;function Q0(){return Lg||(Lg=fb(p6,m6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ac)}}})),Lg}async function Lp(n,e){const t=cm(n),i=(await Q0()).transaction(ac,"readwrite"),o=i.objectStore(ac),a=await o.get(t);return await o.put(e,t),await i.done,(!a||a.fid!==e.fid)&&Ib(n,e.fid),e}async function kb(n){const e=cm(n),r=(await Q0()).transaction(ac,"readwrite");await r.objectStore(ac).delete(e),await r.done}async function fm(n,e){const t=cm(n),i=(await Q0()).transaction(ac,"readwrite"),o=i.objectStore(ac),a=await o.get(t),u=e(a);return u===void 0?await o.delete(t):await o.put(u,t),await i.done,u&&(!a||a.fid!==u.fid)&&Ib(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(n){let e;const t=await fm(n.appConfig,r=>{const i=g6(r),o=v6(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Z1?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function g6(n){const e=n||{fid:u6(),registrationStatus:0};return Tb(e)}function v6(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(oc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=y6(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:w6(n)}:{installationEntry:e}}async function y6(n,e){try{const t=await o6(n,e);return Lp(n.appConfig,t)}catch(t){throw wb(t)&&t.customData.serverCode===409?await kb(n.appConfig):await Lp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function w6(n){let e=await Hw(n.appConfig);for(;e.registrationStatus===1;)await Ab(100),e=await Hw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Z0(n);return r||t}return e}function Hw(n){return fm(n,e=>{if(!e)throw oc.create("installation-not-found");return Tb(e)})}function Tb(n){return _6(n)?{fid:n.fid,registrationStatus:0}:n}function _6(n){return n.registrationStatus===1&&n.registrationTime+gb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6({appConfig:n,heartbeatServiceProvider:e},t){const r=S6(n,t),i=r6(n,t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={installation:{sdkVersion:vb,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(a)},c=await Eb(()=>fetch(r,u));if(c.ok){const h=await c.json();return bb(h)}else throw await Sb("Generate Auth Token",c)}function S6(n,{fid:e}){return`${_b(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ev(n,e=!1){let t;const r=await fm(n.appConfig,o=>{if(!Pb(o))throw oc.create("not-registered");const a=o.authToken;if(!e&&A6(a))return o;if(a.requestStatus===1)return t=x6(n,e),o;{if(!navigator.onLine)throw oc.create("app-offline");const u=I6(o);return t=E6(n,u),u}});return t?await t:r.authToken}async function x6(n,e){let t=await Vw(n.appConfig);for(;t.authToken.requestStatus===1;)await Ab(100),t=await Vw(n.appConfig);const r=t.authToken;return r.requestStatus===0?ev(n,e):r}function Vw(n){return fm(n,e=>{if(!Pb(e))throw oc.create("not-registered");const t=e.authToken;return C6(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function E6(n,e){try{const t=await b6(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Lp(n.appConfig,r),t}catch(t){if(wb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await kb(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lp(n.appConfig,r)}throw t}}function Pb(n){return n!==void 0&&n.registrationStatus===2}function A6(n){return n.requestStatus===2&&!N6(n)}function N6(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ZN}function I6(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function C6(n){return n.requestStatus===1&&n.requestTime+gb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(n){const e=n,{installationEntry:t,registrationPromise:r}=await Z0(e);return r?r.catch(console.error):ev(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(n,e=!1){const t=n;return await P6(t),(await ev(t,e)).token}async function P6(n){const{registrationPromise:e}=await Z0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(n){if(!n||!n.options)throw Rg("App Configuration");if(!n.name)throw Rg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Rg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Rg(n){return oc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="installations",R6="installations-internal",O6=n=>{const e=n.getProvider("app").getImmediate(),t=L6(e),r=gc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},F6=n=>{const e=n.getProvider("app").getImmediate(),t=gc(e,Lb).getImmediate();return{getId:()=>k6(t),getToken:i=>T6(t,i)}};function D6(){ta(new mo(Lb,O6,"PUBLIC")),ta(new mo(R6,F6,"PRIVATE"))}D6();Os(mb,J0);Os(mb,J0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="analytics",M6="firebase_id",j6="origin",B6=60*1e3,U6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new um("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ps=new mc("analytics","Analytics",z6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(n){if(!n.startsWith(tv)){const e=ps.create("invalid-gtag-resource",{gtagURL:n});return Gi.warn(e.message),""}return n}function Rb(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function W6(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function H6(n,e){const t=W6("firebase-js-sdk-policy",{createScriptURL:q6}),r=document.createElement("script"),i=`${tv}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function V6(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function $6(n,e,t,r,i,o){const a=r[i];try{if(a)await e[a];else{const c=(await Rb(t)).find(h=>h.measurementId===i);c&&await e[c.appId]}}catch(u){Gi.error(u)}n("config",i,o)}async function G6(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const u=await Rb(t);for(const c of a){const h=u.find(g=>g.measurementId===c),m=h&&e[h.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){Gi.error(o)}}function K6(n,e,t,r){async function i(o,...a){try{if(o==="event"){const[u,c]=a;await G6(n,e,t,u,c)}else if(o==="config"){const[u,c]=a;await $6(n,e,t,r,u,c)}else if(o==="consent"){const[u,c]=a;n("consent",u,c)}else if(o==="get"){const[u,c,h]=a;n("get",u,c,h)}else if(o==="set"){const[u]=a;n("set",u)}else n(o,...a)}catch(u){Gi.error(u)}}return i}function Y6(n,e,t,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=K6(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function X6(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(tv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=30,Q6=1e3;class Z6{constructor(e={},t=Q6){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ob=new Z6;function eI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function tI(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:eI(r)},o=U6.replace("{app-id}",t),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let u="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw ps.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function nI(n,e=Ob,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw ps.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ps.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new sI;return setTimeout(async()=>{u.abort()},B6),Fb({appId:r,apiKey:i,measurementId:o},a,u,e)}async function Fb(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Ob){var o;const{appId:a,measurementId:u}=n;try{await rI(r,e)}catch(c){if(u)return Gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:u};throw c}try{const c=await tI(n);return i.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!iI(h)){if(i.deleteThrottleMetadata(a),u)return Gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw c}const m=Number((o=h==null?void 0:h.customData)===null||o===void 0?void 0:o.httpStatus)===503?Fw(t,i.intervalMillis,J6):Fw(t,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(a,g),Gi.debug(`Calling attemptFetch again in ${m} millis`),Fb(n,g,r,i)}}function rI(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(ps.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iI(n){if(!(n instanceof ra)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class sI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oI(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(){if(ob())try{await ab()}catch(n){return Gi.warn(ps.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Gi.warn(ps.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lI(n,e,t,r,i,o,a){var u;const c=nI(n);c.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&Gi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Gi.error(p)),e.push(c);const h=aI().then(p=>{if(p)return r.getId()}),[m,g]=await Promise.all([c,h]);X6(o)||H6(o,m.measurementId),i("js",new Date);const y=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return y[j6]="firebase",y.update=!0,g!=null&&(y[M6]=g),i("config",m.measurementId,y),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.app=e}_delete(){return delete Th[this.app.options.appId],Promise.resolve()}}let Th={},$w=[];const Gw={};let Og="dataLayer",cI="gtag",Kw,Db,Yw=!1;function fI(){const n=[];if(ib()&&n.push("This is a browser extension environment."),CA()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ps.create("invalid-analytics-context",{errorInfo:e});Gi.warn(t.message)}}function hI(n,e,t){fI();const r=n.options.appId;if(!r)throw ps.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ps.create("no-api-key");if(Th[r]!=null)throw ps.create("already-exists",{id:r});if(!Yw){V6(Og);const{wrappedGtag:o,gtagCore:a}=Y6(Th,$w,Gw,Og,cI);Db=o,Kw=a,Yw=!0}return Th[r]=lI(n,$w,Gw,e,Kw,Og,t),new uI(n)}function dI(n=X0()){n=Kr(n);const e=gc(n,Rp);return e.isInitialized()?e.getImmediate():pI(n)}function pI(n,e={}){const t=gc(n,Rp);if(t.isInitialized()){const i=t.getImmediate();if(iu(e,t.getOptions()))return i;throw ps.create("already-initialized")}return t.initialize({options:e})}function mI(n,e,t,r){n=Kr(n),oI(Db,Th[n.app.options.appId],e,t,r).catch(i=>Gi.error(i))}const Xw="@firebase/analytics",Jw="0.10.12";function gI(){ta(new mo(Rp,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return hI(r,i,t)},"PUBLIC")),ta(new mo("analytics-internal",n,"PRIVATE")),Os(Xw,Jw),Os(Xw,Jw,"esm2017");function n(e){try{const t=e.getProvider(Rp).getImmediate();return{logEvent:(r,i,o)=>mI(t,r,i,o)}}catch(t){throw ps.create("interop-component-reg-failed",{reason:t})}}}gI();function nv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=Mb,jb=new mc("auth","Firebase",Mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new um("@firebase/auth");function yI(n,...e){Op.logLevel<=bn.WARN&&Op.warn(`Auth (${Uf}): ${n}`,...e)}function mp(n,...e){Op.logLevel<=bn.ERROR&&Op.error(`Auth (${Uf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,...e){throw rv(n,...e)}function Qo(n,...e){return rv(n,...e)}function Bb(n,e,t){const r=Object.assign(Object.assign({},vI()),{[e]:t});return new mc("auth","Firebase",r).create(e,{appName:n.name})}function $a(n){return Bb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jb.create(n,...e)}function Pt(n,e,...t){if(!n)throw rv(e,...t)}function Ua(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mp(e),new Error(e)}function Ya(n,e){n||Ua(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wI(){return Qw()==="http:"||Qw()==="https:"}function Qw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wI()||ib()||"connection"in navigator)?navigator.onLine:!0}function bI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ya(t>e,"Short delay should be less than long delay!"),this.isMobile=G0()||sb()}get(){return _I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e){Ya(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new td(3e4,6e4);function fu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function hu(n,e,t,r,i={}){return zb(n,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=Bf(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},o);return AA()||(h.referrerPolicy="no-referrer"),Ub.fetch()(qb(n,n.config.apiHost,t,u),h)})}async function zb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},SI),e);try{const i=new AI(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Xd(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Xd(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw Xd(n,"user-disabled",a);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Bb(n,m,h);go(n,m)}}catch(i){if(i instanceof ra)throw i;go(n,"network-request-failed",{message:String(i)})}}async function nd(n,e,t,r,i={}){const o=await hu(n,e,t,r,i);return"mfaPendingCredential"in o&&go(n,"multi-factor-auth-required",{_serverResponse:o}),o}function qb(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?iv(n.config,i):`${n.config.apiScheme}://${i}`}function EI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qo(this.auth,"network-request-failed")),xI.get())})}}function Xd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Qo(n,e,r);return i.customData._tokenResponse=t,i}function Zw(n){return n!==void 0&&n.enterprise!==void 0}class NI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function II(n,e){return hu(n,"GET","/v2/recaptchaConfig",fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(n,e){return hu(n,"POST","/v1/accounts:delete",e)}async function Wb(n,e){return hu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kI(n,e=!1){const t=Kr(n),r=await t.getIdToken(e),i=sv(r);Pt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ph(Fg(i.auth_time)),issuedAtTime:Ph(Fg(i.iat)),expirationTime:Ph(Fg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fg(n){return Number(n)*1e3}function sv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{const i=kp(t);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e5(n){const e=sv(n);return Pt(e,"internal-error"),Pt(typeof e.exp<"u","internal-error"),Pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ra&&TI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function TI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ph(this.lastLoginAt),this.creationTime=Ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zh(n,Wb(t,{idToken:r}));Pt(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Hb(o.providerUserInfo):[],u=RI(n.providerData,a),c=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=c?h:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new t0(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function LI(n){const e=Kr(n);await Fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RI(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hb(n){return n.map(e=>{var{providerId:t}=e,r=nv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e){const t=await zb(n,{},async()=>{const r=Bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=qb(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Ub.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FI(n,e){return hu(n,"POST","/v2/accounts:revokeToken",fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pt(e.idToken,"internal-error"),Pt(typeof e.idToken<"u","internal-error"),Pt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pt(e.length!==0,"internal-error");const t=e5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await OI(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,a=new ff;return r&&(Pt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Pt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Pt(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ff,this.toJSON())}_performRefresh(){return Ua("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n,e){Pt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new t0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zh(this,this.stsTokenManager.getToken(this.auth,e));return Pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kI(this,e)}reload(){return LI(this)}_assign(e){this!==e&&(Pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Fp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await zh(this,CI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,a,u,c,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,p=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(a=t.photoURL)!==null&&a!==void 0?a:void 0,S=(u=t.tenantId)!==null&&u!==void 0?u:void 0,k=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,_=(h=t.createdAt)!==null&&h!==void 0?h:void 0,T=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:j,emailVerified:H,isAnonymous:X,providerData:we,stsTokenManager:ce}=t;Pt(j&&ce,e,"internal-error");const oe=ff.fromJSON(this.name,ce);Pt(typeof j=="string",e,"internal-error"),Vl(g,e.name),Vl(y,e.name),Pt(typeof H=="boolean",e,"internal-error"),Pt(typeof X=="boolean",e,"internal-error"),Vl(p,e.name),Vl(E,e.name),Vl(S,e.name),Vl(k,e.name),Vl(_,e.name),Vl(T,e.name);const z=new za({uid:j,auth:e,email:y,emailVerified:H,displayName:g,isAnonymous:X,photoURL:E,phoneNumber:p,tenantId:S,stsTokenManager:oe,createdAt:_,lastLoginAt:T});return we&&Array.isArray(we)&&(z.providerData=we.map(Ee=>Object.assign({},Ee))),k&&(z._redirectEventId=k),z}static async _fromIdTokenResponse(e,t,r=!1){const i=new ff;i.updateFromServerResponse(t);const o=new za({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Pt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Hb(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new ff;u.updateFromIdToken(r);const c=new za({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new t0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Map;function qa(n){Ya(n instanceof Function,"Expected a class definition");let e=t5.get(n);return e?(Ya(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,t5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vb.type="NONE";const n5=Vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(n,e,t){return`firebase:${n}:${e}:${t}`}class hf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=gp(this.userKey,i.apiKey,o),this.fullPersistenceKey=gp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?za._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hf(qa(n5),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||qa(n5);const a=gp(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(a);if(m){const g=za._fromJSON(e,m);h!==o&&(u=g),o=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new hf(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(a)}catch{}})),new hf(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jb(e))return"Blackberry";if(Qb(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||Kb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $b(n=ki()){return/firefox\//i.test(n)}function Gb(n=ki()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kb(n=ki()){return/crios\//i.test(n)}function Yb(n=ki()){return/iemobile/i.test(n)}function Xb(n=ki()){return/android/i.test(n)}function Jb(n=ki()){return/blackberry/i.test(n)}function Qb(n=ki()){return/webos/i.test(n)}function ov(n=ki()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DI(n=ki()){var e;return ov(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MI(){return NA()&&document.documentMode===10}function Zb(n=ki()){return ov(n)||Xb(n)||Qb(n)||Jb(n)||/windows phone/i.test(n)||Yb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n,e=[]){let t;switch(n){case"Browser":t=r5(ki());break;case"Worker":t=`${r5(ki())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(n,e={}){return hu(n,"GET","/v2/passwordPolicy",fu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=6;class zI{constructor(e){var t,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:UI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i5(this),this.idTokenSubscription=new i5(this),this.beforeStateQueue=new jI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qa(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wb(this,{idToken:e}),r=await za._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject($a(this));const t=e?Kr(e):null;return t&&Pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BI(this),t=new zI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await FI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qa(e)||this._popupRedirectResolver;Pt(t,this,"argument-error"),this.redirectPersistenceManager=await hf.create(this,[qa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pt(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vc(n){return Kr(n)}class i5{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(t=>this.observer=t)}get next(){return Pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(n){hm=n}function tS(n){return hm.loadJS(n)}function HI(){return hm.recaptchaEnterpriseScript}function VI(){return hm.gapiScript}function $I(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class GI{constructor(){this.enterprise=new KI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const YI="recaptcha-enterprise",nS="NO_RECAPTCHA";class XI{constructor(e){this.type=YI,this.auth=vc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{II(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new NI(c);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;Zw(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(nS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GI().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!t&&Zw(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=HI();c.length!==0&&(c+=u),tS(c).then(()=>{i(u,o,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function s5(n,e,t,r=!1,i=!1){const o=new XI(n);let a;if(i)a=nS;else try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function n0(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await s5(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await s5(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n,e){const t=gc(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(iu(o,e??{}))return i;go(i,"already-initialized")}return t.initialize({options:e})}function QI(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(qa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZI(n,e,t){const r=vc(n);Pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=rS(e),{host:a,port:u}=eC(e),c=u===null?"":`:${u}`,h={url:`${o}//${a}${c}/`},m=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pt(iu(h,r.config.emulator)&&iu(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,tC()}function rS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eC(n){const e=rS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:o5(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:o5(a)}}}function o5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ua("not implemented")}_getIdTokenResponse(e){return Ua("not implemented")}_linkToIdToken(e,t){return Ua("not implemented")}_getReauthenticationResolver(e){return Ua("not implemented")}}async function nC(n,e){return hu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return nd(n,"POST","/v1/accounts:signInWithPassword",fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(n,e){return nd(n,"POST","/v1/accounts:signInWithEmailLink",fu(n,e))}async function sC(n,e){return nd(n,"POST","/v1/accounts:signInWithEmailLink",fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends av{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new qh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new qh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n0(e,t,"signInWithPassword",rC);case"emailLink":return iC(e,{email:this._email,oobCode:this._password});default:go(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n0(e,r,"signUpPassword",nC);case"emailLink":return sC(e,{idToken:t,email:this._email,oobCode:this._password});default:go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n,e){return nd(n,"POST","/v1/accounts:signInWithIdp",fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="http://localhost";class lc extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=nv(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new lc(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return df(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,df(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,df(e,t)}buildRequest(){const e={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lC(n){const e=Ch(kh(n)).link,t=e?Ch(kh(e)).deep_link_id:null,r=Ch(kh(n)).deep_link_id;return(r?Ch(kh(r)).link:null)||r||t||e||n}class lv{constructor(e){var t,r,i,o,a,u;const c=Ch(kh(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,g=aC((i=c.mode)!==null&&i!==void 0?i:null);Pt(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=lC(e);try{return new lv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.providerId=zf.PROVIDER_ID}static credential(e,t){return qh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=lv.parseLink(t);return Pt(r,"argument-error"),qh._fromEmailAndCode(e,r.code,r.tenantId)}}zf.PROVIDER_ID="password";zf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends iS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends rd{constructor(){super("facebook.com")}static credential(e){return lc._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yl.credential(e.oauthAccessToken)}catch{return null}}}Yl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lc._fromParams({providerId:Xl.PROVIDER_ID,signInMethod:Xl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xl.credentialFromTaggedObject(e)}static credentialFromError(e){return Xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xl.credential(t,r)}catch{return null}}}Xl.GOOGLE_SIGN_IN_METHOD="google.com";Xl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends rd{constructor(){super("github.com")}static credential(e){return lc._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jl.credential(e.oauthAccessToken)}catch{return null}}}Jl.GITHUB_SIGN_IN_METHOD="github.com";Jl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends rd{constructor(){super("twitter.com")}static credential(e,t){return lc._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ql.credential(t,r)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(n,e){return nd(n,"POST","/v1/accounts:signUp",fu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await za._fromIdTokenResponse(e,r,i),a=a5(r);return new uc({user:o,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=a5(r);return new uc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function a5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends ra{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Dp(e,t,r,i)}}function sS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(n,o,e,r):o})}async function cC(n,e,t=!1){const r=await zh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return uc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e,t=!1){const{auth:r}=n;if(Rs(r.app))return Promise.reject($a(r));const i="reauthenticate";try{const o=await zh(n,sS(r,i,e,n),t);Pt(o.idToken,r,"internal-error");const a=sv(o.idToken);Pt(a,r,"internal-error");const{sub:u}=a;return Pt(n.uid===u,r,"user-mismatch"),uc._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&go(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(n,e,t=!1){if(Rs(n.app))return Promise.reject($a(n));const r="signIn",i=await sS(n,r,e),o=await uc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function hC(n,e){return oS(vc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(n){const e=vc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dC(n,e,t){if(Rs(n.app))return Promise.reject($a(n));const r=vc(n),a=await n0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uC).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&aS(n),c}),u=await uc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function pC(n,e,t){return Rs(n.app)?Promise.reject($a(n)):hC(Kr(n),zf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aS(n),r})}function mC(n,e,t,r){return Kr(n).onIdTokenChanged(e,t,r)}function gC(n,e,t){return Kr(n).beforeAuthStateChanged(e,t)}function uv(n,e,t,r){return Kr(n).onAuthStateChanged(e,t,r)}function vC(n){return Kr(n).signOut()}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1e3,wC=10;class uS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);MI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wC):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}uS.type="LOCAL";const _C=uS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cS.type="SESSION";const fS=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async h=>h(t.origin,o)),c=await bC(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const h=cv("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(m),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return window}function xC(n){Zo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof Zo().WorkerGlobalScope<"u"&&typeof Zo().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function NC(){return hS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firebaseLocalStorageDb",IC=1,jp="firebaseLocalStorage",pS="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function CC(){const n=indexedDB.deleteDatabase(dS);return new id(n).toPromise()}function r0(){const n=indexedDB.open(dS,IC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jp,{keyPath:pS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(jp)?e(r):(r.close(),await CC(),e(await r0()))})})}async function l5(n,e,t){const r=pm(n,!0).put({[pS]:e,value:t});return new id(r).toPromise()}async function kC(n,e){const t=pm(n,!1).get(e),r=await new id(t).toPromise();return r===void 0?null:r.value}function u5(n,e){const t=pm(n,!0).delete(e);return new id(t).toPromise()}const TC=800,PC=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>PC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r0();return await l5(e,Mp,"1"),await u5(e,Mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>l5(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>kC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>u5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pm(i,!1).getAll();return new id(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const LC=mS;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n,e){return e?qa(e):(Pt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return df(e,this._buildIdpRequest())}_linkToIdToken(e,t){return df(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return df(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OC(n){return oS(n.auth,new fv(n),n.bypassAuthState)}function FC(n){const{auth:e,user:t}=n;return Pt(t,e,"internal-error"),fC(t,new fv(n),n.bypassAuthState)}async function DC(n){const{auth:e,user:t}=n;return Pt(t,e,"internal-error"),cC(t,new fv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:go(this.auth,"internal-error")}}resolve(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new td(2e3,1e4);class lf extends gS{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,lf.currentPopupAction&&lf.currentPopupAction.cancel(),lf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pt(e,this.auth,"internal-error"),e}async onExecution(){Ya(this.filter.length===1,"Popup operations only handle one event");const e=cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}lf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="pendingRedirect",vp=new Map;class BC extends gS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vp.get(this.auth._key());if(!e){try{const r=await UC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(n,e){const t=WC(e),r=qC(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function zC(n,e){vp.set(n._key(),e)}function qC(n){return qa(n._redirectPersistence)}function WC(n){return gp(jC,n.config.apiKey,n.name)}async function HC(n,e,t=!1){if(Rs(n.app))return Promise.reject($a(n));const r=vc(n),i=RC(r,e),a=await new BC(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=10*60*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VC&&this.cachedEventUids.clear(),this.cachedEventUids.has(c5(e))}saveEventToCache(e){this.cachedEventUids.add(c5(e)),this.lastProcessedEventTime=Date.now()}}function c5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(n,e={}){return hu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function JC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await KC(n);for(const t of e)try{if(QC(t))return}catch{}go(n,"unauthorized-domain")}function QC(n){const e=e0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!XC.test(t))return!1;if(YC.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new td(3e4,6e4);function f5(){const n=Zo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ek(n){return new Promise((e,t)=>{var r,i,o;function a(){f5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f5(),t(Qo(n,"network-request-failed"))},timeout:ZC.get()})}if(!((i=(r=Zo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Zo().gapi)===null||o===void 0)&&o.load)a();else{const u=$I("iframefcb");return Zo()[u]=()=>{gapi.load?a():t(Qo(n,"network-request-failed"))},tS(`${VI()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw yp=null,e})}let yp=null;function tk(n){return yp=yp||ek(n),yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new td(5e3,15e3),rk="__/auth/iframe",ik="emulator/auth/iframe",sk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ok=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ak(n){const e=n.config;Pt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iv(e,ik):`https://${n.config.authDomain}/${rk}`,r={apiKey:e.apiKey,appName:n.name,v:Uf},i=ok.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Bf(r).slice(1)}`}async function lk(n){const e=await tk(n),t=Zo().gapi;return Pt(t,n,"internal-error"),e.open({where:document.body,url:ak(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sk,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Qo(n,"network-request-failed"),u=Zo().setTimeout(()=>{o(a)},nk.get());function c(){Zo().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ck=500,fk=600,hk="_blank",dk="http://localhost";class h5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pk(n,e,t,r=ck,i=fk){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},uk),{width:r.toString(),height:i.toString(),top:o,left:a}),h=ki().toLowerCase();t&&(u=Kb(h)?hk:t),$b(h)&&(e=e||dk,c.scrollbars="yes");const m=Object.entries(c).reduce((y,[p,E])=>`${y}${p}=${E},`,"");if(DI(h)&&u!=="_self")return mk(e||"",u),new h5(null);const g=window.open(e||"",u,m);Pt(g,n,"popup-blocked");try{g.focus()}catch{}return new h5(g)}function mk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="__/auth/handler",vk="emulator/auth/handler",yk=encodeURIComponent("fac");async function d5(n,e,t,r,i,o){Pt(n.config.authDomain,n,"auth-domain-config-required"),Pt(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Uf,eventId:i};if(e instanceof iS){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",G1(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof rd){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await n._getAppCheckToken(),h=c?`#${yk}=${encodeURIComponent(c)}`:"";return`${wk(n)}?${Bf(u).slice(1)}${h}`}function wk({config:n}){return n.emulator?iv(n,vk):`https://${n.authDomain}/${gk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="webStorageSupport";class _k{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fS,this._completeRedirectFn=HC,this._overrideRedirectResult=zC}async _openPopup(e,t,r,i){var o;Ya((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await d5(e,t,r,e0(),i);return pk(e,a,cv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await d5(e,t,r,e0(),i);return xC(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ya(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await lk(e),r=new $C(e);return t.register("authEvent",i=>(Pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dg,{type:Dg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Dg];a!==void 0&&t(!!a),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zb()||Gb()||ov()}}const bk=_k;var p5="@firebase/auth",m5="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ek(n){ta(new mo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Pt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eS(n)},h=new qI(r,i,o,c);return QI(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ta(new mo("auth-internal",e=>{const t=vc(e.getProvider("auth").getImmediate());return(r=>new Sk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Os(p5,m5,xk(n)),Os(p5,m5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=5*60,Nk=rb("authIdTokenMaxAge")||Ak;let g5=null;const Ik=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Nk)return;const i=t==null?void 0:t.token;g5!==i&&(g5=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ck(n=X0()){const e=gc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JI(n,{popupRedirectResolver:bk,persistence:[LC,_C,fS]}),r=rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Ik(o.toString());gC(t,a,()=>a(t.currentUser)),mC(t,u=>a(u))}}const i=tb("auth");return i&&ZI(t,`http://${i}`),t}function kk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Qo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",kk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ek("Browser");var v5={};const y5="@firebase/database",w5="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yS="";function Tk(n){yS=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Bh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Qa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Pk(e)}}catch{}return new Lk},ec=wS("localStorage"),Rk=wS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new um("@firebase/database"),Ok=function(){let n=1;return function(){return n++}}(),_S=function(n){const e=jA(n),t=new OA;t.update(e);const r=t.digest();return V0.encodeByteArray(r)},sd=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=sd.apply(null,r):typeof r=="object"?e+=Mr(r):e+=r,e+=" "}return e};let Lh=null,_5=!0;const Fk=function(n,e){lt(!0,"Can't turn on custom loggers persistently."),pf.logLevel=bn.VERBOSE,Lh=pf.log.bind(pf)},hi=function(...n){if(_5===!0&&(_5=!1,Lh===null&&Rk.get("logging_enabled")===!0&&Fk()),Lh){const e=sd.apply(null,n);Lh(e)}},od=function(n){return function(...e){hi(n,...e)}},i0=function(...n){const e="FIREBASE INTERNAL ERROR: "+sd(...n);pf.error(e)},Xa=function(...n){const e=`FIREBASE FATAL ERROR: ${sd(...n)}`;throw pf.error(e),new Error(e)},Ki=function(...n){const e="FIREBASE WARNING: "+sd(...n);pf.warn(e)},Dk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ki("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bS=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mk=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Cf="[MIN_NAME]",cc="[MAX_NAME]",qf=function(n,e){if(n===e)return 0;if(n===Cf||e===cc)return-1;if(e===Cf||n===cc)return 1;{const t=b5(n),r=b5(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},jk=function(n,e){return n===e?0:n<e?-1:1},yh=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Mr(e))},hv=function(n){if(typeof n!="object"||n===null)return Mr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Mr(e[r]),t+=":",t+=hv(n[e[r]]);return t+="}",t},SS=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const xS=function(n){lt(!bS(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,o,a,u,c;n===0?(o=0,a=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=u+r,a=Math.round(n*Math.pow(2,t-u)-Math.pow(2,t))):(o=0,a=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(c=t;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);h.push(i?1:0),h.reverse();const m=h.join("");let g="";for(c=0;c<64;c+=8){let y=parseInt(m.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},Bk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Uk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zk(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}const qk=new RegExp("^-?(0*)\\d{1,10}$"),Wk=-2147483648,Hk=2147483647,b5=function(n){if(qk.test(n)){const e=Number(n);if(e>=Wk&&e<=Hk)return e}return null},Wf=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Ki("Exception was thrown by user callback.",t),e},Math.floor(0))}},Vk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Rh=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Rs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ki(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(hi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ki(e)}}class wp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="5",ES="v",AS="s",NS="r",IS="f",CS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kS="ls",TS="p",s0="ac",PS="websocket",LS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,r,i,o=!1,a="",u=!1,c=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ec.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ec.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Kk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function OS(n,e,t){lt(typeof e=="string","typeof type must == string"),lt(typeof t=="object","typeof params must == object");let r;if(e===PS)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===LS)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Kk(n)&&(t.ns=n.namespace);const i=[];return Yi(t,(o,a)=>{i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.counters_={}}incrementCounter(e,t=1){Qa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return vA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg={},jg={};function pv(n){const e=n.toString();return Mg[e]||(Mg[e]=new Yk),Mg[e]}function Xk(n,e){const t=n.toString();return jg[t]||(jg[t]=e()),jg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Wf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="start",Qk="close",Zk="pLPCommand",eT="pRTLPCB",FS="id",DS="pw",MS="ser",tT="cb",nT="seg",rT="ts",iT="d",sT="dframe",jS=1870,BS=30,oT=jS-BS,aT=25e3,lT=3e4;class uf{constructor(e,t,r,i,o,a,u){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=od(e),this.stats_=pv(t),this.urlFn=c=>(this.appCheckToken&&(c[s0]=this.appCheckToken),OS(t,LS,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Jk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lT)),Mk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mv((...o)=>{const[a,u,c,h,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===S5)this.id=u,this.password=c;else if(a===Qk)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[S5]="t",r[MS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ES]=dv,this.transportSessionId&&(r[AS]=this.transportSessionId),this.lastSessionId&&(r[kS]=this.lastSessionId),this.applicationId&&(r[TS]=this.applicationId),this.appCheckToken&&(r[s0]=this.appCheckToken),typeof location<"u"&&location.hostname&&CS.test(location.hostname)&&(r[NS]=IS);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uf.forceAllow_=!0}static forceDisallow(){uf.forceDisallow_=!0}static isAvailable(){return uf.forceAllow_?!0:!uf.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Bk()&&!Uk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Mr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Z2(t),i=SS(r,oT);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[sT]="t",r[FS]=e,r[DS]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Mr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class mv{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ok(),window[Zk+this.uniqueCallbackIdentifier]=e,window[eT+this.uniqueCallbackIdentifier]=t,this.myIFrame=mv.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){hi("frame writing exception"),u.stack&&hi(u.stack),hi(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||hi("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FS]=this.myID,e[DS]=this.myPW,e[MS]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BS+r.length<=jS;){const a=this.pendingSegs.shift();r=r+"&"+nT+i+"="+a.seg+"&"+rT+i+"="+a.ts+"&"+iT+i+"="+a.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(aT)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{hi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=16384,cT=45e3;let Bp=null;typeof MozWebSocket<"u"?Bp=MozWebSocket:typeof WebSocket<"u"&&(Bp=WebSocket);class uo{constructor(e,t,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=od(this.connId),this.stats_=pv(t),this.connURL=uo.connectionURL_(t,a,u,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,o){const a={};return a[ES]=dv,typeof location<"u"&&location.hostname&&CS.test(location.hostname)&&(a[NS]=IS),t&&(a[AS]=t),r&&(a[kS]=r),i&&(a[s0]=i),o&&(a[TS]=o),OS(e,PS,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ec.set("previous_websocket_failure",!0);try{let r;IA(),this.mySock=new Bp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){uo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bp!==null&&!uo.forceDisallow_}static previouslyFailed(){return ec.isInMemoryStorage||ec.get("previous_websocket_failure")===!0}markConnectionHealthy(){ec.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Bh(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(lt(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Mr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=SS(t,uT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cT))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}uo.responsesRequiredToBeHealthy=2;uo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{static get ALL_TRANSPORTS(){return[uf,uo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=uo&&uo.isAvailable();let r=t&&!uo.previouslyFailed();if(e.webSocketOnly&&(t||Ki("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uo];else{const i=this.transports_=[];for(const o of Wh.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Wh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=6e4,hT=5e3,dT=10*1024,pT=100*1024,Bg="t",x5="d",mT="s",E5="r",gT="e",A5="o",N5="a",I5="n",C5="p",vT="h";class yT{constructor(e,t,r,i,o,a,u,c,h,m){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=od("c:"+this.id+":"),this.transportManager_=new Wh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Rh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bg in e){const t=e[Bg];t===N5?this.upgradeIfSecondaryHealthy_():t===E5?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===A5&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=yh("t",e),r=yh("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:C5,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:N5,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:I5,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=yh("t",e),r=yh("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=yh(Bg,e);if(x5 in e){const r=e[x5];if(t===vT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===I5){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===mT?this.onConnectionShutdown_(r):t===E5?this.onReset_(r):t===gT?i0("Server Error: "+r):t===A5?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):i0("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),dv!==r&&Ki("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Rh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:C5,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ec.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zS=class{constructor(e){this.allowedEvents_=e,this.listeners_={},lt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){lt(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends zS{static getInstance(){return new Up}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!G0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return lt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=32,T5=768;class An{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function hn(){return new An("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function su(n){return n.pieces_.length-n.pieceNum_}function Cn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new An(n.pieces_,e)}function qS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function wT(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function WS(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function HS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new An(e,0)}function Er(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof An)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new An(t,0)}function Kt(n){return n.pieceNum_>=n.pieces_.length}function Vi(n,e){const t=Vt(n),r=Vt(e);if(t===null)return e;if(t===r)return Vi(Cn(n),Cn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function gv(n,e){if(su(n)!==su(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function fo(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(su(n)>su(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class _T{constructor(e,t){this.errorPrefix_=t,this.parts_=WS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lm(this.parts_[r]);VS(this)}}function bT(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=lm(e),VS(n)}function ST(n){const e=n.parts_.pop();n.byteLength_-=lm(e),n.parts_.length>0&&(n.byteLength_-=1)}function VS(n){if(n.byteLength_>T5)throw new Error(n.errorPrefix_+"has a key path longer than "+T5+" bytes ("+n.byteLength_+").");if(n.parts_.length>k5)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+k5+") or object contains a cycle "+Xu(n))}function Xu(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends zS{static getInstance(){return new vv}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return lt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=1e3,xT=60*5*1e3,P5=30*1e3,ET=1.3,AT=3e4,NT="server_kill",L5=3;class Ga extends US{constructor(e,t,r,i,o,a,u,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=Ga.nextPersistentConnectionId_++,this.log_=od("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wh,this.maxReconnectDelay_=xT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Up.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,o={r:i,a:e,b:t};this.log_(Mr(o)),lt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new am,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?t.resolve(u):t.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,r,i){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),lt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),lt(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},a="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,u=>{const c=u.d,h=u.s;Ga.warnOnListenWarnings_(c,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Qa(e,"w")){const r=If(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Ki(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=P5)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=LA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const o=i.s,a=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),lt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const o={p:e},a="n";i&&(o.q=r,o.t=i),this.sendRequest(a,o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,o){this.initConnection_();const a={p:t,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mr(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):i0("Unrecognized action received from server: "+Mr(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){lt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>AT&&(this.reconnectDelay_=wh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ET)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ga.nextConnectionId_++,o=this.lastSessionId;let a=!1,u=null;const c=function(){u?u.close():(a=!0,r())},h=function(g){lt(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(g)};this.realtime_={close:c,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?hi("getToken() completed but was canceled"):(hi("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,u=new yT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,p=>{Ki(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(NT)},o))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&Ki(g),c())}}}interrupt(e){hi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],G1(this.interruptReasons_)&&(this.reconnectDelay_=wh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(o=>hv(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new An(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(t),o.delete(t),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){hi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L5&&(this.reconnectDelay_=P5,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){hi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L5&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+yS.replace(/\./g,"-")]=1,G0()?e["framework.cordova"]=1:sb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Up.getInstance().currentlyOnline();return G1(this.interruptReasons_)&&e}}Ga.nextPersistentConnectionId_=0;Ga.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new $t(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new $t(Cf,e),i=new $t(Cf,t);return this.compare(r,i)!==0}minPost(){return $t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;class $S extends mm{static get __EMPTY_NODE(){return Jd}static set __EMPTY_NODE(e){Jd=e}compare(e,t){return qf(e.name,t.name)}isDefinedOn(e){throw jf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $t.MIN}maxPost(){return new $t(cc,Jd)}makePost(e,t){return lt(typeof e=="string","KeyIndex indexValue must always be a string."),new $t(e,Jd)}toString(){return".key"}}const mf=new $S;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?r(e.key,t):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Fr.RED,this.left=i??$i.EMPTY_NODE,this.right=o??$i.EMPTY_NODE}copy(e,t,r,i,o){return new Fr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return $i.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return $i.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fr.RED=!0;Fr.BLACK=!1;class IT{copy(e,t,r,i,o){return this}insert(e,t,r){return new Fr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $i{constructor(e,t=$i.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new $i(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Fr.BLACK,null,null))}remove(e){return new $i(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Qd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Qd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Qd(this.root_,null,this.comparator_,!0,e)}}$i.EMPTY_NODE=new IT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,e){return qf(n.name,e.name)}function yv(n,e){return qf(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0;function kT(n){o0=n}const GS=function(n){return typeof n=="number"?"number:"+xS(n):"string:"+n},KS=function(n){if(n.isLeafNode()){const e=n.val();lt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qa(e,".sv"),"Priority must be a string or number.")}else lt(n===o0||n.isEmpty(),"priority of unexpected type.");lt(n===o0||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R5;class Or{static set __childrenNodeConstructor(e){R5=e}static get __childrenNodeConstructor(){return R5}constructor(e,t=Or.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,lt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),KS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Or(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Or.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Kt(e)?this:Vt(e)===".priority"?this.priorityNode_:Or.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Or.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Vt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(lt(r!==".priority"||su(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Or.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+GS(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=xS(this.value_):e+=this.value_,this.lazyHash_=_S(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Or.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Or.__childrenNodeConstructor?-1:(lt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Or.VALUE_TYPE_ORDER.indexOf(t),o=Or.VALUE_TYPE_ORDER.indexOf(r);return lt(i>=0,"Unknown leaf type: "+t),lt(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Or.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YS,XS;function TT(n){YS=n}function PT(n){XS=n}class LT extends mm{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?qf(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $t.MIN}maxPost(){return new $t(cc,new Or("[PRIORITY-POST]",XS))}makePost(e,t){const r=YS(e);return new $t(t,new Or("[PRIORITY-POST]",r))}toString(){return".priority"}}const tr=new LT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=Math.log(2);class OT{constructor(e){const t=o=>parseInt(Math.log(o)/RT,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zp=function(n,e,t,r){n.sort(e);const i=function(c,h){const m=h-c;let g,y;if(m===0)return null;if(m===1)return g=n[c],y=t?t(g):g,new Fr(y,g.node,Fr.BLACK,null,null);{const p=parseInt(m/2,10)+c,E=i(c,p),S=i(p+1,h);return g=n[p],y=t?t(g):g,new Fr(y,g.node,Fr.BLACK,E,S)}},o=function(c){let h=null,m=null,g=n.length;const y=function(E,S){const k=g-E,_=g;g-=E;const T=i(k+1,_),j=n[k],H=t?t(j):j;p(new Fr(H,j.node,S,null,T))},p=function(E){h?(h.left=E,h=E):(m=E,h=E)};for(let E=0;E<c.count;++E){const S=c.nextBitIsOne(),k=Math.pow(2,c.count-(E+1));S?y(k,Fr.BLACK):(y(k,Fr.BLACK),y(k,Fr.RED))}return m},a=new OT(n.length),u=o(a);return new $i(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug;const Qc={};class Wa{static get Default(){return lt(Qc&&tr,"ChildrenNode.ts has not been loaded"),Ug=Ug||new Wa({".priority":Qc},{".priority":tr}),Ug}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=If(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $i?t:null}hasIndex(e){return Qa(this.indexSet_,e.toString())}addIndex(e,t){lt(e!==mf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator($t.Wrap);let a=o.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let u;i?u=zp(r,e.getCompare()):u=Qc;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const m=Object.assign({},this.indexes_);return m[c]=u,new Wa(m,h)}addToIndexes(e,t){const r=Tp(this.indexes_,(i,o)=>{const a=If(this.indexSet_,o);if(lt(a,"Missing index implementation for "+o),i===Qc)if(a.isDefinedOn(e.node)){const u=[],c=t.getIterator($t.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&u.push(h),h=c.getNext();return u.push(e),zp(u,a.getCompare())}else return Qc;else{const u=t.get(e.name);let c=i;return u&&(c=c.remove(new $t(e.name,u))),c.insert(e,e.node)}});return new Wa(r,this.indexSet_)}removeFromIndexes(e,t){const r=Tp(this.indexes_,i=>{if(i===Qc)return i;{const o=t.get(e.name);return o?i.remove(new $t(e.name,o)):i}});return new Wa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;class Rt{static get EMPTY_NODE(){return _h||(_h=new Rt(new $i(yv),null,Wa.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&KS(this.priorityNode_),this.children_.isEmpty()&&lt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_h}updatePriority(e){return this.children_.isEmpty()?this:new Rt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?_h:t}}getChild(e){const t=Vt(e);return t===null?this:this.getImmediateChild(t).getChild(Cn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(lt(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new $t(e,t);let i,o;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?_h:this.priorityNode_;return new Rt(i,a,o)}}updateChild(e,t){const r=Vt(e);if(r===null)return t;{lt(Vt(e)!==".priority"||su(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Cn(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,o=!0;if(this.forEachChild(tr,(a,u)=>{t[a]=u.val(e),r++,o&&Rt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){const a=[];for(const u in t)a[u]=t[u];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+GS(this.getPriority().val())+":"),this.forEachChild(tr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":_S(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new $t(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new $t(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new $t(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,$t.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,$t.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ad?-1:0}withIndex(e){if(e===mf||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Rt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===mf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(tr),i=t.getIterator(tr);let o=r.getNext(),a=i.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===mf?null:this.indexMap_.get(e.toString())}}Rt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class FT extends Rt{constructor(){super(new $i(yv),Rt.EMPTY_NODE,Wa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Rt.EMPTY_NODE}isEmpty(){return!1}}const ad=new FT;Object.defineProperties($t,{MIN:{value:new $t(Cf,Rt.EMPTY_NODE)},MAX:{value:new $t(cc,ad)}});$S.__EMPTY_NODE=Rt.EMPTY_NODE;Or.__childrenNodeConstructor=Rt;kT(ad);PT(ad);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=!0;function Gr(n,e=null){if(n===null)return Rt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),lt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Or(t,Gr(e))}if(!(n instanceof Array)&&DT){const t=[];let r=!1;if(Yi(n,(a,u)=>{if(a.substring(0,1)!=="."){const c=Gr(u);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new $t(a,c)))}}),t.length===0)return Rt.EMPTY_NODE;const o=zp(t,CT,a=>a.name,yv);if(r){const a=zp(t,tr.getCompare());return new Rt(o,Gr(e),new Wa({".priority":a},{".priority":tr}))}else return new Rt(o,Gr(e),Wa.Default)}else{let t=Rt.EMPTY_NODE;return Yi(n,(r,i)=>{if(Qa(n,r)&&r.substring(0,1)!=="."){const o=Gr(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(Gr(e))}}TT(Gr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends mm{constructor(e){super(),this.indexPath_=e,lt(!Kt(e)&&Vt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?qf(e.name,t.name):o}makePost(e,t){const r=Gr(e),i=Rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new $t(t,i)}maxPost(){const e=Rt.EMPTY_NODE.updateChild(this.indexPath_,ad);return new $t(cc,e)}toString(){return WS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends mm{compare(e,t){const r=e.node.compareTo(t.node);return r===0?qf(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $t.MIN}maxPost(){return $t.MAX}makePost(e,t){const r=Gr(e);return new $t(t,r)}toString(){return".value"}}const BT=new jT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n){return{type:"value",snapshotNode:n}}function kf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Hh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Vh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function UT(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.index_=e}updateChild(e,t,r,i,o,a){lt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(t);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(t)?a.trackChildChange(Hh(t,u)):lt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(kf(t,r)):a.trackChildChange(Vh(t,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(tr,(i,o)=>{t.hasChild(i)||r.trackChildChange(Hh(i,o))}),t.isLeafNode()||t.forEachChild(tr,(i,o)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(Vh(i,o,a))}else r.trackChildChange(kf(i,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Rt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.indexedFilter_=new wv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$h.getStartPost_(e),this.endPost_=$h.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,o,a){return this.matches(new $t(t,r))||(r=Rt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,o,a)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Rt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Rt.EMPTY_NODE);const o=this;return t.forEachChild(tr,(a,u)=>{o.matches(new $t(a,u))||(i=i.updateImmediateChild(a,Rt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $h(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,o,a){return this.rangedFilter_.matches(new $t(t,r))||(r=Rt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,o,a):this.fullLimitUpdateChild_(e,t,r,o,a)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Rt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=Rt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(Rt.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:i=i.updateImmediateChild(u.name,Rt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,o){let a;if(this.reverse_){const g=this.index_.getCompare();a=(y,p)=>g(p,y)}else a=this.index_.getCompare();const u=e;lt(u.numChildren()===this.limit_,"");const c=new $t(t,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(c);if(u.hasChild(t)){const g=u.getImmediateChild(t);let y=i.getChildAfterChild(this.index_,h,this.reverse_);for(;y!=null&&(y.name===t||u.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const p=y==null?1:a(y,c);if(m&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Vh(t,r,g)),u.updateImmediateChild(t,r);{o!=null&&o.trackChildChange(Hh(t,g));const S=u.updateImmediateChild(t,Rt.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o!=null&&o.trackChildChange(kf(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}}else return r.isEmpty()?e:m&&a(h,c)>=0?(o!=null&&(o.trackChildChange(Hh(h.name,h.node)),o.trackChildChange(kf(t,r))),u.updateImmediateChild(t,r).updateImmediateChild(h.name,Rt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return lt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return lt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cf}hasEnd(){return this.endSet_}getIndexEndValue(){return lt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return lt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return lt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tr}copy(){const e=new _v;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qT(n){return n.loadsAllData()?new wv(n.getIndex()):n.hasLimit()?new zT(n):new $h(n)}function O5(n){const e={};if(n.isDefault())return e;let t;if(n.index_===tr?t="$priority":n.index_===BT?t="$value":n.index_===mf?t="$key":(lt(n.index_ instanceof MT,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Mr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Mr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Mr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Mr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Mr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function F5(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==tr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends US{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(lt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=od("p:rest:"),this.listens_={}}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=qp.getListenId_(e,r),u={};this.listens_[a]=u;const c=O5(e._queryParams);this.restRequest_(o+".json",c,(h,m)=>{let g=m;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(o,g,!1,r),If(this.listens_,a)===u){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",i(y,null)}})}unlisten(e,t){const r=qp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=O5(e._queryParams),r=e._path.toString(),i=new am;return this.restRequest_(r+".json",t,(o,a)=>{let u=a;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bf(t);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=Bh(u.responseText)}catch{Ki("Failed to parse JSON response for "+a+": "+u.responseText)}r(null,c)}else u.status!==401&&u.status!==404&&Ki("Got unsuccessful REST response for "+a+" Status: "+u.status),r(u.status);r=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.rootNode_=Rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){return{value:null,children:new Map}}function QS(n,e,t){if(Kt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Vt(e);n.children.has(r)||n.children.set(r,Wp());const i=n.children.get(r);e=Cn(e),QS(i,e,t)}}function a0(n,e,t){n.value!==null?t(e,n.value):HT(n,(r,i)=>{const o=new An(e.toString()+"/"+r);a0(i,o,t)})}function HT(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Yi(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=10*1e3,$T=30*1e3,GT=5*60*1e3;class KT{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new VT(e);const r=D5+($T-D5)*Math.random();Rh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Yi(e,(i,o)=>{o>0&&Qa(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Rh(this.reportStats_.bind(this),Math.floor(Math.random()*2*GT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ho||(ho={}));function ZS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sv(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ho.ACK_USER_WRITE,this.source=ZS()}operationForChild(e){if(Kt(this.path)){if(this.affectedTree.value!=null)return lt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new An(e));return new Hp(hn(),t,this.revert)}}else return lt(Vt(this.path)===e,"operationForChild called for unrelated child."),new Hp(Cn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.source=e,this.path=t,this.type=ho.LISTEN_COMPLETE}operationForChild(e){return Kt(this.path)?new Gh(this.source,hn()):new Gh(this.source,Cn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ho.OVERWRITE}operationForChild(e){return Kt(this.path)?new fc(this.source,hn(),this.snap.getImmediateChild(e)):new fc(this.source,Cn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ho.MERGE}operationForChild(e){if(Kt(this.path)){const t=this.children.subtree(new An(e));return t.isEmpty()?null:t.value?new fc(this.source,hn(),t.value):new Kh(this.source,hn(),t)}else return lt(Vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kh(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Kt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Vt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function XT(n,e,t,r){const i=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(UT(a.childName,a.snapshotNode))}),bh(n,i,"child_removed",e,r,t),bh(n,i,"child_added",e,r,t),bh(n,i,"child_moved",o,r,t),bh(n,i,"child_changed",e,r,t),bh(n,i,"value",e,r,t),i}function bh(n,e,t,r,i,o){const a=r.filter(u=>u.type===t);a.sort((u,c)=>QT(n,u,c)),a.forEach(u=>{const c=JT(n,u,o);i.forEach(h=>{h.respondsTo(u.type)&&e.push(h.createEvent(c,n.query_))})})}function JT(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function QT(n,e,t){if(e.childName==null||t.childName==null)throw jf("Should only compare child_ events.");const r=new $t(e.childName,e.snapshotNode),i=new $t(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(n,e){return{eventCache:n,serverCache:e}}function Oh(n,e,t,r){return gm(new hc(e,t,r),n.serverCache)}function ex(n,e,t,r){return gm(n.eventCache,new hc(e,t,r))}function l0(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg;const ZT=()=>(zg||(zg=new $i(jk)),zg);class Mn{static fromObject(e){let t=new Mn(null);return Yi(e,(r,i)=>{t=t.set(new An(r),i)}),t}constructor(e,t=ZT()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:hn(),value:this.value};if(Kt(e))return null;{const r=Vt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Cn(e),t);return o!=null?{path:Er(new An(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Kt(e))return this;{const t=Vt(e),r=this.children.get(t);return r!==null?r.subtree(Cn(e)):new Mn(null)}}set(e,t){if(Kt(e))return new Mn(t,this.children);{const r=Vt(e),o=(this.children.get(r)||new Mn(null)).set(Cn(e),t),a=this.children.insert(r,o);return new Mn(this.value,a)}}remove(e){if(Kt(e))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const t=Vt(e),r=this.children.get(t);if(r){const i=r.remove(Cn(e));let o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new Mn(null):new Mn(this.value,o)}else return this}}get(e){if(Kt(e))return this.value;{const t=Vt(e),r=this.children.get(t);return r?r.get(Cn(e)):null}}setTree(e,t){if(Kt(e))return t;{const r=Vt(e),o=(this.children.get(r)||new Mn(null)).setTree(Cn(e),t);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new Mn(this.value,a)}}fold(e){return this.fold_(hn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Er(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,hn(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(Kt(e))return null;{const o=Vt(e),a=this.children.get(o);return a?a.findOnPath_(Cn(e),Er(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,hn(),t)}foreachOnPath_(e,t,r){if(Kt(e))return this;{this.value&&r(t,this.value);const i=Vt(e),o=this.children.get(i);return o?o.foreachOnPath_(Cn(e),Er(t,i),r):new Mn(null)}}foreach(e){this.foreach_(hn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Er(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.writeTree_=e}static empty(){return new po(new Mn(null))}}function Fh(n,e,t){if(Kt(e))return new po(new Mn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const a=Vi(i,e);return o=o.updateChild(a,t),new po(n.writeTree_.set(i,o))}else{const i=new Mn(t),o=n.writeTree_.setTree(e,i);return new po(o)}}}function M5(n,e,t){let r=n;return Yi(t,(i,o)=>{r=Fh(r,Er(e,i),o)}),r}function j5(n,e){if(Kt(e))return po.empty();{const t=n.writeTree_.setTree(e,new Mn(null));return new po(t)}}function u0(n,e){return yc(n,e)!=null}function yc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Vi(t.path,e)):null}function B5(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(tr,(r,i)=>{e.push(new $t(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new $t(r,i.value))}),e}function nu(n,e){if(Kt(e))return n;{const t=yc(n,e);return t!=null?new po(new Mn(t)):new po(n.writeTree_.subtree(e))}}function c0(n){return n.writeTree_.isEmpty()}function Tf(n,e){return tx(hn(),n.writeTree_,e)}function tx(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(lt(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=tx(Er(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Er(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n,e){return sx(e,n)}function eP(n,e,t,r,i){lt(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Fh(n.visibleWrites,e,t)),n.lastWriteId=r}function tP(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function nP(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);lt(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,a=n.allWrites.length-1;for(;i&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=t&&rP(u,r.path)?i=!1:fo(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return iP(n),!0;if(r.snap)n.visibleWrites=j5(n.visibleWrites,r.path);else{const u=r.children;Yi(u,c=>{n.visibleWrites=j5(n.visibleWrites,Er(r.path,c))})}return!0}else return!1}function rP(n,e){if(n.snap)return fo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fo(Er(n.path,t),e))return!0;return!1}function iP(n){n.visibleWrites=nx(n.allWrites,sP,hn()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function sP(n){return n.visible}function nx(n,e,t){let r=po.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const a=o.path;let u;if(o.snap)fo(t,a)?(u=Vi(t,a),r=Fh(r,u,o.snap)):fo(a,t)&&(u=Vi(a,t),r=Fh(r,hn(),o.snap.getChild(u)));else if(o.children){if(fo(t,a))u=Vi(t,a),r=M5(r,u,o.children);else if(fo(a,t))if(u=Vi(a,t),Kt(u))r=M5(r,hn(),o.children);else{const c=If(o.children,Vt(u));if(c){const h=c.getChild(Cn(u));r=Fh(r,hn(),h)}}}else throw jf("WriteRecord should have .snap or .children")}}return r}function rx(n,e,t,r,i){if(!r&&!i){const o=yc(n.visibleWrites,e);if(o!=null)return o;{const a=nu(n.visibleWrites,e);if(c0(a))return t;if(t==null&&!u0(a,hn()))return null;{const u=t||Rt.EMPTY_NODE;return Tf(a,u)}}}else{const o=nu(n.visibleWrites,e);if(!i&&c0(o))return t;if(!i&&t==null&&!u0(o,hn()))return null;{const a=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(fo(h.path,e)||fo(e,h.path))},u=nx(n.allWrites,a,e),c=t||Rt.EMPTY_NODE;return Tf(u,c)}}}function oP(n,e,t){let r=Rt.EMPTY_NODE;const i=yc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(tr,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(t){const o=nu(n.visibleWrites,e);return t.forEachChild(tr,(a,u)=>{const c=Tf(nu(o,new An(a)),u);r=r.updateImmediateChild(a,c)}),B5(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=nu(n.visibleWrites,e);return B5(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function aP(n,e,t,r,i){lt(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Er(e,t);if(u0(n.visibleWrites,o))return null;{const a=nu(n.visibleWrites,o);return c0(a)?i.getChild(t):Tf(a,i.getChild(t))}}function lP(n,e,t,r){const i=Er(e,t),o=yc(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){const a=nu(n.visibleWrites,i);return Tf(a,r.getNode().getImmediateChild(t))}else return null}function uP(n,e){return yc(n.visibleWrites,e)}function cP(n,e,t,r,i,o,a){let u;const c=nu(n.visibleWrites,e),h=yc(c,hn());if(h!=null)u=h;else if(t!=null)u=Tf(c,t);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const m=[],g=a.getCompare(),y=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a);let p=y.getNext();for(;p&&m.length<i;)g(p,r)!==0&&m.push(p),p=y.getNext();return m}else return[]}function fP(){return{visibleWrites:po.empty(),allWrites:[],lastWriteId:-1}}function Vp(n,e,t,r){return rx(n.writeTree,n.treePath,e,t,r)}function Ev(n,e){return oP(n.writeTree,n.treePath,e)}function U5(n,e,t,r){return aP(n.writeTree,n.treePath,e,t,r)}function $p(n,e){return uP(n.writeTree,Er(n.treePath,e))}function hP(n,e,t,r,i,o){return cP(n.writeTree,n.treePath,e,t,r,i,o)}function Av(n,e,t){return lP(n.writeTree,n.treePath,e,t)}function ix(n,e){return sx(Er(n.treePath,e),n.writeTree)}function sx(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;lt(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),lt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,Vh(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,Hh(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,kf(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,Vh(r,e.snapshotNode,i.oldSnap));else throw jf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const ox=new pP;class Nv{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new hc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Av(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dc(this.viewCache_),o=hP(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){return{filter:n}}function gP(n,e){lt(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),lt(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function vP(n,e,t,r,i){const o=new dP;let a,u;if(t.type===ho.OVERWRITE){const h=t;h.source.fromUser?a=f0(n,e,h.path,h.snap,r,i,o):(lt(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered()&&!Kt(h.path),a=Gp(n,e,h.path,h.snap,r,i,u,o))}else if(t.type===ho.MERGE){const h=t;h.source.fromUser?a=wP(n,e,h.path,h.children,r,i,o):(lt(h.source.fromServer,"Unknown source."),u=h.source.tagged||e.serverCache.isFiltered(),a=h0(n,e,h.path,h.children,r,i,u,o))}else if(t.type===ho.ACK_USER_WRITE){const h=t;h.revert?a=SP(n,e,h.path,r,i,o):a=_P(n,e,h.path,h.affectedTree,r,i,o)}else if(t.type===ho.LISTEN_COMPLETE)a=bP(n,e,t.path,r,o);else throw jf("Unknown operation type: "+t.type);const c=o.getChanges();return yP(e,a,c),{viewCache:a,changes:c}}function yP(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=l0(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(JS(l0(e)))}}function ax(n,e,t,r,i,o){const a=e.eventCache;if($p(r,t)!=null)return e;{let u,c;if(Kt(t))if(lt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=dc(e),m=h instanceof Rt?h:Rt.EMPTY_NODE,g=Ev(r,m);u=n.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{const h=Vp(r,dc(e));u=n.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{const h=Vt(t);if(h===".priority"){lt(su(t)===1,"Can't have a priority with additional path components");const m=a.getNode();c=e.serverCache.getNode();const g=U5(r,t,m,c);g!=null?u=n.filter.updatePriority(m,g):u=a.getNode()}else{const m=Cn(t);let g;if(a.isCompleteForChild(h)){c=e.serverCache.getNode();const y=U5(r,t,a.getNode(),c);y!=null?g=a.getNode().getImmediateChild(h).updateChild(m,y):g=a.getNode().getImmediateChild(h)}else g=Av(r,h,e.serverCache);g!=null?u=n.filter.updateChild(a.getNode(),h,g,m,i,o):u=a.getNode()}}return Oh(e,u,a.isFullyInitialized()||Kt(t),n.filter.filtersNodes())}}function Gp(n,e,t,r,i,o,a,u){const c=e.serverCache;let h;const m=a?n.filter:n.filter.getIndexedFilter();if(Kt(t))h=m.updateFullNode(c.getNode(),r,null);else if(m.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(t,r);h=m.updateFullNode(c.getNode(),p,null)}else{const p=Vt(t);if(!c.isCompleteForPath(t)&&su(t)>1)return e;const E=Cn(t),k=c.getNode().getImmediateChild(p).updateChild(E,r);p===".priority"?h=m.updatePriority(c.getNode(),k):h=m.updateChild(c.getNode(),p,k,E,ox,null)}const g=ex(e,h,c.isFullyInitialized()||Kt(t),m.filtersNodes()),y=new Nv(i,g,o);return ax(n,g,t,i,y,u)}function f0(n,e,t,r,i,o,a){const u=e.eventCache;let c,h;const m=new Nv(i,e,o);if(Kt(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Oh(e,h,!0,n.filter.filtersNodes());else{const g=Vt(t);if(g===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),c=Oh(e,h,u.isFullyInitialized(),u.isFiltered());else{const y=Cn(t),p=u.getNode().getImmediateChild(g);let E;if(Kt(y))E=r;else{const S=m.getCompleteChild(g);S!=null?qS(y)===".priority"&&S.getChild(HS(y)).isEmpty()?E=S:E=S.updateChild(y,r):E=Rt.EMPTY_NODE}if(p.equals(E))c=e;else{const S=n.filter.updateChild(u.getNode(),g,E,y,m,a);c=Oh(e,S,u.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function z5(n,e){return n.eventCache.isCompleteForChild(e)}function wP(n,e,t,r,i,o,a){let u=e;return r.foreach((c,h)=>{const m=Er(t,c);z5(e,Vt(m))&&(u=f0(n,u,m,h,i,o,a))}),r.foreach((c,h)=>{const m=Er(t,c);z5(e,Vt(m))||(u=f0(n,u,m,h,i,o,a))}),u}function q5(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function h0(n,e,t,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;Kt(t)?h=r:h=new Mn(null).setTree(t,r);const m=e.serverCache.getNode();return h.children.inorderTraversal((g,y)=>{if(m.hasChild(g)){const p=e.serverCache.getNode().getImmediateChild(g),E=q5(n,p,y);c=Gp(n,c,new An(g),E,i,o,a,u)}}),h.children.inorderTraversal((g,y)=>{const p=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!m.hasChild(g)&&!p){const E=e.serverCache.getNode().getImmediateChild(g),S=q5(n,E,y);c=Gp(n,c,new An(g),S,i,o,a,u)}}),c}function _P(n,e,t,r,i,o,a){if($p(i,t)!=null)return e;const u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Kt(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Gp(n,e,t,c.getNode().getChild(t),i,o,u,a);if(Kt(t)){let h=new Mn(null);return c.getNode().forEachChild(mf,(m,g)=>{h=h.set(new An(m),g)}),h0(n,e,t,h,i,o,u,a)}else return e}else{let h=new Mn(null);return r.foreach((m,g)=>{const y=Er(t,m);c.isCompleteForPath(y)&&(h=h.set(m,c.getNode().getChild(y)))}),h0(n,e,t,h,i,o,u,a)}}function bP(n,e,t,r,i){const o=e.serverCache,a=ex(e,o.getNode(),o.isFullyInitialized()||Kt(t),o.isFiltered());return ax(n,a,t,r,ox,i)}function SP(n,e,t,r,i,o){let a;if($p(r,t)!=null)return e;{const u=new Nv(r,e,i),c=e.eventCache.getNode();let h;if(Kt(t)||Vt(t)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=Vp(r,dc(e));else{const g=e.serverCache.getNode();lt(g instanceof Rt,"serverChildren would be complete if leaf node"),m=Ev(r,g)}m=m,h=n.filter.updateFullNode(c,m,o)}else{const m=Vt(t);let g=Av(r,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=c.getImmediateChild(m)),g!=null?h=n.filter.updateChild(c,m,g,Cn(t),u,o):e.eventCache.getNode().hasChild(m)?h=n.filter.updateChild(c,m,Rt.EMPTY_NODE,Cn(t),u,o):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Vp(r,dc(e)),a.isLeafNode()&&(h=n.filter.updateFullNode(h,a,o)))}return a=e.serverCache.isFullyInitialized()||$p(r,hn())!=null,Oh(e,h,a,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new wv(r.getIndex()),o=qT(r);this.processor_=mP(o);const a=t.serverCache,u=t.eventCache,c=i.updateFullNode(Rt.EMPTY_NODE,a.getNode(),null),h=o.updateFullNode(Rt.EMPTY_NODE,u.getNode(),null),m=new hc(c,a.isFullyInitialized(),i.filtersNodes()),g=new hc(h,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=gm(g,m),this.eventGenerator_=new YT(this.query_)}get query(){return this.query_}}function EP(n){return n.viewCache_.serverCache.getNode()}function AP(n,e){const t=dc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Kt(e)&&!t.getImmediateChild(Vt(e)).isEmpty())?t.getChild(e):null}function W5(n){return n.eventRegistrations_.length===0}function NP(n,e){n.eventRegistrations_.push(e)}function H5(n,e,t){const r=[];if(t){lt(e==null,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(t,i);a&&r.push(a)})}if(e){let i=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function V5(n,e,t,r){e.type===ho.MERGE&&e.source.queryId!==null&&(lt(dc(n.viewCache_),"We should always have a full cache before handling merges"),lt(l0(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=vP(n.processor_,i,e,t,r);return gP(n.processor_,o.viewCache),lt(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,lx(n,o.changes,o.viewCache.eventCache.getNode(),null)}function IP(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(tr,(o,a)=>{r.push(kf(o,a))}),t.isFullyInitialized()&&r.push(JS(t.getNode())),lx(n,r,t.getNode(),e)}function lx(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return XT(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp;class CP{constructor(){this.views=new Map}}function kP(n){lt(!Kp,"__referenceConstructor has already been defined"),Kp=n}function TP(){return lt(Kp,"Reference.ts has not been loaded"),Kp}function PP(n){return n.views.size===0}function Iv(n,e,t,r){const i=e.source.queryId;if(i!==null){const o=n.views.get(i);return lt(o!=null,"SyncTree gave us an op for an invalid query."),V5(o,e,t,r)}else{let o=[];for(const a of n.views.values())o=o.concat(V5(a,e,t,r));return o}}function LP(n,e,t,r,i){const o=e._queryIdentifier,a=n.views.get(o);if(!a){let u=Vp(t,i?r:null),c=!1;u?c=!0:r instanceof Rt?(u=Ev(t,r),c=!1):(u=Rt.EMPTY_NODE,c=!1);const h=gm(new hc(u,c,!1),new hc(r,i,!1));return new xP(e,h)}return a}function RP(n,e,t,r,i,o){const a=LP(n,e,r,i,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),NP(a,t),IP(a,t)}function OP(n,e,t,r){const i=e._queryIdentifier,o=[];let a=[];const u=ou(n);if(i==="default")for(const[c,h]of n.views.entries())a=a.concat(H5(h,t,r)),W5(h)&&(n.views.delete(c),h.query._queryParams.loadsAllData()||o.push(h.query));else{const c=n.views.get(i);c&&(a=a.concat(H5(c,t,r)),W5(c)&&(n.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return u&&!ou(n)&&o.push(new(TP())(e._repo,e._path)),{removed:o,events:a}}function ux(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function gf(n,e){let t=null;for(const r of n.views.values())t=t||AP(r,e);return t}function cx(n,e){if(e._queryParams.loadsAllData())return vm(n);{const r=e._queryIdentifier;return n.views.get(r)}}function fx(n,e){return cx(n,e)!=null}function ou(n){return vm(n)!=null}function vm(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp;function FP(n){lt(!Yp,"__referenceConstructor has already been defined"),Yp=n}function DP(){return lt(Yp,"Reference.ts has not been loaded"),Yp}let MP=1;class $5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=fP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hx(n,e,t,r,i){return eP(n.pendingWriteTree_,e,t,r,i),i?ld(n,new fc(ZS(),e,t)):[]}function tc(n,e,t=!1){const r=tP(n.pendingWriteTree_,e);if(nP(n.pendingWriteTree_,e)){let o=new Mn(null);return r.snap!=null?o=o.set(hn(),!0):Yi(r.children,a=>{o=o.set(new An(a),!0)}),ld(n,new Hp(r.path,o,t))}else return[]}function ym(n,e,t){return ld(n,new fc(bv(),e,t))}function jP(n,e,t){const r=Mn.fromObject(t);return ld(n,new Kh(bv(),e,r))}function BP(n,e){return ld(n,new Gh(bv(),e))}function UP(n,e,t){const r=kv(n,t);if(r){const i=Tv(r),o=i.path,a=i.queryId,u=Vi(o,e),c=new Gh(Sv(a),u);return Pv(n,o,c)}else return[]}function d0(n,e,t,r,i=!1){const o=e._path,a=n.syncPointTree_.get(o);let u=[];if(a&&(e._queryIdentifier==="default"||fx(a,e))){const c=OP(a,e,t,r);PP(a)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const h=c.removed;if(u=c.events,!i){const m=h.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=n.syncPointTree_.findOnPath(o,(y,p)=>ou(p));if(m&&!g){const y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){const p=WP(y);for(let E=0;E<p.length;++E){const S=p[E],k=S.query,_=mx(n,S);n.listenProvider_.startListening(Dh(k),Xp(n,k),_.hashFn,_.onComplete)}}}!g&&h.length>0&&!r&&(m?n.listenProvider_.stopListening(Dh(e),null):h.forEach(y=>{const p=n.queryToTagMap.get(wm(y));n.listenProvider_.stopListening(Dh(y),p)}))}HP(n,h)}return u}function zP(n,e,t,r){const i=kv(n,r);if(i!=null){const o=Tv(i),a=o.path,u=o.queryId,c=Vi(a,e),h=new fc(Sv(u),c,t);return Pv(n,a,h)}else return[]}function qP(n,e,t,r){const i=kv(n,r);if(i){const o=Tv(i),a=o.path,u=o.queryId,c=Vi(a,e),h=Mn.fromObject(t),m=new Kh(Sv(u),c,h);return Pv(n,a,m)}else return[]}function G5(n,e,t,r=!1){const i=e._path;let o=null,a=!1;n.syncPointTree_.foreachOnPath(i,(y,p)=>{const E=Vi(y,i);o=o||gf(p,E),a=a||ou(p)});let u=n.syncPointTree_.get(i);u?(a=a||ou(u),o=o||gf(u,hn())):(u=new CP,n.syncPointTree_=n.syncPointTree_.set(i,u));let c;o!=null?c=!0:(c=!1,o=Rt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((p,E)=>{const S=gf(E,hn());S&&(o=o.updateImmediateChild(p,S))}));const h=fx(u,e);if(!h&&!e._queryParams.loadsAllData()){const y=wm(e);lt(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const p=VP();n.queryToTagMap.set(y,p),n.tagToQueryMap.set(p,y)}const m=xv(n.pendingWriteTree_,i);let g=RP(u,e,t,m,o,c);if(!h&&!a&&!r){const y=cx(u,e);g=g.concat($P(n,e,y))}return g}function Cv(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(a,u)=>{const c=Vi(a,e),h=gf(u,c);if(h)return h});return rx(i,e,o,t,!0)}function ld(n,e){return dx(e,n.syncPointTree_,null,xv(n.pendingWriteTree_,hn()))}function dx(n,e,t,r){if(Kt(n.path))return px(n,e,t,r);{const i=e.get(hn());t==null&&i!=null&&(t=gf(i,hn()));let o=[];const a=Vt(n.path),u=n.operationForChild(a),c=e.children.get(a);if(c&&u){const h=t?t.getImmediateChild(a):null,m=ix(r,a);o=o.concat(dx(u,c,h,m))}return i&&(o=o.concat(Iv(i,n,r,t))),o}}function px(n,e,t,r){const i=e.get(hn());t==null&&i!=null&&(t=gf(i,hn()));let o=[];return e.children.inorderTraversal((a,u)=>{const c=t?t.getImmediateChild(a):null,h=ix(r,a),m=n.operationForChild(a);m&&(o=o.concat(px(m,u,c,h)))}),i&&(o=o.concat(Iv(i,n,r,t))),o}function mx(n,e){const t=e.query,r=Xp(n,t);return{hashFn:()=>(EP(e)||Rt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?UP(n,t._path,r):BP(n,t._path);{const o=zk(i,t);return d0(n,t,null,o)}}}}function Xp(n,e){const t=wm(e);return n.queryToTagMap.get(t)}function wm(n){return n._path.toString()+"$"+n._queryIdentifier}function kv(n,e){return n.tagToQueryMap.get(e)}function Tv(n){const e=n.indexOf("$");return lt(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new An(n.substr(0,e))}}function Pv(n,e,t){const r=n.syncPointTree_.get(e);lt(r,"Missing sync point for query tag that we're tracking");const i=xv(n.pendingWriteTree_,e);return Iv(r,t,i,null)}function WP(n){return n.fold((e,t,r)=>{if(t&&ou(t))return[vm(t)];{let i=[];return t&&(i=ux(t)),Yi(r,(o,a)=>{i=i.concat(a)}),i}})}function Dh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(DP())(n._repo,n._path):n}function HP(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=wm(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}function VP(){return MP++}function $P(n,e,t){const r=e._path,i=Xp(n,e),o=mx(n,t),a=n.listenProvider_.startListening(Dh(e),i,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(r);if(i)lt(!ou(u.value),"If we're adding a query, it shouldn't be shadowed");else{const c=u.fold((h,m,g)=>{if(!Kt(h)&&m&&ou(m))return[vm(m).query];{let y=[];return m&&(y=y.concat(ux(m).map(p=>p.query))),Yi(g,(p,E)=>{y=y.concat(E)}),y}});for(let h=0;h<c.length;++h){const m=c[h];n.listenProvider_.stopListening(Dh(m),Xp(n,m))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Lv(t)}node(){return this.node_}}class Rv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Er(this.path_,e);return new Rv(this.syncTree_,t)}node(){return Cv(this.syncTree_,this.path_)}}const GP=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},K5=function(n,e,t){if(!n||typeof n!="object")return n;if(lt(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return KP(n[".sv"],e,t);if(typeof n[".sv"]=="object")return YP(n[".sv"],e);lt(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},KP=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:lt(!1,"Unexpected server value: "+n)}},YP=function(n,e,t){n.hasOwnProperty("increment")||lt(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&lt(!1,"Unexpected increment value: "+r);const i=e.node();if(lt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},XP=function(n,e,t,r){return Ov(e,new Rv(t,n),r)},gx=function(n,e,t){return Ov(n,new Lv(e),t)};function Ov(n,e,t){const r=n.getPriority().val(),i=K5(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const a=n,u=K5(a.getValue(),e,t);return u!==a.getValue()||i!==a.getPriority().val()?new Or(u,Gr(i)):n}else{const a=n;return o=a,i!==a.getPriority().val()&&(o=o.updatePriority(new Or(i))),a.forEachChild(tr,(u,c)=>{const h=Ov(c,e.getImmediateChild(u),t);h!==c&&(o=o.updateImmediateChild(u,h))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Dv(n,e){let t=e instanceof An?e:new An(e),r=n,i=Vt(t);for(;i!==null;){const o=If(r.node.children,i)||{children:{},childCount:0};r=new Fv(i,r,o),t=Cn(t),i=Vt(t)}return r}function Hf(n){return n.node.value}function vx(n,e){n.node.value=e,p0(n)}function yx(n){return n.node.childCount>0}function JP(n){return Hf(n)===void 0&&!yx(n)}function _m(n,e){Yi(n.node.children,(t,r)=>{e(new Fv(t,n,r))})}function wx(n,e,t,r){t&&e(n),_m(n,i=>{wx(i,e,!0)})}function QP(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ud(n){return new An(n.parent===null?n.name:ud(n.parent)+"/"+n.name)}function p0(n){n.parent!==null&&ZP(n.parent,n.name,n)}function ZP(n,e,t){const r=JP(t),i=Qa(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,p0(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,p0(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=/[\[\].#$\/\u0000-\u001F\u007F]/,tL=/[\[\].#$\u0000-\u001F\u007F]/,qg=10*1024*1024,_x=function(n){return typeof n=="string"&&n.length!==0&&!eL.test(n)},bx=function(n){return typeof n=="string"&&n.length!==0&&!tL.test(n)},nL=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bx(n)},Sx=function(n,e,t,r){r&&e===void 0||Mv(K0(n,"value"),e,t)},Mv=function(n,e,t){const r=t instanceof An?new _T(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Xu(r));if(typeof e=="function")throw new Error(n+"contains a function "+Xu(r)+" with contents = "+e.toString());if(bS(e))throw new Error(n+"contains "+e.toString()+" "+Xu(r));if(typeof e=="string"&&e.length>qg/3&&lm(e)>qg)throw new Error(n+"contains a string greater than "+qg+" utf8 bytes "+Xu(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Yi(e,(a,u)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!_x(a)))throw new Error(n+" contains an invalid key ("+a+") "+Xu(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bT(r,a),Mv(n,u,r),ST(r)}),i&&o)throw new Error(n+' contains ".value" child '+Xu(r)+" in addition to actual children.")}},xx=function(n,e,t,r){if(!bx(t))throw new Error(K0(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rL=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xx(n,e,t)},Ex=function(n,e){if(Vt(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},iL=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_x(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!nL(t))throw new Error(K0(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();t!==null&&!gv(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function Ax(n,e,t){jv(n,t),Nx(n,r=>gv(r,e))}function Ja(n,e,t){jv(n,t),Nx(n,r=>fo(r,e)||fo(e,r))}function Nx(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const o=i.path;e(o)?(oL(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function oL(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Lh&&hi("event: "+t.toString()),Wf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="repo_interrupt",lL=25;class uL{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wp(),this.transactionQueueTree_=new Fv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cL(n,e,t){if(n.stats_=pv(n.repoInfo_),n.forceRestClient_||Vk())n.server_=new qp(n.repoInfo_,(r,i,o,a)=>{Y5(n,r,i,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>X5(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ga(n.repoInfo_,e,(r,i,o,a)=>{Y5(n,r,i,o,a)},r=>{X5(n,r)},r=>{fL(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=Xk(n.repoInfo_,()=>new KT(n.stats_,n.server_)),n.infoData_=new WT,n.infoSyncTree_=new $5({startListening:(r,i,o,a)=>{let u=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(u=ym(n.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),Uv(n,"connected",!1),n.serverSyncTree_=new $5({startListening:(r,i,o,a)=>(n.server_.listen(r,o,i,(u,c)=>{const h=a(u,c);Ja(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function Ix(n){const t=n.infoData_.getNode(new An(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Bv(n){return GP({timestamp:Ix(n)})}function Y5(n,e,t,r,i){n.dataUpdateCount++;const o=new An(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(i)if(r){const c=Tp(t,h=>Gr(h));a=qP(n.serverSyncTree_,o,c,i)}else{const c=Gr(t);a=zP(n.serverSyncTree_,o,c,i)}else if(r){const c=Tp(t,h=>Gr(h));a=jP(n.serverSyncTree_,o,c)}else{const c=Gr(t);a=ym(n.serverSyncTree_,o,c)}let u=o;a.length>0&&(u=bm(n,o)),Ja(n.eventQueue_,u,a)}function X5(n,e){Uv(n,"connected",e),e===!1&&dL(n)}function fL(n,e){Yi(e,(t,r)=>{Uv(n,t,r)})}function Uv(n,e,t){const r=new An("/.info/"+e),i=Gr(t);n.infoData_.updateSnapshot(r,i);const o=ym(n.infoSyncTree_,r,i);Ja(n.eventQueue_,r,o)}function Cx(n){return n.nextWriteId_++}function hL(n,e,t,r,i){zv(n,"set",{path:e.toString(),value:t,priority:r});const o=Bv(n),a=Gr(t,r),u=Cv(n.serverSyncTree_,e),c=gx(a,u,o),h=Cx(n),m=hx(n.serverSyncTree_,e,c,h,!0);jv(n.eventQueue_,m),n.server_.put(e.toString(),a.val(!0),(y,p)=>{const E=y==="ok";E||Ki("set at "+e+" failed: "+y);const S=tc(n.serverSyncTree_,h,!E);Ja(n.eventQueue_,e,S),vL(n,i,y,p)});const g=Rx(n,e);bm(n,g),Ja(n.eventQueue_,g,[])}function dL(n){zv(n,"onDisconnectEvents");const e=Bv(n),t=Wp();a0(n.onDisconnect_,hn(),(i,o)=>{const a=XP(i,o,n.serverSyncTree_,e);QS(t,i,a)});let r=[];a0(t,hn(),(i,o)=>{r=r.concat(ym(n.serverSyncTree_,i,o));const a=Rx(n,i);bm(n,a)}),n.onDisconnect_=Wp(),Ja(n.eventQueue_,hn(),r)}function pL(n,e,t){let r;Vt(e._path)===".info"?r=G5(n.infoSyncTree_,e,t):r=G5(n.serverSyncTree_,e,t),Ax(n.eventQueue_,e._path,r)}function mL(n,e,t){let r;Vt(e._path)===".info"?r=d0(n.infoSyncTree_,e,t):r=d0(n.serverSyncTree_,e,t),Ax(n.eventQueue_,e._path,r)}function gL(n){n.persistentConnection_&&n.persistentConnection_.interrupt(aL)}function zv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),hi(t,...e)}function vL(n,e,t,r){e&&Wf(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let o=i;r&&(o+=": "+r);const a=new Error(o);a.code=i,e(a)}})}function kx(n,e,t){return Cv(n.serverSyncTree_,e,t)||Rt.EMPTY_NODE}function qv(n,e=n.transactionQueueTree_){if(e||Sm(n,e),Hf(e)){const t=Px(n,e);lt(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&yL(n,ud(e),t)}else yx(e)&&_m(e,t=>{qv(n,t)})}function yL(n,e,t){const r=t.map(h=>h.currentWriteId),i=kx(n,e,r);let o=i;const a=i.hash();for(let h=0;h<t.length;h++){const m=t[h];lt(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=Vi(e,m.path);o=o.updateChild(g,m.currentOutputSnapshotRaw)}const u=o.val(!0),c=e;n.server_.put(c.toString(),u,h=>{zv(n,"transaction put response",{path:c.toString(),status:h});let m=[];if(h==="ok"){const g=[];for(let y=0;y<t.length;y++)t[y].status=2,m=m.concat(tc(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&g.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();Sm(n,Dv(n.transactionQueueTree_,e)),qv(n,n.transactionQueueTree_),Ja(n.eventQueue_,e,m);for(let y=0;y<g.length;y++)Wf(g[y])}else{if(h==="datastale")for(let g=0;g<t.length;g++)t[g].status===3?t[g].status=4:t[g].status=0;else{Ki("transaction at "+c.toString()+" failed: "+h);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=h}bm(n,e)}},a)}function bm(n,e){const t=Tx(n,e),r=ud(t),i=Px(n,t);return wL(n,i,r),r}function wL(n,e,t){if(e.length===0)return;const r=[];let i=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const c=e[u],h=Vi(t,c.path);let m=!1,g;if(lt(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)m=!0,g=c.abortReason,i=i.concat(tc(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=lL)m=!0,g="maxretry",i=i.concat(tc(n.serverSyncTree_,c.currentWriteId,!0));else{const y=kx(n,c.path,a);c.currentInputSnapshot=y;const p=e[u].update(y.val());if(p!==void 0){Mv("transaction failed: Data returned ",p,c.path);let E=Gr(p);typeof p=="object"&&p!=null&&Qa(p,".priority")||(E=E.updatePriority(y.getPriority()));const k=c.currentWriteId,_=Bv(n),T=gx(E,y,_);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=T,c.currentWriteId=Cx(n),a.splice(a.indexOf(k),1),i=i.concat(hx(n.serverSyncTree_,c.path,T,c.currentWriteId,c.applyLocally)),i=i.concat(tc(n.serverSyncTree_,k,!0))}else m=!0,g="nodata",i=i.concat(tc(n.serverSyncTree_,c.currentWriteId,!0))}Ja(n.eventQueue_,t,i),i=[],m&&(e[u].status=2,function(y){setTimeout(y,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(g==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(g),!1,null))))}Sm(n,n.transactionQueueTree_);for(let u=0;u<r.length;u++)Wf(r[u]);qv(n,n.transactionQueueTree_)}function Tx(n,e){let t,r=n.transactionQueueTree_;for(t=Vt(e);t!==null&&Hf(r)===void 0;)r=Dv(r,t),e=Cn(e),t=Vt(e);return r}function Px(n,e){const t=[];return Lx(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Lx(n,e,t){const r=Hf(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);_m(e,i=>{Lx(n,i,t)})}function Sm(n,e){const t=Hf(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,vx(e,t.length>0?t:void 0)}_m(e,r=>{Sm(n,r)})}function Rx(n,e){const t=ud(Tx(n,e)),r=Dv(n.transactionQueueTree_,e);return QP(r,i=>{Wg(n,i)}),Wg(n,r),wx(r,i=>{Wg(n,i)}),t}function Wg(n,e){const t=Hf(e);if(t){const r=[];let i=[],o=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(lt(o===a-1,"All SENT items should be at beginning of queue."),o=a,t[a].status=3,t[a].abortReason="set"):(lt(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),i=i.concat(tc(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&r.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?vx(e,void 0):t.length=o+1,Ja(n.eventQueue_,ud(e),i);for(let a=0;a<r.length;a++)Wf(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function bL(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ki(`Invalid query segment '${t}' in query '${n}'`)}return e}const J5=function(n,e){const t=SL(n),r=t.namespace;t.domain==="firebase.com"&&Xa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Xa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Dk();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new RS(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new An(t.pathString)}},SL=function(n){let e="",t="",r="",i="",o="",a=!0,u="https",c=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(u=n.substring(0,h-1),n=n.substring(h+2));let m=n.indexOf("/");m===-1&&(m=n.length);let g=n.indexOf("?");g===-1&&(g=n.length),e=n.substring(0,Math.min(m,g)),m<g&&(i=_L(n.substring(m,g)));const y=bL(n.substring(Math.min(n.length,g)));h=e.indexOf(":"),h>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const p=e.slice(0,h);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),t=e.substring(E+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xL=function(){let n=0;const e=[];return function(t){const r=t===n;n=t;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Q5.charAt(t%64),t=Math.floor(t/64);lt(t===0,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Q5.charAt(e[i]);return lt(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Mr(this.snapshot.exportVal())}}class AL{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return lt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Kt(this._path)?null:qS(this._path)}get ref(){return new du(this._repo,this._path)}get _queryIdentifier(){const e=F5(this._queryParams),t=hv(e);return t==="{}"?"default":t}get _queryObject(){return F5(this._queryParams)}isEqual(e){if(e=Kr(e),!(e instanceof Wv))return!1;const t=this._repo===e._repo,r=gv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+wT(this._path)}}class du extends Wv{constructor(e,t){super(e,t,new _v,!1)}get parent(){const e=HS(this._path);return e===null?null:new du(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Jp{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new An(e),r=Yh(this.ref,e);return new Jp(this._node.getChild(t),r,tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Jp(i,Yh(this.ref,r),tr)))}hasChild(e){const t=new An(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hv(n,e){return n=Kr(n),n._checkNotDeleted("ref"),e!==void 0?Yh(n._root,e):n._root}function Yh(n,e){return n=Kr(n),Vt(n._path)===null?rL("child","path",e):xx("child","path",e),new du(n._repo,Er(n._path,e))}function IL(n,e){n=Kr(n),Ex("push",n._path),Sx("push",e,n._path,!0);const t=Ix(n._repo),r=xL(t),i=Yh(n,r),o=Yh(n,r);let a;return e!=null?a=Ox(o,e).then(()=>o):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Ox(n,e){n=Kr(n),Ex("set",n._path),Sx("set",e,n._path,!1);const t=new am;return hL(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class Vv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const r=t._queryParams.getIndex();return new EL("value",this,new Jp(e.snapshotNode,new du(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new AL(this,e,t):null}matches(e){return e instanceof Vv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function CL(n,e,t,r,i){const o=new NL(t,void 0),a=new Vv(o);return pL(n._repo,n,a),()=>mL(n._repo,n,a)}function kL(n,e,t,r){return CL(n,"value",e)}kP(du);FP(du);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="FIREBASE_DATABASE_EMULATOR_HOST",m0={};let PL=!1;function LL(n,e,t,r){n.repoInfo_=new RS(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function RL(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||Xa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hi("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=J5(o,i),u=a.repoInfo,c;typeof process<"u"&&v5&&(c=v5[TL]),c?(o=`http://${c}?ns=${u.namespace}`,a=J5(o,i),u=a.repoInfo):a.repoInfo.secure;const h=new Gk(n.name,n.options,e);iL("Invalid Firebase Database URL",a),Kt(a.path)||Xa("Database URL must point to the root of a Firebase Database (not including a child path).");const m=FL(u,n,h,new $k(n,t));return new DL(m,n)}function OL(n,e){const t=m0[e];(!t||t[n.key]!==n)&&Xa(`Database ${e}(${n.repoInfo_}) has already been deleted.`),gL(n),delete t[n.key]}function FL(n,e,t,r){let i=m0[e.name];i||(i={},m0[e.name]=i);let o=i[n.toURLString()];return o&&Xa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uL(n,PL,t,r),i[n.toURLString()]=o,o}class DL{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new du(this._repo,hn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xa("Cannot call "+e+" on a deleted database.")}}function ML(n=X0(),e){const t=gc(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=xA("database");r&&jL(t,...r)}return t}function jL(n,e,t,r={}){n=Kr(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&iu(r,o.repoInfo_.emulatorOptions))return;Xa("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Xa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new wp(wp.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:EA(r.mockUserToken,n.app.options.projectId);a=new wp(u)}LL(o,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){Tk(Uf),ta(new mo("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return RL(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),Os(y5,w5,n),Os(y5,w5,"esm2017")}Ga.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ga.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};BL();const UL={apiKey:"AIzaSyAgiblJpVISM371D6-0NH0txmNgMqSnJ4c",authDomain:"knowledge-nuggets.firebaseapp.com",projectId:"knowledge-nuggets",storageBucket:"knowledge-nuggets.firebasestorage.app",messagingSenderId:"947446377751",appId:"1:947446377751:web:8b2f5d861b3c08ec98db52",measurementId:"G-SF4NLTQ414",databaseURL:"https://knowledge-nuggets-default-rtdb.asia-southeast1.firebasedatabase.app/"},$v=hb(UL);dI($v);const Yo=Ck($v),Gv=ML($v),Z5=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e_=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d])[\s\S]{8,}$/,zL=()=>{const n=De.useRef(),e=De.useRef(),t=Zh(),[r,i]=De.useState(""),[o,a]=De.useState(!1),[u,c]=De.useState(!1),[h,m]=De.useState(""),[g,y]=De.useState(!1),[p,E]=De.useState(!1),[S,k]=De.useState(""),[_,T]=De.useState(!1),[j,H]=De.useState(!1),[X,we]=De.useState(""),[ce,oe]=De.useState(!1);De.useEffect(()=>{n.current.focus()},[]),De.useEffect(()=>{const Ee=Z5.test(r);a(Ee)},[r]),De.useEffect(()=>{const Ee=e_.test(h);y(Ee),T(h===S)},[h,S]),De.useEffect(()=>{we("")},[r,h,S]);const z=async Ee=>{Ee.preventDefault();const Q=Z5.test(r),B=e_.test(h);if(!Q||!B){we("Invalid Entry");return}try{const ee=await dC(Yo,r,h);console.log("User registered: ",ee.user),await Ox(Hv(Gv,"users/"+ee.user.uid),{email:r,createdAt:new Date().toISOString()}),oe(!0),t("/login")}catch(ee){console.error("Error registering user: ",ee),we(ee.message),e.current.focus()}};return be.jsxs("div",{className:"split-screen",children:[be.jsxs("div",{className:"left",children:[be.jsx("img",{src:`assets/kn-knowledge-nuggets.png
        `,alt:"Knowledge Nuggets Logo",className:"logo"}),be.jsxs("div",{className:"info",children:[be.jsx("h2",{children:"AI Video Summarization Tool for Learning"}),be.jsx("br",{}),be.jsx("p",{children:"Knowledge Nuggets uses a customized AI to increase your efficiency in learning"})]})]}),be.jsx("div",{className:"right",children:be.jsxs("section",{children:[be.jsx("p",{ref:e,className:X?"errmsg":"offscreen","aria-live":"assertive",children:X}),be.jsx("h1",{children:"Register"}),be.jsxs("form",{onSubmit:z,children:[be.jsxs("label",{htmlFor:"email",children:["Email:",be.jsx("span",{className:o?"valid":"hide",children:"✓"}),be.jsx("span",{className:o||!r?"hide":"invalid",children:"✗"})]}),be.jsx("input",{type:"text",id:"email",ref:n,autoComplete:"off",onChange:Ee=>i(Ee.target.value),required:!0,"aria-invalid":o?"false":"true","aria-describedby":"uidnote",onFocus:()=>c(!0),onBlur:()=>c(!1)}),be.jsx("p",{id:"uidnote",className:u&&r&&!o?"instructions":"offscreen",children:"Invalid Email Format."}),be.jsxs("label",{htmlFor:"password",children:["Password:",be.jsx("span",{className:g?"valid":"hide",children:"✓"}),be.jsx("span",{className:g||!h?"hide":"invalid",children:"✗"})]}),be.jsx("input",{type:"password",id:"password",onChange:Ee=>m(Ee.target.value),value:h,required:!0,"aria-invalid":g?"false":"true","aria-describedby":"pwdnote",onFocus:()=>E(!0),onBlur:()=>E(!1)}),be.jsxs("p",{id:"pwdnote",className:p&&!g?"instructions":"offscreen",children:["8 to 24 characters.",be.jsx("br",{}),"Must include uppercase and lowercase letters, a number and a special character.",be.jsx("br",{}),"Allowed special characters:"," ",be.jsx("span",{"aria-label":"exclamation mark",children:"!"})," ",be.jsx("span",{"aria-label":"at symbol",children:"@"})," ",be.jsx("span",{"aria-label":"hashtag",children:"#"})," ",be.jsx("span",{"aria-label":"dollar sign",children:"$"})," ",be.jsx("span",{"aria-label":"percent",children:"%"})]}),be.jsxs("label",{htmlFor:"confirm_pwd",children:["Confirm Password:",be.jsx("span",{className:_&&S?"valid":"hide",children:"✓"}),be.jsx("span",{className:_||!S?"hide":"invalid",children:"✗"})]}),be.jsx("input",{type:"password",id:"confirm_pwd",onChange:Ee=>k(Ee.target.value),value:S,required:!0,"aria-invalid":_?"false":"true","aria-describedby":"confirmnote",onFocus:()=>H(!0),onBlur:()=>H(!1)}),be.jsx("p",{id:"confirmnote",className:j&&!_?"instructions":"offscreen",children:"Must match the first password input field."}),be.jsx("button",{disabled:!o||!g||!_,children:"Sign Up"})]}),be.jsxs("p",{className:"already-registered",children:["Already registered?",be.jsx("br",{}),be.jsx(Nf,{to:"/login",className:"sign-in-link",children:"Sign In"})]})]})})]})},qL=()=>{const n=De.useRef(),e=De.useRef(),t=Zh(),[r,i]=De.useState(""),[o,a]=De.useState(""),[u,c]=De.useState(""),[h,m]=De.useState(!1);De.useEffect(()=>{n.current.focus()},[]),De.useEffect(()=>{c("")},[r,o]),De.useEffect(()=>{i(""),a("")},[]);const g=async y=>{y.preventDefault();try{const p=await pC(Yo,r,o);console.log("User logged in: ",p.user),m(!0),t("/home")}catch(p){console.error("Error logging in: ",p),c("Invalid username or password"),e.current.focus()}};return be.jsx(be.Fragment,{children:be.jsxs("div",{className:"split-screen",children:[be.jsxs("div",{className:"left",children:[be.jsx("img",{src:"assets/kn-knowledge-nuggets.png",alt:"Knowledge Nuggets Logo",className:"logo"}),be.jsxs("div",{className:"info",children:[be.jsx("h2",{children:"AI Video Summarization Tool for Learning"}),be.jsx("br",{}),be.jsx("p",{children:"Knowledge Nuggets uses a customized AI to increase your efficiency in learning"})]})]}),be.jsx("div",{className:"right",children:be.jsxs("section",{children:[be.jsx("p",{ref:e,className:u?"errmsg":"offscreen","aria-live":"assertive",children:u}),be.jsx("h1",{children:"Login"}),be.jsxs("form",{onSubmit:g,autoComplete:"off",children:[be.jsx("label",{htmlFor:"username",children:"Email:"}),be.jsx("input",{type:"text",id:"username",ref:n,autoComplete:"off",onChange:y=>i(y.target.value),value:r,required:!0}),be.jsx("label",{htmlFor:"password",children:"Password:"}),be.jsx("input",{type:"password",id:"password",autoComplete:"off",onChange:y=>a(y.target.value),value:o,required:!0}),be.jsx("button",{children:"Sign In"})]}),be.jsxs("p",{className:"need-account",children:["Need an Account?",be.jsx("br",{}),be.jsx(Nf,{to:"/register",className:"sign-up-button",children:"Sign Up"})]})]})})]})})},Fx=()=>{const n=Zh(),[e,t]=De.useState(null),[r,i]=De.useState(!1);De.useEffect(()=>{const u=uv(Yo,c=>{t(c)});return()=>u()},[]);const o=async()=>{try{await vC(Yo),n("/login")}catch(u){console.error("Error logging out: ",u)}},a=()=>{i(!r)};return be.jsx("nav",{className:"navbar",children:be.jsxs("div",{className:"navbar-container",children:[be.jsx(Nf,{to:"/home",className:"navbar-logo",children:be.jsx("img",{src:"assets/kn.png",alt:"Knowledge Nuggets Logo",className:"logo"})}),be.jsxs("button",{className:`hamburger ${r?"open":""}`,onClick:a,children:[be.jsx("div",{className:"line"}),be.jsx("div",{className:"line"}),be.jsx("div",{className:"line"})]}),be.jsxs("div",{className:`nav-links ${r?"open":""}`,children:[be.jsxs(Nf,{to:"/profile",className:"profile-button",children:[be.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[be.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),be.jsx("path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),be.jsx("path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855"})]}),"Profile"]}),be.jsxs("button",{onClick:o,className:"logout-button",children:[be.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[be.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),be.jsx("path",{d:"M7 12h14l-3 -3m0 6l3 -3"})]}),"Logout"]})]})]})})},t_=(n,e)=>{const t=Hv(Gv,`summaries/${n}`);return IL(t,{...e,timestamp:new Date().toISOString()})};var Dx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n_=ic.createContext&&ic.createContext(Dx),WL=["attr","size","title"];function HL(n,e){if(n==null)return{};var t=VL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function VL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Qp(){return Qp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qp.apply(this,arguments)}function r_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(t),!0).forEach(function(r){$L(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $L(n,e,t){return e=GL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GL(n){var e=KL(n,"string");return typeof e=="symbol"?e:e+""}function KL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mx(n){return n&&n.map((e,t)=>ic.createElement(e.tag,Zp({key:t},e.attr),Mx(e.child)))}function Kv(n){return e=>ic.createElement(YL,Qp({attr:Zp({},n.attr)},e),Mx(n.child))}function YL(n){var e=t=>{var{attr:r,size:i,title:o}=n,a=HL(n,WL),u=i||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),ic.createElement("svg",Qp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:c,style:Zp(Zp({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&ic.createElement("title",null,o),n.children)};return n_!==void 0?ic.createElement(n_.Consumer,null,t=>e(t)):e(Dx)}function XL(n){return Kv({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function JL(n){return Kv({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function QL(n){return Kv({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}var ZL=Object.defineProperty,e8=Object.defineProperties,t8=Object.getOwnPropertyDescriptors,i_=Object.getOwnPropertySymbols,n8=Object.prototype.hasOwnProperty,r8=Object.prototype.propertyIsEnumerable,g0=(n,e,t)=>e in n?ZL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fn=(n,e)=>{for(var t in e||(e={}))n8.call(e,t)&&g0(n,t,e[t]);if(i_)for(var t of i_(e))r8.call(e,t)&&g0(n,t,e[t]);return n},Xh=(n,e)=>e8(n,t8(e)),Qe=(n,e,t)=>(g0(n,typeof e!="symbol"?e+"":e,t),t),Zd=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{u(t.next(c))}catch(h){i(h)}},a=c=>{try{u(t.throw(c))}catch(h){i(h)}},u=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,a);u((t=t.apply(n,e)).next())});class em{constructor(e){Qe(this,"rootKey"),this.rootKey=e}}const i8=Object.seal({});class Ze extends em{constructor(e){super(e),Qe(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const r=this.root.map(i=>i instanceof em?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((t=r[0])!=null&&t._attr)?r[0]:r:i8}}addChildElement(e){return this.root.push(e),this}}class xm extends Ze{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class Dt extends em{constructor(e){super("_attr"),Qe(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.keys(this.root).forEach(r=>{const i=this.root[r];if(i!==void 0){const o=this.xmlKeys&&this.xmlKeys[r]||r;t[o]=i}}),{_attr:t}}}class cd extends em{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:o})=>Xh(fn({},r),{[i]:o}),{})}}}class dr extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bx={},Yv={exports:{}},vf=typeof Reflect=="object"?Reflect:null,s_=vf&&typeof vf.apply=="function"?vf.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},_p;vf&&typeof vf.ownKeys=="function"?_p=vf.ownKeys:Object.getOwnPropertySymbols?_p=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:_p=function(e){return Object.getOwnPropertyNames(e)};function s8(n){console&&console.warn&&console.warn(n)}var Ux=Number.isNaN||function(e){return e!==e};function Sn(){Sn.init.call(this)}Yv.exports=Sn;Yv.exports.once=u8;Sn.EventEmitter=Sn;Sn.prototype._events=void 0;Sn.prototype._eventsCount=0;Sn.prototype._maxListeners=void 0;var o_=10;function Em(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(Sn,"defaultMaxListeners",{enumerable:!0,get:function(){return o_},set:function(n){if(typeof n!="number"||n<0||Ux(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");o_=n}});Sn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Sn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ux(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function zx(n){return n._maxListeners===void 0?Sn.defaultMaxListeners:n._maxListeners}Sn.prototype.getMaxListeners=function(){return zx(this)};Sn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")s_(c,this,t);else for(var h=c.length,m=$x(c,h),r=0;r<h;++r)s_(m[r],this,t);return!0};function qx(n,e,t,r){var i,o,a;if(Em(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),a=o[e]),a===void 0)a=o[e]=t,++n._eventsCount;else if(typeof a=="function"?a=o[e]=r?[t,a]:[a,t]:r?a.unshift(t):a.push(t),i=zx(n),i>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=n,u.type=e,u.count=a.length,s8(u)}return n}Sn.prototype.addListener=function(e,t){return qx(this,e,t,!1)};Sn.prototype.on=Sn.prototype.addListener;Sn.prototype.prependListener=function(e,t){return qx(this,e,t,!0)};function o8(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Wx(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=o8.bind(r);return i.listener=t,r.wrapFn=i,i}Sn.prototype.once=function(e,t){return Em(t),this.on(e,Wx(this,e,t)),this};Sn.prototype.prependOnceListener=function(e,t){return Em(t),this.prependListener(e,Wx(this,e,t)),this};Sn.prototype.removeListener=function(e,t){var r,i,o,a,u;if(Em(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){u=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():a8(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this};Sn.prototype.off=Sn.prototype.removeListener;Sn.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function Hx(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?l8(i):$x(i,i.length)}Sn.prototype.listeners=function(e){return Hx(this,e,!0)};Sn.prototype.rawListeners=function(e){return Hx(this,e,!1)};Sn.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):Vx.call(n,e)};Sn.prototype.listenerCount=Vx;function Vx(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Sn.prototype.eventNames=function(){return this._eventsCount>0?_p(this._events):[]};function $x(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function a8(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function l8(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function u8(n,e){return new Promise(function(t,r){function i(a){n.removeListener(e,o),r(a)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}Gx(n,e,o,{once:!0}),e!=="error"&&c8(n,i,{once:!0})})}function c8(n,e,t){typeof n.on=="function"&&Gx(n,"error",e,t)}function Gx(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(o){r.once&&n.removeEventListener(e,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var Xv=Yv.exports,v0={exports:{}};typeof Object.create=="function"?v0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:v0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var wc=v0.exports;function f8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kx={exports:{}},pr=Kx.exports={},$o,Go;function y0(){throw new Error("setTimeout has not been defined")}function w0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$o=setTimeout:$o=y0}catch{$o=y0}try{typeof clearTimeout=="function"?Go=clearTimeout:Go=w0}catch{Go=w0}})();function Yx(n){if($o===setTimeout)return setTimeout(n,0);if(($o===y0||!$o)&&setTimeout)return $o=setTimeout,setTimeout(n,0);try{return $o(n,0)}catch{try{return $o.call(null,n,0)}catch{return $o.call(this,n,0)}}}function h8(n){if(Go===clearTimeout)return clearTimeout(n);if((Go===w0||!Go)&&clearTimeout)return Go=clearTimeout,clearTimeout(n);try{return Go(n)}catch{try{return Go.call(null,n)}catch{return Go.call(this,n)}}}var Ha=[],yf=!1,nc,bp=-1;function d8(){!yf||!nc||(yf=!1,nc.length?Ha=nc.concat(Ha):bp=-1,Ha.length&&Xx())}function Xx(){if(!yf){var n=Yx(d8);yf=!0;for(var e=Ha.length;e;){for(nc=Ha,Ha=[];++bp<e;)nc&&nc[bp].run();bp=-1,e=Ha.length}nc=null,yf=!1,h8(n)}}pr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Ha.push(new Jx(n,e)),Ha.length===1&&!yf&&Yx(Xx)};function Jx(n,e){this.fun=n,this.array=e}Jx.prototype.run=function(){this.fun.apply(null,this.array)};pr.title="browser";pr.browser=!0;pr.env={};pr.argv=[];pr.version="";pr.versions={};function Za(){}pr.on=Za;pr.addListener=Za;pr.once=Za;pr.off=Za;pr.removeListener=Za;pr.removeAllListeners=Za;pr.emit=Za;pr.prependListener=Za;pr.prependOnceListener=Za;pr.listeners=function(n){return[]};pr.binding=function(n){throw new Error("process.binding is not supported")};pr.cwd=function(){return"/"};pr.chdir=function(n){throw new Error("process.chdir is not supported")};pr.umask=function(){return 0};var p8=Kx.exports;const qt=f8(p8);var Hg,a_;function Qx(){return a_||(a_=1,Hg=Xv.EventEmitter),Hg}var Vg={},Sh={},l_;function m8(){if(l_)return Sh;l_=1,Sh.byteLength=u,Sh.toByteArray=h,Sh.fromByteArray=y;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)n[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(p){var E=p.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=p.indexOf("=");S===-1&&(S=E);var k=S===E?0:4-S%4;return[S,k]}function u(p){var E=a(p),S=E[0],k=E[1];return(S+k)*3/4-k}function c(p,E,S){return(E+S)*3/4-S}function h(p){var E,S=a(p),k=S[0],_=S[1],T=new t(c(p,k,_)),j=0,H=_>0?k-4:k,X;for(X=0;X<H;X+=4)E=e[p.charCodeAt(X)]<<18|e[p.charCodeAt(X+1)]<<12|e[p.charCodeAt(X+2)]<<6|e[p.charCodeAt(X+3)],T[j++]=E>>16&255,T[j++]=E>>8&255,T[j++]=E&255;return _===2&&(E=e[p.charCodeAt(X)]<<2|e[p.charCodeAt(X+1)]>>4,T[j++]=E&255),_===1&&(E=e[p.charCodeAt(X)]<<10|e[p.charCodeAt(X+1)]<<4|e[p.charCodeAt(X+2)]>>2,T[j++]=E>>8&255,T[j++]=E&255),T}function m(p){return n[p>>18&63]+n[p>>12&63]+n[p>>6&63]+n[p&63]}function g(p,E,S){for(var k,_=[],T=E;T<S;T+=3)k=(p[T]<<16&16711680)+(p[T+1]<<8&65280)+(p[T+2]&255),_.push(m(k));return _.join("")}function y(p){for(var E,S=p.length,k=S%3,_=[],T=16383,j=0,H=S-k;j<H;j+=T)_.push(g(p,j,j+T>H?H:j+T));return k===1?(E=p[S-1],_.push(n[E>>2]+n[E<<4&63]+"==")):k===2&&(E=(p[S-2]<<8)+p[S-1],_.push(n[E>>10]+n[E>>4&63]+n[E<<2&63]+"=")),_.join("")}return Sh}var ep={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var u_;function g8(){return u_||(u_=1,ep.read=function(n,e,t,r,i){var o,a,u=i*8-r-1,c=(1<<u)-1,h=c>>1,m=-7,g=t?i-1:0,y=t?-1:1,p=n[e+g];for(g+=y,o=p&(1<<-m)-1,p>>=-m,m+=u;m>0;o=o*256+n[e+g],g+=y,m-=8);for(a=o&(1<<-m)-1,o>>=-m,m+=r;m>0;a=a*256+n[e+g],g+=y,m-=8);if(o===0)o=1-h;else{if(o===c)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-h}return(p?-1:1)*a*Math.pow(2,o-r)},ep.write=function(n,e,t,r,i,o){var a,u,c,h=o*8-i-1,m=(1<<h)-1,g=m>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,E=r?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=m):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+g>=1?e+=y/c:e+=y*Math.pow(2,1-g),e*c>=2&&(a++,c/=2),a+g>=m?(u=0,a=m):a+g>=1?(u=(e*c-1)*Math.pow(2,i),a=a+g):(u=e*Math.pow(2,g-1)*Math.pow(2,i),a=0));i>=8;n[t+p]=u&255,p+=E,u/=256,i-=8);for(a=a<<i|u,h+=i;h>0;n[t+p]=a&255,p+=E,a/=256,h-=8);n[t+p-E]|=S*128}),ep}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var c_;function Am(){return c_||(c_=1,function(n){var e=m8(),t=g8(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=T,n.INSPECT_MAX_BYTES=50;var i=2147483647;n.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var I=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(I,b),I.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function a(I){if(I>i)throw new RangeError('The value "'+I+'" is invalid for option "size"');var b=new Uint8Array(I);return Object.setPrototypeOf(b,u.prototype),b}function u(I,b,x){if(typeof I=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(I)}return c(I,b,x)}u.poolSize=8192;function c(I,b,x){if(typeof I=="string")return y(I,b);if(ArrayBuffer.isView(I))return E(I);if(I==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(_e(I,ArrayBuffer)||I&&_e(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(I,SharedArrayBuffer)||I&&_e(I.buffer,SharedArrayBuffer)))return S(I,b,x);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var O=I.valueOf&&I.valueOf();if(O!=null&&O!==I)return u.from(O,b,x);var ae=k(I);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return u.from(I[Symbol.toPrimitive]("string"),b,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}u.from=function(I,b,x){return c(I,b,x)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function h(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function m(I,b,x){return h(I),I<=0?a(I):b!==void 0?typeof x=="string"?a(I).fill(b,x):a(I).fill(b):a(I)}u.alloc=function(I,b,x){return m(I,b,x)};function g(I){return h(I),a(I<0?0:_(I)|0)}u.allocUnsafe=function(I){return g(I)},u.allocUnsafeSlow=function(I){return g(I)};function y(I,b){if((typeof b!="string"||b==="")&&(b="utf8"),!u.isEncoding(b))throw new TypeError("Unknown encoding: "+b);var x=j(I,b)|0,O=a(x),ae=O.write(I,b);return ae!==x&&(O=O.slice(0,ae)),O}function p(I){for(var b=I.length<0?0:_(I.length)|0,x=a(b),O=0;O<b;O+=1)x[O]=I[O]&255;return x}function E(I){if(_e(I,Uint8Array)){var b=new Uint8Array(I);return S(b.buffer,b.byteOffset,b.byteLength)}return p(I)}function S(I,b,x){if(b<0||I.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<b+(x||0))throw new RangeError('"length" is outside of buffer bounds');var O;return b===void 0&&x===void 0?O=new Uint8Array(I):x===void 0?O=new Uint8Array(I,b):O=new Uint8Array(I,b,x),Object.setPrototypeOf(O,u.prototype),O}function k(I){if(u.isBuffer(I)){var b=_(I.length)|0,x=a(b);return x.length===0||I.copy(x,0,0,b),x}if(I.length!==void 0)return typeof I.length!="number"||D(I.length)?a(0):p(I);if(I.type==="Buffer"&&Array.isArray(I.data))return p(I.data)}function _(I){if(I>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return I|0}function T(I){return+I!=I&&(I=0),u.alloc(+I)}u.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==u.prototype},u.compare=function(b,x){if(_e(b,Uint8Array)&&(b=u.from(b,b.offset,b.byteLength)),_e(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(b)||!u.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===x)return 0;for(var O=b.length,ae=x.length,ve=0,he=Math.min(O,ae);ve<he;++ve)if(b[ve]!==x[ve]){O=b[ve],ae=x[ve];break}return O<ae?-1:ae<O?1:0},u.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(b,x){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return u.alloc(0);var O;if(x===void 0)for(x=0,O=0;O<b.length;++O)x+=b[O].length;var ae=u.allocUnsafe(x),ve=0;for(O=0;O<b.length;++O){var he=b[O];if(_e(he,Uint8Array))ve+he.length>ae.length?u.from(he).copy(ae,ve):Uint8Array.prototype.set.call(ae,he,ve);else if(u.isBuffer(he))he.copy(ae,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=he.length}return ae};function j(I,b){if(u.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||_e(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var x=I.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&x===0)return 0;for(var ae=!1;;)switch(b){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return L(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return V(I).length;default:if(ae)return O?-1:L(I).length;b=(""+b).toLowerCase(),ae=!0}}u.byteLength=j;function H(I,b,x){var O=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,b>>>=0,x<=b))return"";for(I||(I="utf8");;)switch(I){case"hex":return de(this,b,x);case"utf8":case"utf-8":return F(this,b,x);case"ascii":return pe(this,b,x);case"latin1":case"binary":return ye(this,b,x);case"base64":return ee(this,b,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,b,x);default:if(O)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),O=!0}}u.prototype._isBuffer=!0;function X(I,b,x){var O=I[b];I[b]=I[x],I[x]=O}u.prototype.swap16=function(){var b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var x=0;x<b;x+=2)X(this,x,x+1);return this},u.prototype.swap32=function(){var b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var x=0;x<b;x+=4)X(this,x,x+3),X(this,x+1,x+2);return this},u.prototype.swap64=function(){var b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var x=0;x<b;x+=8)X(this,x,x+7),X(this,x+1,x+6),X(this,x+2,x+5),X(this,x+3,x+4);return this},u.prototype.toString=function(){var b=this.length;return b===0?"":arguments.length===0?F(this,0,b):H.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(b){if(!u.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:u.compare(this,b)===0},u.prototype.inspect=function(){var b="",x=n.INSPECT_MAX_BYTES;return b=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(b+=" ... "),"<Buffer "+b+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(b,x,O,ae,ve){if(_e(b,Uint8Array)&&(b=u.from(b,b.offset,b.byteLength)),!u.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(x===void 0&&(x=0),O===void 0&&(O=b?b.length:0),ae===void 0&&(ae=0),ve===void 0&&(ve=this.length),x<0||O>b.length||ae<0||ve>this.length)throw new RangeError("out of range index");if(ae>=ve&&x>=O)return 0;if(ae>=ve)return-1;if(x>=O)return 1;if(x>>>=0,O>>>=0,ae>>>=0,ve>>>=0,this===b)return 0;for(var he=ve-ae,Oe=O-x,qe=Math.min(he,Oe),Ue=this.slice(ae,ve),Xe=b.slice(x,O),st=0;st<qe;++st)if(Ue[st]!==Xe[st]){he=Ue[st],Oe=Xe[st];break}return he<Oe?-1:Oe<he?1:0};function we(I,b,x,O,ae){if(I.length===0)return-1;if(typeof x=="string"?(O=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,D(x)&&(x=ae?0:I.length-1),x<0&&(x=I.length+x),x>=I.length){if(ae)return-1;x=I.length-1}else if(x<0)if(ae)x=0;else return-1;if(typeof b=="string"&&(b=u.from(b,O)),u.isBuffer(b))return b.length===0?-1:ce(I,b,x,O,ae);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(I,b,x):Uint8Array.prototype.lastIndexOf.call(I,b,x):ce(I,[b],x,O,ae);throw new TypeError("val must be string, number or Buffer")}function ce(I,b,x,O,ae){var ve=1,he=I.length,Oe=b.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(I.length<2||b.length<2)return-1;ve=2,he/=2,Oe/=2,x/=2}function qe(mt,At){return ve===1?mt[At]:mt.readUInt16BE(At*ve)}var Ue;if(ae){var Xe=-1;for(Ue=x;Ue<he;Ue++)if(qe(I,Ue)===qe(b,Xe===-1?0:Ue-Xe)){if(Xe===-1&&(Xe=Ue),Ue-Xe+1===Oe)return Xe*ve}else Xe!==-1&&(Ue-=Ue-Xe),Xe=-1}else for(x+Oe>he&&(x=he-Oe),Ue=x;Ue>=0;Ue--){for(var st=!0,ct=0;ct<Oe;ct++)if(qe(I,Ue+ct)!==qe(b,ct)){st=!1;break}if(st)return Ue}return-1}u.prototype.includes=function(b,x,O){return this.indexOf(b,x,O)!==-1},u.prototype.indexOf=function(b,x,O){return we(this,b,x,O,!0)},u.prototype.lastIndexOf=function(b,x,O){return we(this,b,x,O,!1)};function oe(I,b,x,O){x=Number(x)||0;var ae=I.length-x;O?(O=Number(O),O>ae&&(O=ae)):O=ae;var ve=b.length;O>ve/2&&(O=ve/2);for(var he=0;he<O;++he){var Oe=parseInt(b.substr(he*2,2),16);if(D(Oe))return he;I[x+he]=Oe}return he}function z(I,b,x,O){return ie(L(b,I.length-x),I,x,O)}function Ee(I,b,x,O){return ie(J(b),I,x,O)}function Q(I,b,x,O){return ie(V(b),I,x,O)}function B(I,b,x,O){return ie(le(b,I.length-x),I,x,O)}u.prototype.write=function(b,x,O,ae){if(x===void 0)ae="utf8",O=this.length,x=0;else if(O===void 0&&typeof x=="string")ae=x,O=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(O)?(O=O>>>0,ae===void 0&&(ae="utf8")):(ae=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ve=this.length-x;if((O===void 0||O>ve)&&(O=ve),b.length>0&&(O<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var he=!1;;)switch(ae){case"hex":return oe(this,b,x,O);case"utf8":case"utf-8":return z(this,b,x,O);case"ascii":case"latin1":case"binary":return Ee(this,b,x,O);case"base64":return Q(this,b,x,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,b,x,O);default:if(he)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),he=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(I,b,x){return b===0&&x===I.length?e.fromByteArray(I):e.fromByteArray(I.slice(b,x))}function F(I,b,x){x=Math.min(I.length,x);for(var O=[],ae=b;ae<x;){var ve=I[ae],he=null,Oe=ve>239?4:ve>223?3:ve>191?2:1;if(ae+Oe<=x){var qe,Ue,Xe,st;switch(Oe){case 1:ve<128&&(he=ve);break;case 2:qe=I[ae+1],(qe&192)===128&&(st=(ve&31)<<6|qe&63,st>127&&(he=st));break;case 3:qe=I[ae+1],Ue=I[ae+2],(qe&192)===128&&(Ue&192)===128&&(st=(ve&15)<<12|(qe&63)<<6|Ue&63,st>2047&&(st<55296||st>57343)&&(he=st));break;case 4:qe=I[ae+1],Ue=I[ae+2],Xe=I[ae+3],(qe&192)===128&&(Ue&192)===128&&(Xe&192)===128&&(st=(ve&15)<<18|(qe&63)<<12|(Ue&63)<<6|Xe&63,st>65535&&st<1114112&&(he=st))}}he===null?(he=65533,Oe=1):he>65535&&(he-=65536,O.push(he>>>10&1023|55296),he=56320|he&1023),O.push(he),ae+=Oe}return Ne(O)}var me=4096;function Ne(I){var b=I.length;if(b<=me)return String.fromCharCode.apply(String,I);for(var x="",O=0;O<b;)x+=String.fromCharCode.apply(String,I.slice(O,O+=me));return x}function pe(I,b,x){var O="";x=Math.min(I.length,x);for(var ae=b;ae<x;++ae)O+=String.fromCharCode(I[ae]&127);return O}function ye(I,b,x){var O="";x=Math.min(I.length,x);for(var ae=b;ae<x;++ae)O+=String.fromCharCode(I[ae]);return O}function de(I,b,x){var O=I.length;(!b||b<0)&&(b=0),(!x||x<0||x>O)&&(x=O);for(var ae="",ve=b;ve<x;++ve)ae+=se[I[ve]];return ae}function xe(I,b,x){for(var O=I.slice(b,x),ae="",ve=0;ve<O.length-1;ve+=2)ae+=String.fromCharCode(O[ve]+O[ve+1]*256);return ae}u.prototype.slice=function(b,x){var O=this.length;b=~~b,x=x===void 0?O:~~x,b<0?(b+=O,b<0&&(b=0)):b>O&&(b=O),x<0?(x+=O,x<0&&(x=0)):x>O&&(x=O),x<b&&(x=b);var ae=this.subarray(b,x);return Object.setPrototypeOf(ae,u.prototype),ae};function G(I,b,x){if(I%1!==0||I<0)throw new RangeError("offset is not uint");if(I+b>x)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(b,x,O){b=b>>>0,x=x>>>0,O||G(b,x,this.length);for(var ae=this[b],ve=1,he=0;++he<x&&(ve*=256);)ae+=this[b+he]*ve;return ae},u.prototype.readUintBE=u.prototype.readUIntBE=function(b,x,O){b=b>>>0,x=x>>>0,O||G(b,x,this.length);for(var ae=this[b+--x],ve=1;x>0&&(ve*=256);)ae+=this[b+--x]*ve;return ae},u.prototype.readUint8=u.prototype.readUInt8=function(b,x){return b=b>>>0,x||G(b,1,this.length),this[b]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(b,x){return b=b>>>0,x||G(b,2,this.length),this[b]|this[b+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(b,x){return b=b>>>0,x||G(b,2,this.length),this[b]<<8|this[b+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(b,x){return b=b>>>0,x||G(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(b,x){return b=b>>>0,x||G(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},u.prototype.readIntLE=function(b,x,O){b=b>>>0,x=x>>>0,O||G(b,x,this.length);for(var ae=this[b],ve=1,he=0;++he<x&&(ve*=256);)ae+=this[b+he]*ve;return ve*=128,ae>=ve&&(ae-=Math.pow(2,8*x)),ae},u.prototype.readIntBE=function(b,x,O){b=b>>>0,x=x>>>0,O||G(b,x,this.length);for(var ae=x,ve=1,he=this[b+--ae];ae>0&&(ve*=256);)he+=this[b+--ae]*ve;return ve*=128,he>=ve&&(he-=Math.pow(2,8*x)),he},u.prototype.readInt8=function(b,x){return b=b>>>0,x||G(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},u.prototype.readInt16LE=function(b,x){b=b>>>0,x||G(b,2,this.length);var O=this[b]|this[b+1]<<8;return O&32768?O|4294901760:O},u.prototype.readInt16BE=function(b,x){b=b>>>0,x||G(b,2,this.length);var O=this[b+1]|this[b]<<8;return O&32768?O|4294901760:O},u.prototype.readInt32LE=function(b,x){return b=b>>>0,x||G(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},u.prototype.readInt32BE=function(b,x){return b=b>>>0,x||G(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},u.prototype.readFloatLE=function(b,x){return b=b>>>0,x||G(b,4,this.length),t.read(this,b,!0,23,4)},u.prototype.readFloatBE=function(b,x){return b=b>>>0,x||G(b,4,this.length),t.read(this,b,!1,23,4)},u.prototype.readDoubleLE=function(b,x){return b=b>>>0,x||G(b,8,this.length),t.read(this,b,!0,52,8)},u.prototype.readDoubleBE=function(b,x){return b=b>>>0,x||G(b,8,this.length),t.read(this,b,!1,52,8)};function N(I,b,x,O,ae,ve){if(!u.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>ae||b<ve)throw new RangeError('"value" argument is out of bounds');if(x+O>I.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(b,x,O,ae){if(b=+b,x=x>>>0,O=O>>>0,!ae){var ve=Math.pow(2,8*O)-1;N(this,b,x,O,ve,0)}var he=1,Oe=0;for(this[x]=b&255;++Oe<O&&(he*=256);)this[x+Oe]=b/he&255;return x+O},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(b,x,O,ae){if(b=+b,x=x>>>0,O=O>>>0,!ae){var ve=Math.pow(2,8*O)-1;N(this,b,x,O,ve,0)}var he=O-1,Oe=1;for(this[x+he]=b&255;--he>=0&&(Oe*=256);)this[x+he]=b/Oe&255;return x+O},u.prototype.writeUint8=u.prototype.writeUInt8=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,1,255,0),this[x]=b&255,x+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,2,65535,0),this[x]=b&255,this[x+1]=b>>>8,x+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,2,65535,0),this[x]=b>>>8,this[x+1]=b&255,x+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,4,4294967295,0),this[x+3]=b>>>24,this[x+2]=b>>>16,this[x+1]=b>>>8,this[x]=b&255,x+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,4,4294967295,0),this[x]=b>>>24,this[x+1]=b>>>16,this[x+2]=b>>>8,this[x+3]=b&255,x+4},u.prototype.writeIntLE=function(b,x,O,ae){if(b=+b,x=x>>>0,!ae){var ve=Math.pow(2,8*O-1);N(this,b,x,O,ve-1,-ve)}var he=0,Oe=1,qe=0;for(this[x]=b&255;++he<O&&(Oe*=256);)b<0&&qe===0&&this[x+he-1]!==0&&(qe=1),this[x+he]=(b/Oe>>0)-qe&255;return x+O},u.prototype.writeIntBE=function(b,x,O,ae){if(b=+b,x=x>>>0,!ae){var ve=Math.pow(2,8*O-1);N(this,b,x,O,ve-1,-ve)}var he=O-1,Oe=1,qe=0;for(this[x+he]=b&255;--he>=0&&(Oe*=256);)b<0&&qe===0&&this[x+he+1]!==0&&(qe=1),this[x+he]=(b/Oe>>0)-qe&255;return x+O},u.prototype.writeInt8=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,1,127,-128),b<0&&(b=255+b+1),this[x]=b&255,x+1},u.prototype.writeInt16LE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,2,32767,-32768),this[x]=b&255,this[x+1]=b>>>8,x+2},u.prototype.writeInt16BE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,2,32767,-32768),this[x]=b>>>8,this[x+1]=b&255,x+2},u.prototype.writeInt32LE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,4,2147483647,-2147483648),this[x]=b&255,this[x+1]=b>>>8,this[x+2]=b>>>16,this[x+3]=b>>>24,x+4},u.prototype.writeInt32BE=function(b,x,O){return b=+b,x=x>>>0,O||N(this,b,x,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[x]=b>>>24,this[x+1]=b>>>16,this[x+2]=b>>>8,this[x+3]=b&255,x+4};function q(I,b,x,O,ae,ve){if(x+O>I.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function W(I,b,x,O,ae){return b=+b,x=x>>>0,ae||q(I,b,x,4),t.write(I,b,x,O,23,4),x+4}u.prototype.writeFloatLE=function(b,x,O){return W(this,b,x,!0,O)},u.prototype.writeFloatBE=function(b,x,O){return W(this,b,x,!1,O)};function ne(I,b,x,O,ae){return b=+b,x=x>>>0,ae||q(I,b,x,8),t.write(I,b,x,O,52,8),x+8}u.prototype.writeDoubleLE=function(b,x,O){return ne(this,b,x,!0,O)},u.prototype.writeDoubleBE=function(b,x,O){return ne(this,b,x,!1,O)},u.prototype.copy=function(b,x,O,ae){if(!u.isBuffer(b))throw new TypeError("argument should be a Buffer");if(O||(O=0),!ae&&ae!==0&&(ae=this.length),x>=b.length&&(x=b.length),x||(x=0),ae>0&&ae<O&&(ae=O),ae===O||b.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),b.length-x<ae-O&&(ae=b.length-x+O);var ve=ae-O;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,O,ae):Uint8Array.prototype.set.call(b,this.subarray(O,ae),x),ve},u.prototype.fill=function(b,x,O,ae){if(typeof b=="string"){if(typeof x=="string"?(ae=x,x=0,O=this.length):typeof O=="string"&&(ae=O,O=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!u.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(b.length===1){var ve=b.charCodeAt(0);(ae==="utf8"&&ve<128||ae==="latin1")&&(b=ve)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(x<0||this.length<x||this.length<O)throw new RangeError("Out of range index");if(O<=x)return this;x=x>>>0,O=O===void 0?this.length:O>>>0,b||(b=0);var he;if(typeof b=="number")for(he=x;he<O;++he)this[he]=b;else{var Oe=u.isBuffer(b)?b:u.from(b,ae),qe=Oe.length;if(qe===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(he=0;he<O-x;++he)this[he+x]=Oe[he%qe]}return this};var K=/[^+/0-9A-Za-z-_]/g;function R(I){if(I=I.split("=")[0],I=I.trim().replace(K,""),I.length<2)return"";for(;I.length%4!==0;)I=I+"=";return I}function L(I,b){b=b||1/0;for(var x,O=I.length,ae=null,ve=[],he=0;he<O;++he){if(x=I.charCodeAt(he),x>55295&&x<57344){if(!ae){if(x>56319){(b-=3)>-1&&ve.push(239,191,189);continue}else if(he+1===O){(b-=3)>-1&&ve.push(239,191,189);continue}ae=x;continue}if(x<56320){(b-=3)>-1&&ve.push(239,191,189),ae=x;continue}x=(ae-55296<<10|x-56320)+65536}else ae&&(b-=3)>-1&&ve.push(239,191,189);if(ae=null,x<128){if((b-=1)<0)break;ve.push(x)}else if(x<2048){if((b-=2)<0)break;ve.push(x>>6|192,x&63|128)}else if(x<65536){if((b-=3)<0)break;ve.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((b-=4)<0)break;ve.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ve}function J(I){for(var b=[],x=0;x<I.length;++x)b.push(I.charCodeAt(x)&255);return b}function le(I,b){for(var x,O,ae,ve=[],he=0;he<I.length&&!((b-=2)<0);++he)x=I.charCodeAt(he),O=x>>8,ae=x%256,ve.push(ae),ve.push(O);return ve}function V(I){return e.toByteArray(R(I))}function ie(I,b,x,O){for(var ae=0;ae<O&&!(ae+x>=b.length||ae>=I.length);++ae)b[ae+x]=I[ae];return ae}function _e(I,b){return I instanceof b||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===b.name}function D(I){return I!==I}var se=function(){for(var I="0123456789abcdef",b=new Array(256),x=0;x<16;++x)for(var O=x*16,ae=0;ae<16;++ae)b[O+ae]=I[x]+I[ae];return b}()}(Vg)),Vg}var $g={},Gg={},Kg,f_;function Zx(){return f_||(f_=1,Kg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Kg}var Yg,h_;function Jv(){if(h_)return Yg;h_=1;var n=Zx();return Yg=function(){return n()&&!!Symbol.toStringTag},Yg}var Xg,d_;function v8(){if(d_)return Xg;d_=1;var n=typeof Symbol<"u"&&Symbol,e=Zx();return Xg=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Xg}var Jg,p_;function y8(){if(p_)return Jg;p_=1;var n={foo:{}},e=Object;return Jg=function(){return{__proto__:n}.foo===n.foo&&!({__proto__:null}instanceof e)},Jg}var Qg,m_;function w8(){if(m_)return Qg;m_=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",i=function(c,h){for(var m=[],g=0;g<c.length;g+=1)m[g]=c[g];for(var y=0;y<h.length;y+=1)m[y+c.length]=h[y];return m},o=function(c,h){for(var m=[],g=h,y=0;g<c.length;g+=1,y+=1)m[y]=c[g];return m},a=function(u,c){for(var h="",m=0;m<u.length;m+=1)h+=u[m],m+1<u.length&&(h+=c);return h};return Qg=function(c){var h=this;if(typeof h!="function"||e.apply(h)!==r)throw new TypeError(n+h);for(var m=o(arguments,1),g,y=function(){if(this instanceof g){var _=h.apply(this,i(m,arguments));return Object(_)===_?_:this}return h.apply(c,i(m,arguments))},p=t(0,h.length-m.length),E=[],S=0;S<p;S++)E[S]="$"+S;if(g=Function("binder","return function ("+a(E,",")+"){ return binder.apply(this,arguments); }")(y),h.prototype){var k=function(){};k.prototype=h.prototype,g.prototype=new k,k.prototype=null}return g},Qg}var Zg,g_;function Qv(){if(g_)return Zg;g_=1;var n=w8();return Zg=Function.prototype.bind||n,Zg}var e1,v_;function _8(){if(v_)return e1;v_=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Qv();return e1=t.call(n,e),e1}var t1,y_;function Vf(){if(y_)return t1;y_=1;var n,e=SyntaxError,t=Function,r=TypeError,i=function(B){try{return t('"use strict"; return ('+B+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},u=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,c=v8()(),h=y8()(),m=Object.getPrototypeOf||(h?function(B){return B.__proto__}:null),g={},y=typeof Uint8Array>"u"||!m?n:m(Uint8Array),p={"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":c&&m?m([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&m?m(m([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!c||!m?n:m(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!c||!m?n:m(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&m?m(""[Symbol.iterator]()):n,"%Symbol%":c?Symbol:n,"%SyntaxError%":e,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet};if(m)try{null.error}catch(B){var E=m(m(B));p["%Error.prototype%"]=E}var S=function B(ee){var F;if(ee==="%AsyncFunction%")F=i("async function () {}");else if(ee==="%GeneratorFunction%")F=i("function* () {}");else if(ee==="%AsyncGeneratorFunction%")F=i("async function* () {}");else if(ee==="%AsyncGenerator%"){var me=B("%AsyncGeneratorFunction%");me&&(F=me.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var Ne=B("%AsyncGenerator%");Ne&&m&&(F=m(Ne.prototype))}return p[ee]=F,F},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=Qv(),T=_8(),j=_.call(Function.call,Array.prototype.concat),H=_.call(Function.apply,Array.prototype.splice),X=_.call(Function.call,String.prototype.replace),we=_.call(Function.call,String.prototype.slice),ce=_.call(Function.call,RegExp.prototype.exec),oe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,Ee=function(ee){var F=we(ee,0,1),me=we(ee,-1);if(F==="%"&&me!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(me==="%"&&F!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var Ne=[];return X(ee,oe,function(pe,ye,de,xe){Ne[Ne.length]=de?X(xe,z,"$1"):ye||pe}),Ne},Q=function(ee,F){var me=ee,Ne;if(T(k,me)&&(Ne=k[me],me="%"+Ne[0]+"%"),T(p,me)){var pe=p[me];if(pe===g&&(pe=S(me)),typeof pe>"u"&&!F)throw new r("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:Ne,name:me,value:pe}}throw new e("intrinsic "+ee+" does not exist!")};return t1=function(ee,F){if(typeof ee!="string"||ee.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof F!="boolean")throw new r('"allowMissing" argument must be a boolean');if(ce(/^%?[^%]*%?$/,ee)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var me=Ee(ee),Ne=me.length>0?me[0]:"",pe=Q("%"+Ne+"%",F),ye=pe.name,de=pe.value,xe=!1,G=pe.alias;G&&(Ne=G[0],H(me,j([0,1],G)));for(var N=1,q=!0;N<me.length;N+=1){var W=me[N],ne=we(W,0,1),K=we(W,-1);if((ne==='"'||ne==="'"||ne==="`"||K==='"'||K==="'"||K==="`")&&ne!==K)throw new e("property names with quotes must have matching quotes");if((W==="constructor"||!q)&&(xe=!0),Ne+="."+W,ye="%"+Ne+"%",T(p,ye))de=p[ye];else if(de!=null){if(!(W in de)){if(!F)throw new r("base intrinsic for "+ee+" exists, but the property is not available.");return}if(o&&N+1>=me.length){var R=o(de,W);q=!!R,q&&"get"in R&&!("originalValue"in R.get)?de=R.get:de=de[W]}else q=T(de,W),de=de[W];q&&!xe&&(p[ye]=de)}}return de},t1}var n1={exports:{}},r1,w_;function eE(){if(w_)return r1;w_=1;var n=Vf(),e=n("%Object.defineProperty%",!0),t=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return t.hasArrayLengthDefineBug=function(){if(!t())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},r1=t,r1}var i1,__;function Zv(){if(__)return i1;__=1;var n=Vf(),e=n("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return i1=e,i1}var s1,b_;function b8(){if(b_)return s1;b_=1;var n=eE()(),e=Vf(),t=n&&e("%Object.defineProperty%",!0);if(t)try{t({},"a",{value:1})}catch{t=!1}var r=e("%SyntaxError%"),i=e("%TypeError%"),o=Zv();return s1=function(u,c,h){if(!u||typeof u!="object"&&typeof u!="function")throw new i("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var m=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,E=!!o&&o(u,c);if(t)t(u,c,{configurable:y===null&&E?E.configurable:!y,enumerable:m===null&&E?E.enumerable:!m,value:h,writable:g===null&&E?E.writable:!g});else if(p||!m&&!g&&!y)u[c]=h;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},s1}var o1,S_;function S8(){if(S_)return o1;S_=1;var n=Vf(),e=b8(),t=eE()(),r=Zv(),i=n("%TypeError%"),o=n("%Math.floor%");return o1=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||o(c)!==c)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],m=!0,g=!0;if("length"in u&&r){var y=r(u,"length");y&&!y.configurable&&(m=!1),y&&!y.writable&&(g=!1)}return(m||g||!h)&&(t?e(u,"length",c,!0,!0):e(u,"length",c)),u},o1}var x_;function tE(){return x_||(x_=1,function(n){var e=Qv(),t=Vf(),r=S8(),i=t("%TypeError%"),o=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),u=t("%Reflect.apply%",!0)||e.call(a,o),c=t("%Object.defineProperty%",!0),h=t("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}n.exports=function(y){if(typeof y!="function")throw new i("a function is required");var p=u(e,a,arguments);return r(p,1+h(0,y.length-(arguments.length-1)),!0)};var m=function(){return u(e,o,arguments)};c?c(n.exports,"apply",{value:m}):n.exports.apply=m}(n1)),n1.exports}var a1,E_;function nE(){if(E_)return a1;E_=1;var n=Vf(),e=tE(),t=e(n("String.prototype.indexOf"));return a1=function(i,o){var a=n(i,!!o);return typeof a=="function"&&t(i,".prototype.")>-1?e(a):a},a1}var l1,A_;function x8(){if(A_)return l1;A_=1;var n=Jv()(),e=nE(),t=e("Object.prototype.toString"),r=function(u){return n&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:t(u)==="[object Arguments]"},i=function(u){return r(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&t(u)!=="[object Array]"&&t(u.callee)==="[object Function]"},o=function(){return r(arguments)}();return r.isLegacyArguments=i,l1=o?r:i,l1}var u1,N_;function E8(){if(N_)return u1;N_=1;var n=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,r=Jv()(),i=Object.getPrototypeOf,o=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},a;return u1=function(c){if(typeof c!="function")return!1;if(t.test(e.call(c)))return!0;if(!r){var h=n.call(c);return h==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var m=o();a=m?i(m):!1}return i(c)===a},u1}var c1,I_;function A8(){if(I_)return c1;I_=1;var n=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,t)}catch(T){T!==r&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(j){try{var H=n.call(j);return i.test(H)}catch{return!1}},a=function(j){try{return o(j)?!1:(n.call(j),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",h="[object Function]",m="[object GeneratorFunction]",g="[object HTMLAllCollection]",y="[object HTML document.all class]",p="[object HTMLCollection]",E=typeof Symbol=="function"&&!!Symbol.toStringTag,S=!(0 in[,]),k=function(){return!1};if(typeof document=="object"){var _=document.all;u.call(_)===u.call(document.all)&&(k=function(j){if((S||!j)&&(typeof j>"u"||typeof j=="object"))try{var H=u.call(j);return(H===g||H===y||H===p||H===c)&&j("")==null}catch{}return!1})}return c1=e?function(j){if(k(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;try{e(j,null,t)}catch(H){if(H!==r)return!1}return!o(j)&&a(j)}:function(j){if(k(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;if(E)return a(j);if(o(j))return!1;var H=u.call(j);return H!==h&&H!==m&&!/^\[object HTML/.test(H)?!1:a(j)},c1}var f1,C_;function N8(){if(C_)return f1;C_=1;var n=A8(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=function(c,h,m){for(var g=0,y=c.length;g<y;g++)t.call(c,g)&&(m==null?h(c[g],g,c):h.call(m,c[g],g,c))},i=function(c,h,m){for(var g=0,y=c.length;g<y;g++)m==null?h(c.charAt(g),g,c):h.call(m,c.charAt(g),g,c)},o=function(c,h,m){for(var g in c)t.call(c,g)&&(m==null?h(c[g],g,c):h.call(m,c[g],g,c))},a=function(c,h,m){if(!n(h))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=m),e.call(c)==="[object Array]"?r(c,h,g):typeof c=="string"?i(c,h,g):o(c,h,g)};return f1=a,f1}var h1,k_;function I8(){if(k_)return h1;k_=1;var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?Xo:globalThis;return h1=function(){for(var r=[],i=0;i<n.length;i++)typeof e[n[i]]=="function"&&(r[r.length]=n[i]);return r},h1}var d1,T_;function rE(){if(T_)return d1;T_=1;var n=N8(),e=I8(),t=tE(),r=nE(),i=Zv(),o=r("Object.prototype.toString"),a=Jv()(),u=typeof globalThis>"u"?Xo:globalThis,c=e(),h=r("String.prototype.slice"),m=Object.getPrototypeOf,g=r("Array.prototype.indexOf",!0)||function(k,_){for(var T=0;T<k.length;T+=1)if(k[T]===_)return T;return-1},y={__proto__:null};a&&i&&m?n(c,function(S){var k=new u[S];if(Symbol.toStringTag in k){var _=m(k),T=i(_,Symbol.toStringTag);if(!T){var j=m(_);T=i(j,Symbol.toStringTag)}y["$"+S]=t(T.get)}}):n(c,function(S){var k=new u[S],_=k.slice||k.set;_&&(y["$"+S]=t(_))});var p=function(k){var _=!1;return n(y,function(T,j){if(!_)try{"$"+T(k)===j&&(_=h(j,1))}catch{}}),_},E=function(k){var _=!1;return n(y,function(T,j){if(!_)try{T(k),_=h(j,1)}catch{}}),_};return d1=function(k){if(!k||typeof k!="object")return!1;if(!a){var _=h(o(k),8,-1);return g(c,_)>-1?_:_!=="Object"?!1:E(k)}return i?p(k):null},d1}var p1,P_;function C8(){if(P_)return p1;P_=1;var n=rE();return p1=function(t){return!!n(t)},p1}var L_;function k8(){return L_||(L_=1,function(n){var e=x8(),t=E8(),r=rE(),i=C8();function o(O){return O.call.bind(O)}var a=typeof BigInt<"u",u=typeof Symbol<"u",c=o(Object.prototype.toString),h=o(Number.prototype.valueOf),m=o(String.prototype.valueOf),g=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(u)var p=o(Symbol.prototype.valueOf);function E(O,ae){if(typeof O!="object")return!1;try{return ae(O),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=i;function S(O){return typeof Promise<"u"&&O instanceof Promise||O!==null&&typeof O=="object"&&typeof O.then=="function"&&typeof O.catch=="function"}n.isPromise=S;function k(O){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(O):i(O)||q(O)}n.isArrayBufferView=k;function _(O){return r(O)==="Uint8Array"}n.isUint8Array=_;function T(O){return r(O)==="Uint8ClampedArray"}n.isUint8ClampedArray=T;function j(O){return r(O)==="Uint16Array"}n.isUint16Array=j;function H(O){return r(O)==="Uint32Array"}n.isUint32Array=H;function X(O){return r(O)==="Int8Array"}n.isInt8Array=X;function we(O){return r(O)==="Int16Array"}n.isInt16Array=we;function ce(O){return r(O)==="Int32Array"}n.isInt32Array=ce;function oe(O){return r(O)==="Float32Array"}n.isFloat32Array=oe;function z(O){return r(O)==="Float64Array"}n.isFloat64Array=z;function Ee(O){return r(O)==="BigInt64Array"}n.isBigInt64Array=Ee;function Q(O){return r(O)==="BigUint64Array"}n.isBigUint64Array=Q;function B(O){return c(O)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function ee(O){return typeof Map>"u"?!1:B.working?B(O):O instanceof Map}n.isMap=ee;function F(O){return c(O)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function me(O){return typeof Set>"u"?!1:F.working?F(O):O instanceof Set}n.isSet=me;function Ne(O){return c(O)==="[object WeakMap]"}Ne.working=typeof WeakMap<"u"&&Ne(new WeakMap);function pe(O){return typeof WeakMap>"u"?!1:Ne.working?Ne(O):O instanceof WeakMap}n.isWeakMap=pe;function ye(O){return c(O)==="[object WeakSet]"}ye.working=typeof WeakSet<"u"&&ye(new WeakSet);function de(O){return ye(O)}n.isWeakSet=de;function xe(O){return c(O)==="[object ArrayBuffer]"}xe.working=typeof ArrayBuffer<"u"&&xe(new ArrayBuffer);function G(O){return typeof ArrayBuffer>"u"?!1:xe.working?xe(O):O instanceof ArrayBuffer}n.isArrayBuffer=G;function N(O){return c(O)==="[object DataView]"}N.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&N(new DataView(new ArrayBuffer(1),0,1));function q(O){return typeof DataView>"u"?!1:N.working?N(O):O instanceof DataView}n.isDataView=q;var W=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(O){return c(O)==="[object SharedArrayBuffer]"}function K(O){return typeof W>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new W)),ne.working?ne(O):O instanceof W)}n.isSharedArrayBuffer=K;function R(O){return c(O)==="[object AsyncFunction]"}n.isAsyncFunction=R;function L(O){return c(O)==="[object Map Iterator]"}n.isMapIterator=L;function J(O){return c(O)==="[object Set Iterator]"}n.isSetIterator=J;function le(O){return c(O)==="[object Generator]"}n.isGeneratorObject=le;function V(O){return c(O)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=V;function ie(O){return E(O,h)}n.isNumberObject=ie;function _e(O){return E(O,m)}n.isStringObject=_e;function D(O){return E(O,g)}n.isBooleanObject=D;function se(O){return a&&E(O,y)}n.isBigIntObject=se;function I(O){return u&&E(O,p)}n.isSymbolObject=I;function b(O){return ie(O)||_e(O)||D(O)||se(O)||I(O)}n.isBoxedPrimitive=b;function x(O){return typeof Uint8Array<"u"&&(G(O)||K(O))}n.isAnyArrayBuffer=x,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(O){Object.defineProperty(n,O,{enumerable:!1,value:function(){throw new Error(O+" is not supported in userland")}})})}(Gg)),Gg}var m1,R_;function T8(){return R_||(R_=1,m1=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),m1}var O_;function iE(){return O_||(O_=1,function(n){var e=Object.getOwnPropertyDescriptors||function(q){for(var W=Object.keys(q),ne={},K=0;K<W.length;K++)ne[W[K]]=Object.getOwnPropertyDescriptor(q,W[K]);return ne},t=/%[sdj%]/g;n.format=function(N){if(!X(N)){for(var q=[],W=0;W<arguments.length;W++)q.push(a(arguments[W]));return q.join(" ")}for(var W=1,ne=arguments,K=ne.length,R=String(N).replace(t,function(J){if(J==="%%")return"%";if(W>=K)return J;switch(J){case"%s":return String(ne[W++]);case"%d":return Number(ne[W++]);case"%j":try{return JSON.stringify(ne[W++])}catch{return"[Circular]"}default:return J}}),L=ne[W];W<K;L=ne[++W])T(L)||!z(L)?R+=" "+L:R+=" "+a(L);return R},n.deprecate=function(N,q){if(typeof qt<"u"&&qt.noDeprecation===!0)return N;if(typeof qt>"u")return function(){return n.deprecate(N,q).apply(this,arguments)};var W=!1;function ne(){if(!W){if(qt.throwDeprecation)throw new Error(q);qt.traceDeprecation?console.trace(q):console.error(q),W=!0}return N.apply(this,arguments)}return ne};var r={},i=/^$/;if(qt.env.NODE_DEBUG){var o=qt.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}n.debuglog=function(N){if(N=N.toUpperCase(),!r[N])if(i.test(N)){var q=qt.pid;r[N]=function(){var W=n.format.apply(n,arguments);console.error("%s %d: %s",N,q,W)}}else r[N]=function(){};return r[N]};function a(N,q){var W={seen:[],stylize:c};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),_(q)?W.showHidden=q:q&&n._extend(W,q),ce(W.showHidden)&&(W.showHidden=!1),ce(W.depth)&&(W.depth=2),ce(W.colors)&&(W.colors=!1),ce(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=u),m(W,N,W.depth)}n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(N,q){var W=a.styles[q];return W?"\x1B["+a.colors[W][0]+"m"+N+"\x1B["+a.colors[W][1]+"m":N}function c(N,q){return N}function h(N){var q={};return N.forEach(function(W,ne){q[W]=!0}),q}function m(N,q,W){if(N.customInspect&&q&&B(q.inspect)&&q.inspect!==n.inspect&&!(q.constructor&&q.constructor.prototype===q)){var ne=q.inspect(W,N);return X(ne)||(ne=m(N,ne,W)),ne}var K=g(N,q);if(K)return K;var R=Object.keys(q),L=h(R);if(N.showHidden&&(R=Object.getOwnPropertyNames(q)),Q(q)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return y(q);if(R.length===0){if(B(q)){var J=q.name?": "+q.name:"";return N.stylize("[Function"+J+"]","special")}if(oe(q))return N.stylize(RegExp.prototype.toString.call(q),"regexp");if(Ee(q))return N.stylize(Date.prototype.toString.call(q),"date");if(Q(q))return y(q)}var le="",V=!1,ie=["{","}"];if(k(q)&&(V=!0,ie=["[","]"]),B(q)){var _e=q.name?": "+q.name:"";le=" [Function"+_e+"]"}if(oe(q)&&(le=" "+RegExp.prototype.toString.call(q)),Ee(q)&&(le=" "+Date.prototype.toUTCString.call(q)),Q(q)&&(le=" "+y(q)),R.length===0&&(!V||q.length==0))return ie[0]+le+ie[1];if(W<0)return oe(q)?N.stylize(RegExp.prototype.toString.call(q),"regexp"):N.stylize("[Object]","special");N.seen.push(q);var D;return V?D=p(N,q,W,L,R):D=R.map(function(se){return E(N,q,W,L,se,V)}),N.seen.pop(),S(D,le,ie)}function g(N,q){if(ce(q))return N.stylize("undefined","undefined");if(X(q)){var W="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(W,"string")}if(H(q))return N.stylize(""+q,"number");if(_(q))return N.stylize(""+q,"boolean");if(T(q))return N.stylize("null","null")}function y(N){return"["+Error.prototype.toString.call(N)+"]"}function p(N,q,W,ne,K){for(var R=[],L=0,J=q.length;L<J;++L)ye(q,String(L))?R.push(E(N,q,W,ne,String(L),!0)):R.push("");return K.forEach(function(le){le.match(/^\d+$/)||R.push(E(N,q,W,ne,le,!0))}),R}function E(N,q,W,ne,K,R){var L,J,le;if(le=Object.getOwnPropertyDescriptor(q,K)||{value:q[K]},le.get?le.set?J=N.stylize("[Getter/Setter]","special"):J=N.stylize("[Getter]","special"):le.set&&(J=N.stylize("[Setter]","special")),ye(ne,K)||(L="["+K+"]"),J||(N.seen.indexOf(le.value)<0?(T(W)?J=m(N,le.value,null):J=m(N,le.value,W-1),J.indexOf(`
`)>-1&&(R?J=J.split(`
`).map(function(V){return"  "+V}).join(`
`).slice(2):J=`
`+J.split(`
`).map(function(V){return"   "+V}).join(`
`))):J=N.stylize("[Circular]","special")),ce(L)){if(R&&K.match(/^\d+$/))return J;L=JSON.stringify(""+K),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.slice(1,-1),L=N.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=N.stylize(L,"string"))}return L+": "+J}function S(N,q,W){var ne=N.reduce(function(K,R){return R.indexOf(`
`)>=0,K+R.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ne>60?W[0]+(q===""?"":q+`
 `)+" "+N.join(`,
  `)+" "+W[1]:W[0]+q+" "+N.join(", ")+" "+W[1]}n.types=k8();function k(N){return Array.isArray(N)}n.isArray=k;function _(N){return typeof N=="boolean"}n.isBoolean=_;function T(N){return N===null}n.isNull=T;function j(N){return N==null}n.isNullOrUndefined=j;function H(N){return typeof N=="number"}n.isNumber=H;function X(N){return typeof N=="string"}n.isString=X;function we(N){return typeof N=="symbol"}n.isSymbol=we;function ce(N){return N===void 0}n.isUndefined=ce;function oe(N){return z(N)&&F(N)==="[object RegExp]"}n.isRegExp=oe,n.types.isRegExp=oe;function z(N){return typeof N=="object"&&N!==null}n.isObject=z;function Ee(N){return z(N)&&F(N)==="[object Date]"}n.isDate=Ee,n.types.isDate=Ee;function Q(N){return z(N)&&(F(N)==="[object Error]"||N instanceof Error)}n.isError=Q,n.types.isNativeError=Q;function B(N){return typeof N=="function"}n.isFunction=B;function ee(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||typeof N>"u"}n.isPrimitive=ee,n.isBuffer=T8();function F(N){return Object.prototype.toString.call(N)}function me(N){return N<10?"0"+N.toString(10):N.toString(10)}var Ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pe(){var N=new Date,q=[me(N.getHours()),me(N.getMinutes()),me(N.getSeconds())].join(":");return[N.getDate(),Ne[N.getMonth()],q].join(" ")}n.log=function(){console.log("%s - %s",pe(),n.format.apply(n,arguments))},n.inherits=wc,n._extend=function(N,q){if(!q||!z(q))return N;for(var W=Object.keys(q),ne=W.length;ne--;)N[W[ne]]=q[W[ne]];return N};function ye(N,q){return Object.prototype.hasOwnProperty.call(N,q)}var de=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');if(de&&q[de]){var W=q[de];if(typeof W!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(W,de,{value:W,enumerable:!1,writable:!1,configurable:!0}),W}function W(){for(var ne,K,R=new Promise(function(le,V){ne=le,K=V}),L=[],J=0;J<arguments.length;J++)L.push(arguments[J]);L.push(function(le,V){le?K(le):ne(V)});try{q.apply(this,L)}catch(le){K(le)}return R}return Object.setPrototypeOf(W,Object.getPrototypeOf(q)),de&&Object.defineProperty(W,de,{value:W,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(W,e(q))},n.promisify.custom=de;function xe(N,q){if(!N){var W=new Error("Promise was rejected with a falsy value");W.reason=N,N=W}return q(N)}function G(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');function q(){for(var W=[],ne=0;ne<arguments.length;ne++)W.push(arguments[ne]);var K=W.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var R=this,L=function(){return K.apply(R,arguments)};N.apply(this,W).then(function(J){qt.nextTick(L.bind(null,null,J))},function(J){qt.nextTick(xe.bind(null,J,L))})}return Object.setPrototypeOf(q,Object.getPrototypeOf(N)),Object.defineProperties(q,e(N)),q}n.callbackify=G}($g)),$g}var g1,F_;function P8(){if(F_)return g1;F_=1;function n(y,p){var E=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);p&&(S=S.filter(function(k){return Object.getOwnPropertyDescriptor(y,k).enumerable})),E.push.apply(E,S)}return E}function e(y){for(var p=1;p<arguments.length;p++){var E=arguments[p]!=null?arguments[p]:{};p%2?n(Object(E),!0).forEach(function(S){t(y,S,E[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(E)):n(Object(E)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(E,S))})}return y}function t(y,p,E){return p in y?Object.defineProperty(y,p,{value:E,enumerable:!0,configurable:!0,writable:!0}):y[p]=E,y}function r(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function i(y,p){for(var E=0;E<p.length;E++){var S=p[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}function o(y,p,E){return p&&i(y.prototype,p),y}var a=Am(),u=a.Buffer,c=iE(),h=c.inspect,m=h&&h.custom||"inspect";function g(y,p,E){u.prototype.copy.call(y,p,E)}return g1=function(){function y(){r(this,y),this.head=null,this.tail=null,this.length=0}return o(y,[{key:"push",value:function(E){var S={data:E,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(E){var S={data:E,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var S=this.head,k=""+S.data;S=S.next;)k+=E+S.data;return k}},{key:"concat",value:function(E){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(E>>>0),k=this.head,_=0;k;)g(k.data,S,_),_+=k.data.length,k=k.next;return S}},{key:"consume",value:function(E,S){var k;return E<this.head.data.length?(k=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?k=this.shift():k=S?this._getString(E):this._getBuffer(E),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var S=this.head,k=1,_=S.data;for(E-=_.length;S=S.next;){var T=S.data,j=E>T.length?T.length:E;if(j===T.length?_+=T:_+=T.slice(0,E),E-=j,E===0){j===T.length?(++k,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=T.slice(j));break}++k}return this.length-=k,_}},{key:"_getBuffer",value:function(E){var S=u.allocUnsafe(E),k=this.head,_=1;for(k.data.copy(S),E-=k.data.length;k=k.next;){var T=k.data,j=E>T.length?T.length:E;if(T.copy(S,S.length-E,0,j),E-=j,E===0){j===T.length?(++_,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=T.slice(j));break}++_}return this.length-=_,S}},{key:m,value:function(E,S){return h(this,e({},S,{depth:0,customInspect:!1}))}}]),y}(),g1}var v1,D_;function sE(){if(D_)return v1;D_=1;function n(a,u){var c=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,qt.nextTick(i,this,a)):qt.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(g){!u&&g?c._writableState?c._writableState.errorEmitted?qt.nextTick(t,c):(c._writableState.errorEmitted=!0,qt.nextTick(e,c,g)):qt.nextTick(e,c,g):u?(qt.nextTick(t,c),u(g)):qt.nextTick(t,c)}),this)}function e(a,u){i(a,u),t(a)}function t(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,u){a.emit("error",u)}function o(a,u){var c=a._readableState,h=a._writableState;c&&c.autoDestroy||h&&h.autoDestroy?a.destroy(u):a.emit("error",u)}return v1={destroy:n,undestroy:r,errorOrDestroy:o},v1}var y1={},M_;function $f(){if(M_)return y1;M_=1;function n(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var e={};function t(u,c,h){h||(h=Error);function m(y,p,E){return typeof c=="string"?c:c(y,p,E)}var g=function(y){n(p,y);function p(E,S,k){return y.call(this,m(E,S,k))||this}return p}(h);g.prototype.name=h.name,g.prototype.code=u,e[u]=g}function r(u,c){if(Array.isArray(u)){var h=u.length;return u=u.map(function(m){return String(m)}),h>2?"one of ".concat(c," ").concat(u.slice(0,h-1).join(", "),", or ")+u[h-1]:h===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function i(u,c,h){return u.substr(0,c.length)===c}function o(u,c,h){return(h===void 0||h>u.length)&&(h=u.length),u.substring(h-c.length,h)===c}function a(u,c,h){return typeof h!="number"&&(h=0),h+c.length>u.length?!1:u.indexOf(c,h)!==-1}return t("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(u,c,h){var m;typeof c=="string"&&i(c,"not ")?(m="must not be",c=c.replace(/^not /,"")):m="must be";var g;if(o(u," argument"))g="The ".concat(u," ").concat(m," ").concat(r(c,"type"));else{var y=a(u,".")?"property":"argument";g='The "'.concat(u,'" ').concat(y," ").concat(m," ").concat(r(c,"type"))}return g+=". Received type ".concat(typeof h),g},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),y1.codes=e,y1}var w1,j_;function oE(){if(j_)return w1;j_=1;var n=$f().codes.ERR_INVALID_OPT_VALUE;function e(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function t(r,i,o,a){var u=e(i,a,o);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var c=a?o:"highWaterMark";throw new n(c,u)}return Math.floor(u)}return r.objectMode?16:16*1024}return w1={getHighWaterMark:t},w1}var _1,B_;function L8(){if(B_)return _1;B_=1,_1=n;function n(t,r){if(e("noDeprecation"))return t;var i=!1;function o(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return t.apply(this,arguments)}return o}function e(t){try{if(!Xo.localStorage)return!1}catch{return!1}var r=Xo.localStorage[t];return r==null?!1:String(r).toLowerCase()==="true"}return _1}var b1,U_;function aE(){if(U_)return b1;U_=1,b1=oe;function n(K){var R=this;this.next=null,this.entry=null,this.finish=function(){ne(R,K)}}var e;oe.WritableState=we;var t={deprecate:L8()},r=Qx(),i=Am().Buffer,o=Xo.Uint8Array||function(){};function a(K){return i.from(K)}function u(K){return i.isBuffer(K)||K instanceof o}var c=sE(),h=oE(),m=h.getHighWaterMark,g=$f().codes,y=g.ERR_INVALID_ARG_TYPE,p=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_MULTIPLE_CALLBACK,S=g.ERR_STREAM_CANNOT_PIPE,k=g.ERR_STREAM_DESTROYED,_=g.ERR_STREAM_NULL_VALUES,T=g.ERR_STREAM_WRITE_AFTER_END,j=g.ERR_UNKNOWN_ENCODING,H=c.errorOrDestroy;wc(oe,r);function X(){}function we(K,R,L){e=e||Pf(),K=K||{},typeof L!="boolean"&&(L=R instanceof e),this.objectMode=!!K.objectMode,L&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=m(this,K,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=K.decodeStrings===!1;this.decodeStrings=!J,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){Ne(R,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}we.prototype.getBuffer=function(){for(var R=this.bufferedRequest,L=[];R;)L.push(R),R=R.next;return L},function(){try{Object.defineProperty(we.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function(R){return ce.call(this,R)?!0:this!==oe?!1:R&&R._writableState instanceof we}})):ce=function(R){return R instanceof this};function oe(K){e=e||Pf();var R=this instanceof e;if(!R&&!ce.call(oe,this))return new oe(K);this._writableState=new we(K,this,R),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),r.call(this)}oe.prototype.pipe=function(){H(this,new S)};function z(K,R){var L=new T;H(K,L),qt.nextTick(R,L)}function Ee(K,R,L,J){var le;return L===null?le=new _:typeof L!="string"&&!R.objectMode&&(le=new y("chunk",["string","Buffer"],L)),le?(H(K,le),qt.nextTick(J,le),!1):!0}oe.prototype.write=function(K,R,L){var J=this._writableState,le=!1,V=!J.objectMode&&u(K);return V&&!i.isBuffer(K)&&(K=a(K)),typeof R=="function"&&(L=R,R=null),V?R="buffer":R||(R=J.defaultEncoding),typeof L!="function"&&(L=X),J.ending?z(this,L):(V||Ee(this,J,K,L))&&(J.pendingcb++,le=B(this,J,V,K,R,L)),le},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&de(this,K))},oe.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new j(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Q(K,R,L){return!K.objectMode&&K.decodeStrings!==!1&&typeof R=="string"&&(R=i.from(R,L)),R}Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(K,R,L,J,le,V){if(!L){var ie=Q(R,J,le);J!==ie&&(L=!0,le="buffer",J=ie)}var _e=R.objectMode?1:J.length;R.length+=_e;var D=R.length<R.highWaterMark;if(D||(R.needDrain=!0),R.writing||R.corked){var se=R.lastBufferedRequest;R.lastBufferedRequest={chunk:J,encoding:le,isBuf:L,callback:V,next:null},se?se.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else ee(K,R,!1,_e,J,le,V);return D}function ee(K,R,L,J,le,V,ie){R.writelen=J,R.writecb=ie,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new k("write")):L?K._writev(le,R.onwrite):K._write(le,V,R.onwrite),R.sync=!1}function F(K,R,L,J,le){--R.pendingcb,L?(qt.nextTick(le,J),qt.nextTick(q,K,R),K._writableState.errorEmitted=!0,H(K,J)):(le(J),K._writableState.errorEmitted=!0,H(K,J),q(K,R))}function me(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function Ne(K,R){var L=K._writableState,J=L.sync,le=L.writecb;if(typeof le!="function")throw new E;if(me(L),R)F(K,L,J,R,le);else{var V=xe(L)||K.destroyed;!V&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&de(K,L),J?qt.nextTick(pe,K,L,V,le):pe(K,L,V,le)}}function pe(K,R,L,J){L||ye(K,R),R.pendingcb--,J(),q(K,R)}function ye(K,R){R.length===0&&R.needDrain&&(R.needDrain=!1,K.emit("drain"))}function de(K,R){R.bufferProcessing=!0;var L=R.bufferedRequest;if(K._writev&&L&&L.next){var J=R.bufferedRequestCount,le=new Array(J),V=R.corkedRequestsFree;V.entry=L;for(var ie=0,_e=!0;L;)le[ie]=L,L.isBuf||(_e=!1),L=L.next,ie+=1;le.allBuffers=_e,ee(K,R,!0,R.length,le,"",V.finish),R.pendingcb++,R.lastBufferedRequest=null,V.next?(R.corkedRequestsFree=V.next,V.next=null):R.corkedRequestsFree=new n(R),R.bufferedRequestCount=0}else{for(;L;){var D=L.chunk,se=L.encoding,I=L.callback,b=R.objectMode?1:D.length;if(ee(K,R,!1,b,D,se,I),L=L.next,R.bufferedRequestCount--,R.writing)break}L===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=L,R.bufferProcessing=!1}oe.prototype._write=function(K,R,L){L(new p("_write()"))},oe.prototype._writev=null,oe.prototype.end=function(K,R,L){var J=this._writableState;return typeof K=="function"?(L=K,K=null,R=null):typeof R=="function"&&(L=R,R=null),K!=null&&this.write(K,R),J.corked&&(J.corked=1,this.uncork()),J.ending||W(this,J,L),this},Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xe(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function G(K,R){K._final(function(L){R.pendingcb--,L&&H(K,L),R.prefinished=!0,K.emit("prefinish"),q(K,R)})}function N(K,R){!R.prefinished&&!R.finalCalled&&(typeof K._final=="function"&&!R.destroyed?(R.pendingcb++,R.finalCalled=!0,qt.nextTick(G,K,R)):(R.prefinished=!0,K.emit("prefinish")))}function q(K,R){var L=xe(R);if(L&&(N(K,R),R.pendingcb===0&&(R.finished=!0,K.emit("finish"),R.autoDestroy))){var J=K._readableState;(!J||J.autoDestroy&&J.endEmitted)&&K.destroy()}return L}function W(K,R,L){R.ending=!0,q(K,R),L&&(R.finished?qt.nextTick(L):K.once("finish",L)),R.ended=!0,K.writable=!1}function ne(K,R,L){var J=K.entry;for(K.entry=null;J;){var le=J.callback;R.pendingcb--,le(L),J=J.next}R.corkedRequestsFree.next=K}return Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),oe.prototype.destroy=c.destroy,oe.prototype._undestroy=c.undestroy,oe.prototype._destroy=function(K,R){R(K)},b1}var S1,z_;function Pf(){if(z_)return S1;z_=1;var n=Object.keys||function(h){var m=[];for(var g in h)m.push(g);return m};S1=a;var e=lE(),t=aE();wc(a,e);for(var r=n(t.prototype),i=0;i<r.length;i++){var o=r[i];a.prototype[o]||(a.prototype[o]=t.prototype[o])}function a(h){if(!(this instanceof a))return new a(h);e.call(this,h),t.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||qt.nextTick(c,this)}function c(h){h.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),S1}var x1={},tp={exports:{}},q_;function R8(){return q_||(q_=1,function(n,e){var t=Am(),r=t.Buffer;function i(a,u){for(var c in a)u[c]=a[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=o);function o(a,u,c){return r(a,u,c)}i(r,o),o.from=function(a,u,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,u,c)},o.alloc=function(a,u,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=r(a);return u!==void 0?typeof c=="string"?h.fill(u,c):h.fill(u):h.fill(0),h},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(a)}}(tp,tp.exports)),tp.exports}var W_;function _0(){if(W_)return x1;W_=1;var n=R8().Buffer,e=n.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(_){if(!_)return"utf8";for(var T;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(T)return;_=(""+_).toLowerCase(),T=!0}}function r(_){var T=t(_);if(typeof T!="string"&&(n.isEncoding===e||!e(_)))throw new Error("Unknown encoding: "+_);return T||_}x1.StringDecoder=i;function i(_){this.encoding=r(_);var T;switch(this.encoding){case"utf16le":this.text=g,this.end=y,T=4;break;case"utf8":this.fillLast=c,T=4;break;case"base64":this.text=p,this.end=E,T=3;break;default:this.write=S,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(T)}i.prototype.write=function(_){if(_.length===0)return"";var T,j;if(this.lastNeed){if(T=this.fillLast(_),T===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<_.length?T?T+this.text(_,j):this.text(_,j):T||""},i.prototype.end=m,i.prototype.text=h,i.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function o(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function a(_,T,j){var H=T.length-1;if(H<j)return 0;var X=o(T[H]);return X>=0?(X>0&&(_.lastNeed=X-1),X):--H<j||X===-2?0:(X=o(T[H]),X>=0?(X>0&&(_.lastNeed=X-2),X):--H<j||X===-2?0:(X=o(T[H]),X>=0?(X>0&&(X===2?X=0:_.lastNeed=X-3),X):0))}function u(_,T,j){if((T[0]&192)!==128)return _.lastNeed=0,"�";if(_.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return _.lastNeed=1,"�";if(_.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return _.lastNeed=2,"�"}}function c(_){var T=this.lastTotal-this.lastNeed,j=u(this,_);if(j!==void 0)return j;if(this.lastNeed<=_.length)return _.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,T,0,_.length),this.lastNeed-=_.length}function h(_,T){var j=a(this,_,T);if(!this.lastNeed)return _.toString("utf8",T);this.lastTotal=j;var H=_.length-(j-this.lastNeed);return _.copy(this.lastChar,0,H),_.toString("utf8",T,H)}function m(_){var T=_&&_.length?this.write(_):"";return this.lastNeed?T+"�":T}function g(_,T){if((_.length-T)%2===0){var j=_.toString("utf16le",T);if(j){var H=j.charCodeAt(j.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",T,_.length-1)}function y(_){var T=_&&_.length?this.write(_):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,j)}return T}function p(_,T){var j=(_.length-T)%3;return j===0?_.toString("base64",T):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",T,_.length-j))}function E(_){var T=_&&_.length?this.write(_):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function S(_){return _.toString(this.encoding)}function k(_){return _&&_.length?this.write(_):""}return x1}var E1,H_;function ey(){if(H_)return E1;H_=1;var n=$f().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var a=!1;return function(){if(!a){a=!0;for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];o.apply(this,c)}}}function t(){}function r(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,u){if(typeof a=="function")return i(o,null,a);a||(a={}),u=e(u||t);var c=a.readable||a.readable!==!1&&o.readable,h=a.writable||a.writable!==!1&&o.writable,m=function(){o.writable||y()},g=o._writableState&&o._writableState.finished,y=function(){h=!1,g=!0,c||u.call(o)},p=o._readableState&&o._readableState.endEmitted,E=function(){c=!1,p=!0,h||u.call(o)},S=function(j){u.call(o,j)},k=function(){var j;if(c&&!p)return(!o._readableState||!o._readableState.ended)&&(j=new n),u.call(o,j);if(h&&!g)return(!o._writableState||!o._writableState.ended)&&(j=new n),u.call(o,j)},_=function(){o.req.on("finish",y)};return r(o)?(o.on("complete",y),o.on("abort",k),o.req?_():o.on("request",_)):h&&!o._writableState&&(o.on("end",m),o.on("close",m)),o.on("end",E),o.on("finish",y),a.error!==!1&&o.on("error",S),o.on("close",k),function(){o.removeListener("complete",y),o.removeListener("abort",k),o.removeListener("request",_),o.req&&o.req.removeListener("finish",y),o.removeListener("end",m),o.removeListener("close",m),o.removeListener("finish",y),o.removeListener("end",E),o.removeListener("error",S),o.removeListener("close",k)}}return E1=i,E1}var A1,V_;function O8(){if(V_)return A1;V_=1;var n;function e(_,T,j){return T in _?Object.defineProperty(_,T,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[T]=j,_}var t=ey(),r=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),a=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function m(_,T){return{value:_,done:T}}function g(_){var T=_[r];if(T!==null){var j=_[h].read();j!==null&&(_[u]=null,_[r]=null,_[i]=null,T(m(j,!1)))}}function y(_){qt.nextTick(g,_)}function p(_,T){return function(j,H){_.then(function(){if(T[a]){j(m(void 0,!0));return}T[c](j,H)},H)}}var E=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((n={get stream(){return this[h]},next:function(){var T=this,j=this[o];if(j!==null)return Promise.reject(j);if(this[a])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(ce,oe){qt.nextTick(function(){T[o]?oe(T[o]):ce(m(void 0,!0))})});var H=this[u],X;if(H)X=new Promise(p(H,this));else{var we=this[h].read();if(we!==null)return Promise.resolve(m(we,!1));X=new Promise(this[c])}return this[u]=X,X}},e(n,Symbol.asyncIterator,function(){return this}),e(n,"return",function(){var T=this;return new Promise(function(j,H){T[h].destroy(null,function(X){if(X){H(X);return}j(m(void 0,!0))})})}),n),E),k=function(T){var j,H=Object.create(S,(j={},e(j,h,{value:T,writable:!0}),e(j,r,{value:null,writable:!0}),e(j,i,{value:null,writable:!0}),e(j,o,{value:null,writable:!0}),e(j,a,{value:T._readableState.endEmitted,writable:!0}),e(j,c,{value:function(we,ce){var oe=H[h].read();oe?(H[u]=null,H[r]=null,H[i]=null,we(m(oe,!1))):(H[r]=we,H[i]=ce)},writable:!0}),j));return H[u]=null,t(T,function(X){if(X&&X.code!=="ERR_STREAM_PREMATURE_CLOSE"){var we=H[i];we!==null&&(H[u]=null,H[r]=null,H[i]=null,we(X)),H[o]=X;return}var ce=H[r];ce!==null&&(H[u]=null,H[r]=null,H[i]=null,ce(m(void 0,!0))),H[a]=!0}),T.on("readable",y.bind(null,H)),H};return A1=k,A1}var N1,$_;function F8(){return $_||($_=1,N1=function(){throw new Error("Readable.from is not available in the browser")}),N1}var I1,G_;function lE(){if(G_)return I1;G_=1,I1=z;var n;z.ReadableState=oe,Xv.EventEmitter;var e=function(ie,_e){return ie.listeners(_e).length},t=Qx(),r=Am().Buffer,i=Xo.Uint8Array||function(){};function o(V){return r.from(V)}function a(V){return r.isBuffer(V)||V instanceof i}var u=iE(),c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var h=P8(),m=sE(),g=oE(),y=g.getHighWaterMark,p=$f().codes,E=p.ERR_INVALID_ARG_TYPE,S=p.ERR_STREAM_PUSH_AFTER_EOF,k=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,j,H;wc(z,t);var X=m.errorOrDestroy,we=["error","close","destroy","pause","resume"];function ce(V,ie,_e){if(typeof V.prependListener=="function")return V.prependListener(ie,_e);!V._events||!V._events[ie]?V.on(ie,_e):Array.isArray(V._events[ie])?V._events[ie].unshift(_e):V._events[ie]=[_e,V._events[ie]]}function oe(V,ie,_e){n=n||Pf(),V=V||{},typeof _e!="boolean"&&(_e=ie instanceof n),this.objectMode=!!V.objectMode,_e&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=y(this,V,"readableHighWaterMark",_e),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(T||(T=_0().StringDecoder),this.decoder=new T(V.encoding),this.encoding=V.encoding)}function z(V){if(n=n||Pf(),!(this instanceof z))return new z(V);var ie=this instanceof n;this._readableState=new oe(V,this,ie),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),t.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ie){this._readableState&&(this._readableState.destroyed=ie)}}),z.prototype.destroy=m.destroy,z.prototype._undestroy=m.undestroy,z.prototype._destroy=function(V,ie){ie(V)},z.prototype.push=function(V,ie){var _e=this._readableState,D;return _e.objectMode?D=!0:typeof V=="string"&&(ie=ie||_e.defaultEncoding,ie!==_e.encoding&&(V=r.from(V,ie),ie=""),D=!0),Ee(this,V,ie,!1,D)},z.prototype.unshift=function(V){return Ee(this,V,null,!0,!1)};function Ee(V,ie,_e,D,se){c("readableAddChunk",ie);var I=V._readableState;if(ie===null)I.reading=!1,Ne(V,I);else{var b;if(se||(b=B(I,ie)),b)X(V,b);else if(I.objectMode||ie&&ie.length>0)if(typeof ie!="string"&&!I.objectMode&&Object.getPrototypeOf(ie)!==r.prototype&&(ie=o(ie)),D)I.endEmitted?X(V,new _):Q(V,I,ie,!0);else if(I.ended)X(V,new S);else{if(I.destroyed)return!1;I.reading=!1,I.decoder&&!_e?(ie=I.decoder.write(ie),I.objectMode||ie.length!==0?Q(V,I,ie,!1):de(V,I)):Q(V,I,ie,!1)}else D||(I.reading=!1,de(V,I))}return!I.ended&&(I.length<I.highWaterMark||I.length===0)}function Q(V,ie,_e,D){ie.flowing&&ie.length===0&&!ie.sync?(ie.awaitDrain=0,V.emit("data",_e)):(ie.length+=ie.objectMode?1:_e.length,D?ie.buffer.unshift(_e):ie.buffer.push(_e),ie.needReadable&&pe(V)),de(V,ie)}function B(V,ie){var _e;return!a(ie)&&typeof ie!="string"&&ie!==void 0&&!V.objectMode&&(_e=new E("chunk",["string","Buffer","Uint8Array"],ie)),_e}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(V){T||(T=_0().StringDecoder);var ie=new T(V);this._readableState.decoder=ie,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,D="";_e!==null;)D+=ie.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),D!==""&&this._readableState.buffer.push(D),this._readableState.length=D.length,this};var ee=1073741824;function F(V){return V>=ee?V=ee:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function me(V,ie){return V<=0||ie.length===0&&ie.ended?0:ie.objectMode?1:V!==V?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(V>ie.highWaterMark&&(ie.highWaterMark=F(V)),V<=ie.length?V:ie.ended?ie.length:(ie.needReadable=!0,0))}z.prototype.read=function(V){c("read",V),V=parseInt(V,10);var ie=this._readableState,_e=V;if(V!==0&&(ie.emittedReadable=!1),V===0&&ie.needReadable&&((ie.highWaterMark!==0?ie.length>=ie.highWaterMark:ie.length>0)||ie.ended))return c("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?L(this):pe(this),null;if(V=me(V,ie),V===0&&ie.ended)return ie.length===0&&L(this),null;var D=ie.needReadable;c("need readable",D),(ie.length===0||ie.length-V<ie.highWaterMark)&&(D=!0,c("length less than watermark",D)),ie.ended||ie.reading?(D=!1,c("reading or ended",D)):D&&(c("do read"),ie.reading=!0,ie.sync=!0,ie.length===0&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(V=me(_e,ie)));var se;return V>0?se=R(V,ie):se=null,se===null?(ie.needReadable=ie.length<=ie.highWaterMark,V=0):(ie.length-=V,ie.awaitDrain=0),ie.length===0&&(ie.ended||(ie.needReadable=!0),_e!==V&&ie.ended&&L(this)),se!==null&&this.emit("data",se),se};function Ne(V,ie){if(c("onEofChunk"),!ie.ended){if(ie.decoder){var _e=ie.decoder.end();_e&&_e.length&&(ie.buffer.push(_e),ie.length+=ie.objectMode?1:_e.length)}ie.ended=!0,ie.sync?pe(V):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,ye(V)))}}function pe(V){var ie=V._readableState;c("emitReadable",ie.needReadable,ie.emittedReadable),ie.needReadable=!1,ie.emittedReadable||(c("emitReadable",ie.flowing),ie.emittedReadable=!0,qt.nextTick(ye,V))}function ye(V){var ie=V._readableState;c("emitReadable_",ie.destroyed,ie.length,ie.ended),!ie.destroyed&&(ie.length||ie.ended)&&(V.emit("readable"),ie.emittedReadable=!1),ie.needReadable=!ie.flowing&&!ie.ended&&ie.length<=ie.highWaterMark,K(V)}function de(V,ie){ie.readingMore||(ie.readingMore=!0,qt.nextTick(xe,V,ie))}function xe(V,ie){for(;!ie.reading&&!ie.ended&&(ie.length<ie.highWaterMark||ie.flowing&&ie.length===0);){var _e=ie.length;if(c("maybeReadMore read 0"),V.read(0),_e===ie.length)break}ie.readingMore=!1}z.prototype._read=function(V){X(this,new k("_read()"))},z.prototype.pipe=function(V,ie){var _e=this,D=this._readableState;switch(D.pipesCount){case 0:D.pipes=V;break;case 1:D.pipes=[D.pipes,V];break;default:D.pipes.push(V);break}D.pipesCount+=1,c("pipe count=%d opts=%j",D.pipesCount,ie);var se=(!ie||ie.end!==!1)&&V!==qt.stdout&&V!==qt.stderr,I=se?x:Xe;D.endEmitted?qt.nextTick(I):_e.once("end",I),V.on("unpipe",b);function b(st,ct){c("onunpipe"),st===_e&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,ve())}function x(){c("onend"),V.end()}var O=G(_e);V.on("drain",O);var ae=!1;function ve(){c("cleanup"),V.removeListener("close",qe),V.removeListener("finish",Ue),V.removeListener("drain",O),V.removeListener("error",Oe),V.removeListener("unpipe",b),_e.removeListener("end",x),_e.removeListener("end",Xe),_e.removeListener("data",he),ae=!0,D.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&O()}_e.on("data",he);function he(st){c("ondata");var ct=V.write(st);c("dest.write",ct),ct===!1&&((D.pipesCount===1&&D.pipes===V||D.pipesCount>1&&le(D.pipes,V)!==-1)&&!ae&&(c("false write response, pause",D.awaitDrain),D.awaitDrain++),_e.pause())}function Oe(st){c("onerror",st),Xe(),V.removeListener("error",Oe),e(V,"error")===0&&X(V,st)}ce(V,"error",Oe);function qe(){V.removeListener("finish",Ue),Xe()}V.once("close",qe);function Ue(){c("onfinish"),V.removeListener("close",qe),Xe()}V.once("finish",Ue);function Xe(){c("unpipe"),_e.unpipe(V)}return V.emit("pipe",_e),D.flowing||(c("pipe resume"),_e.resume()),V};function G(V){return function(){var _e=V._readableState;c("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&e(V,"data")&&(_e.flowing=!0,K(V))}}z.prototype.unpipe=function(V){var ie=this._readableState,_e={hasUnpiped:!1};if(ie.pipesCount===0)return this;if(ie.pipesCount===1)return V&&V!==ie.pipes?this:(V||(V=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,V&&V.emit("unpipe",this,_e),this);if(!V){var D=ie.pipes,se=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var I=0;I<se;I++)D[I].emit("unpipe",this,{hasUnpiped:!1});return this}var b=le(ie.pipes,V);return b===-1?this:(ie.pipes.splice(b,1),ie.pipesCount-=1,ie.pipesCount===1&&(ie.pipes=ie.pipes[0]),V.emit("unpipe",this,_e),this)},z.prototype.on=function(V,ie){var _e=t.prototype.on.call(this,V,ie),D=this._readableState;return V==="data"?(D.readableListening=this.listenerCount("readable")>0,D.flowing!==!1&&this.resume()):V==="readable"&&!D.endEmitted&&!D.readableListening&&(D.readableListening=D.needReadable=!0,D.flowing=!1,D.emittedReadable=!1,c("on readable",D.length,D.reading),D.length?pe(this):D.reading||qt.nextTick(q,this)),_e},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(V,ie){var _e=t.prototype.removeListener.call(this,V,ie);return V==="readable"&&qt.nextTick(N,this),_e},z.prototype.removeAllListeners=function(V){var ie=t.prototype.removeAllListeners.apply(this,arguments);return(V==="readable"||V===void 0)&&qt.nextTick(N,this),ie};function N(V){var ie=V._readableState;ie.readableListening=V.listenerCount("readable")>0,ie.resumeScheduled&&!ie.paused?ie.flowing=!0:V.listenerCount("data")>0&&V.resume()}function q(V){c("readable nexttick read 0"),V.read(0)}z.prototype.resume=function(){var V=this._readableState;return V.flowing||(c("resume"),V.flowing=!V.readableListening,W(this,V)),V.paused=!1,this};function W(V,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,qt.nextTick(ne,V,ie))}function ne(V,ie){c("resume",ie.reading),ie.reading||V.read(0),ie.resumeScheduled=!1,V.emit("resume"),K(V),ie.flowing&&!ie.reading&&V.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(V){var ie=V._readableState;for(c("flow",ie.flowing);ie.flowing&&V.read()!==null;);}z.prototype.wrap=function(V){var ie=this,_e=this._readableState,D=!1;V.on("end",function(){if(c("wrapped end"),_e.decoder&&!_e.ended){var b=_e.decoder.end();b&&b.length&&ie.push(b)}ie.push(null)}),V.on("data",function(b){if(c("wrapped data"),_e.decoder&&(b=_e.decoder.write(b)),!(_e.objectMode&&b==null)&&!(!_e.objectMode&&(!b||!b.length))){var x=ie.push(b);x||(D=!0,V.pause())}});for(var se in V)this[se]===void 0&&typeof V[se]=="function"&&(this[se]=function(x){return function(){return V[x].apply(V,arguments)}}(se));for(var I=0;I<we.length;I++)V.on(we[I],this.emit.bind(this,we[I]));return this._read=function(b){c("wrapped _read",b),D&&(D=!1,V.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return j===void 0&&(j=O8()),j(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ie){this._readableState&&(this._readableState.flowing=ie)}}),z._fromList=R,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function R(V,ie){if(ie.length===0)return null;var _e;return ie.objectMode?_e=ie.buffer.shift():!V||V>=ie.length?(ie.decoder?_e=ie.buffer.join(""):ie.buffer.length===1?_e=ie.buffer.first():_e=ie.buffer.concat(ie.length),ie.buffer.clear()):_e=ie.buffer.consume(V,ie.decoder),_e}function L(V){var ie=V._readableState;c("endReadable",ie.endEmitted),ie.endEmitted||(ie.ended=!0,qt.nextTick(J,ie,V))}function J(V,ie){if(c("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,ie.readable=!1,ie.emit("end"),V.autoDestroy)){var _e=ie._writableState;(!_e||_e.autoDestroy&&_e.finished)&&ie.destroy()}}typeof Symbol=="function"&&(z.from=function(V,ie){return H===void 0&&(H=F8()),H(z,V,ie)});function le(V,ie){for(var _e=0,D=V.length;_e<D;_e++)if(V[_e]===ie)return _e;return-1}return I1}var C1,K_;function uE(){if(K_)return C1;K_=1,C1=u;var n=$f().codes,e=n.ERR_METHOD_NOT_IMPLEMENTED,t=n.ERR_MULTIPLE_CALLBACK,r=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=n.ERR_TRANSFORM_WITH_LENGTH_0,o=Pf();wc(u,o);function a(m,g){var y=this._transformState;y.transforming=!1;var p=y.writecb;if(p===null)return this.emit("error",new t);y.writechunk=null,y.writecb=null,g!=null&&this.push(g),p(m);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function u(m){if(!(this instanceof u))return new u(m);o.call(this,m),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",c)}function c(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,y){h(m,g,y)}):h(this,null,null)}u.prototype.push=function(m,g){return this._transformState.needTransform=!1,o.prototype.push.call(this,m,g)},u.prototype._transform=function(m,g,y){y(new e("_transform()"))},u.prototype._write=function(m,g,y){var p=this._transformState;if(p.writecb=y,p.writechunk=m,p.writeencoding=g,!p.transforming){var E=this._readableState;(p.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},u.prototype._read=function(m){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},u.prototype._destroy=function(m,g){o.prototype._destroy.call(this,m,function(y){g(y)})};function h(m,g,y){if(g)return m.emit("error",g);if(y!=null&&m.push(y),m._writableState.length)throw new i;if(m._transformState.transforming)throw new r;return m.push(null)}return C1}var k1,Y_;function D8(){if(Y_)return k1;Y_=1,k1=e;var n=uE();wc(e,n);function e(t){if(!(this instanceof e))return new e(t);n.call(this,t)}return e.prototype._transform=function(t,r,i){i(null,t)},k1}var T1,X_;function M8(){if(X_)return T1;X_=1;var n;function e(y){var p=!1;return function(){p||(p=!0,y.apply(void 0,arguments))}}var t=$f().codes,r=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function o(y){if(y)throw y}function a(y){return y.setHeader&&typeof y.abort=="function"}function u(y,p,E,S){S=e(S);var k=!1;y.on("close",function(){k=!0}),n===void 0&&(n=ey()),n(y,{readable:p,writable:E},function(T){if(T)return S(T);k=!0,S()});var _=!1;return function(T){if(!k&&!_){if(_=!0,a(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();S(T||new i("pipe"))}}}function c(y){y()}function h(y,p){return y.pipe(p)}function m(y){return!y.length||typeof y[y.length-1]!="function"?o:y.pop()}function g(){for(var y=arguments.length,p=new Array(y),E=0;E<y;E++)p[E]=arguments[E];var S=m(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new r("streams");var k,_=p.map(function(T,j){var H=j<p.length-1,X=j>0;return u(T,H,X,function(we){k||(k=we),we&&_.forEach(c),!H&&(_.forEach(c),S(k))})});return p.reduce(h)}return T1=g,T1}var ty=Ds,ny=Xv.EventEmitter,j8=wc;j8(Ds,ny);Ds.Readable=lE();Ds.Writable=aE();Ds.Duplex=Pf();Ds.Transform=uE();Ds.PassThrough=D8();Ds.finished=ey();Ds.pipeline=M8();Ds.Stream=Ds;function Ds(){ny.call(this)}Ds.prototype.pipe=function(n,e){var t=this;function r(m){n.writable&&n.write(m)===!1&&t.pause&&t.pause()}t.on("data",r);function i(){t.readable&&t.resume&&t.resume()}n.on("drain",i),!n._isStdio&&(!e||e.end!==!1)&&(t.on("end",a),t.on("close",u));var o=!1;function a(){o||(o=!0,n.end())}function u(){o||(o=!0,typeof n.destroy=="function"&&n.destroy())}function c(m){if(h(),ny.listenerCount(this,"error")===0)throw m}t.on("error",c),n.on("error",c);function h(){t.removeListener("data",r),n.removeListener("drain",i),t.removeListener("end",a),t.removeListener("close",u),t.removeListener("error",c),n.removeListener("error",c),t.removeListener("end",h),t.removeListener("close",h),n.removeListener("close",h)}return t.on("end",h),t.on("close",h),n.on("close",h),n.emit("pipe",t),n};(function(n){(function(e){e.parser=function(R,L){return new r(R,L)},e.SAXParser=r,e.SAXStream=m,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(R,L){if(!(this instanceof r))return new r(R,L);var J=this;o(J),J.q=J.c="",J.bufferCheckPosition=e.MAX_BUFFER_LENGTH,J.opt=L||{},J.opt.lowercase=J.opt.lowercase||J.opt.lowercasetags,J.looseCase=J.opt.lowercase?"toLowerCase":"toUpperCase",J.tags=[],J.closed=J.closedRoot=J.sawRoot=!1,J.tag=J.error=null,J.strict=!!R,J.noscript=!!(R||J.opt.noscript),J.state=z.BEGIN,J.strictEntities=J.opt.strictEntities,J.ENTITIES=J.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),J.attribList=[],J.opt.xmlns&&(J.ns=Object.create(S)),J.trackPosition=J.opt.position!==!1,J.trackPosition&&(J.position=J.line=J.column=0),Q(J,"onready")}Object.create||(Object.create=function(R){function L(){}L.prototype=R;var J=new L;return J}),Object.keys||(Object.keys=function(R){var L=[];for(var J in R)R.hasOwnProperty(J)&&L.push(J);return L});function i(R){for(var L=Math.max(e.MAX_BUFFER_LENGTH,10),J=0,le=0,V=t.length;le<V;le++){var ie=R[t[le]].length;if(ie>L)switch(t[le]){case"textNode":ee(R);break;case"cdata":B(R,"oncdata",R.cdata),R.cdata="";break;case"script":B(R,"onscript",R.script),R.script="";break;default:me(R,"Max buffer length exceeded: "+t[le])}J=Math.max(J,ie)}var _e=e.MAX_BUFFER_LENGTH-J;R.bufferCheckPosition=_e+R.position}function o(R){for(var L=0,J=t.length;L<J;L++)R[t[L]]=""}function a(R){ee(R),R.cdata!==""&&(B(R,"oncdata",R.cdata),R.cdata=""),R.script!==""&&(B(R,"onscript",R.script),R.script="")}r.prototype={end:function(){Ne(this)},write:K,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var u;try{u=ty.Stream}catch{u=function(){}}var c=e.EVENTS.filter(function(R){return R!=="error"&&R!=="end"});function h(R,L){return new m(R,L)}function m(R,L){if(!(this instanceof m))return new m(R,L);u.apply(this),this._parser=new r(R,L),this.writable=!0,this.readable=!0;var J=this;this._parser.onend=function(){J.emit("end")},this._parser.onerror=function(le){J.emit("error",le),J._parser.error=null},this._decoder=null,c.forEach(function(le){Object.defineProperty(J,"on"+le,{get:function(){return J._parser["on"+le]},set:function(V){if(!V)return J.removeAllListeners(le),J._parser["on"+le]=V,V;J.on(le,V)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(u.prototype,{constructor:{value:m}}),m.prototype.write=function(R){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(R)){if(!this._decoder){var L=_0().StringDecoder;this._decoder=new L("utf8")}R=this._decoder.write(R)}return this._parser.write(R.toString()),this.emit("data",R),!0},m.prototype.end=function(R){return R&&R.length&&this.write(R),this._parser.end(),!0},m.prototype.on=function(R,L){var J=this;return!J._parser["on"+R]&&c.indexOf(R)!==-1&&(J._parser["on"+R]=function(){var le=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);le.splice(0,0,R),J.emit.apply(J,le)}),u.prototype.on.call(J,R,L)};var g="[CDATA[",y="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",S={xml:p,xmlns:E},k=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,j=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function H(R){return R===" "||R===`
`||R==="\r"||R==="	"}function X(R){return R==='"'||R==="'"}function we(R){return R===">"||H(R)}function ce(R,L){return R.test(L)}function oe(R,L){return!ce(R,L)}var z=0;e.STATE={BEGIN:z++,BEGIN_WHITESPACE:z++,TEXT:z++,TEXT_ENTITY:z++,OPEN_WAKA:z++,SGML_DECL:z++,SGML_DECL_QUOTED:z++,DOCTYPE:z++,DOCTYPE_QUOTED:z++,DOCTYPE_DTD:z++,DOCTYPE_DTD_QUOTED:z++,COMMENT_STARTING:z++,COMMENT:z++,COMMENT_ENDING:z++,COMMENT_ENDED:z++,CDATA:z++,CDATA_ENDING:z++,CDATA_ENDING_2:z++,PROC_INST:z++,PROC_INST_BODY:z++,PROC_INST_ENDING:z++,OPEN_TAG:z++,OPEN_TAG_SLASH:z++,ATTRIB:z++,ATTRIB_NAME:z++,ATTRIB_NAME_SAW_WHITE:z++,ATTRIB_VALUE:z++,ATTRIB_VALUE_QUOTED:z++,ATTRIB_VALUE_CLOSED:z++,ATTRIB_VALUE_UNQUOTED:z++,ATTRIB_VALUE_ENTITY_Q:z++,ATTRIB_VALUE_ENTITY_U:z++,CLOSE_TAG:z++,CLOSE_TAG_SAW_WHITE:z++,SCRIPT:z++,SCRIPT_ENDING:z++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(R){var L=e.ENTITIES[R],J=typeof L=="number"?String.fromCharCode(L):L;e.ENTITIES[R]=J});for(var Ee in e.STATE)e.STATE[e.STATE[Ee]]=Ee;z=e.STATE;function Q(R,L,J){R[L]&&R[L](J)}function B(R,L,J){R.textNode&&ee(R),Q(R,L,J)}function ee(R){R.textNode=F(R.opt,R.textNode),R.textNode&&Q(R,"ontext",R.textNode),R.textNode=""}function F(R,L){return R.trim&&(L=L.trim()),R.normalize&&(L=L.replace(/\s+/g," ")),L}function me(R,L){return ee(R),R.trackPosition&&(L+=`
Line: `+R.line+`
Column: `+R.column+`
Char: `+R.c),L=new Error(L),R.error=L,Q(R,"onerror",L),R}function Ne(R){return R.sawRoot&&!R.closedRoot&&pe(R,"Unclosed root tag"),R.state!==z.BEGIN&&R.state!==z.BEGIN_WHITESPACE&&R.state!==z.TEXT&&me(R,"Unexpected end"),ee(R),R.c="",R.closed=!0,Q(R,"onend"),r.call(R,R.strict,R.opt),R}function pe(R,L){if(typeof R!="object"||!(R instanceof r))throw new Error("bad call to strictFail");R.strict&&me(R,L)}function ye(R){R.strict||(R.tagName=R.tagName[R.looseCase]());var L=R.tags[R.tags.length-1]||R,J=R.tag={name:R.tagName,attributes:{}};R.opt.xmlns&&(J.ns=L.ns),R.attribList.length=0,B(R,"onopentagstart",J)}function de(R,L){var J=R.indexOf(":"),le=J<0?["",R]:R.split(":"),V=le[0],ie=le[1];return L&&R==="xmlns"&&(V="xmlns",ie=""),{prefix:V,local:ie}}function xe(R){if(R.strict||(R.attribName=R.attribName[R.looseCase]()),R.attribList.indexOf(R.attribName)!==-1||R.tag.attributes.hasOwnProperty(R.attribName)){R.attribName=R.attribValue="";return}if(R.opt.xmlns){var L=de(R.attribName,!0),J=L.prefix,le=L.local;if(J==="xmlns")if(le==="xml"&&R.attribValue!==p)pe(R,"xml: prefix must be bound to "+p+`
Actual: `+R.attribValue);else if(le==="xmlns"&&R.attribValue!==E)pe(R,"xmlns: prefix must be bound to "+E+`
Actual: `+R.attribValue);else{var V=R.tag,ie=R.tags[R.tags.length-1]||R;V.ns===ie.ns&&(V.ns=Object.create(ie.ns)),V.ns[le]=R.attribValue}R.attribList.push([R.attribName,R.attribValue])}else R.tag.attributes[R.attribName]=R.attribValue,B(R,"onattribute",{name:R.attribName,value:R.attribValue});R.attribName=R.attribValue=""}function G(R,L){if(R.opt.xmlns){var J=R.tag,le=de(R.tagName);J.prefix=le.prefix,J.local=le.local,J.uri=J.ns[le.prefix]||"",J.prefix&&!J.uri&&(pe(R,"Unbound namespace prefix: "+JSON.stringify(R.tagName)),J.uri=le.prefix);var V=R.tags[R.tags.length-1]||R;J.ns&&V.ns!==J.ns&&Object.keys(J.ns).forEach(function(he){B(R,"onopennamespace",{prefix:he,uri:J.ns[he]})});for(var ie=0,_e=R.attribList.length;ie<_e;ie++){var D=R.attribList[ie],se=D[0],I=D[1],b=de(se,!0),x=b.prefix,O=b.local,ae=x===""?"":J.ns[x]||"",ve={name:se,value:I,prefix:x,local:O,uri:ae};x&&x!=="xmlns"&&!ae&&(pe(R,"Unbound namespace prefix: "+JSON.stringify(x)),ve.uri=x),R.tag.attributes[se]=ve,B(R,"onattribute",ve)}R.attribList.length=0}R.tag.isSelfClosing=!!L,R.sawRoot=!0,R.tags.push(R.tag),B(R,"onopentag",R.tag),L||(!R.noscript&&R.tagName.toLowerCase()==="script"?R.state=z.SCRIPT:R.state=z.TEXT,R.tag=null,R.tagName=""),R.attribName=R.attribValue="",R.attribList.length=0}function N(R){if(!R.tagName){pe(R,"Weird empty close tag."),R.textNode+="</>",R.state=z.TEXT;return}if(R.script){if(R.tagName!=="script"){R.script+="</"+R.tagName+">",R.tagName="",R.state=z.SCRIPT;return}B(R,"onscript",R.script),R.script=""}var L=R.tags.length,J=R.tagName;R.strict||(J=J[R.looseCase]());for(var le=J;L--;){var V=R.tags[L];if(V.name!==le)pe(R,"Unexpected close tag");else break}if(L<0){pe(R,"Unmatched closing tag: "+R.tagName),R.textNode+="</"+R.tagName+">",R.state=z.TEXT;return}R.tagName=J;for(var ie=R.tags.length;ie-- >L;){var _e=R.tag=R.tags.pop();R.tagName=R.tag.name,B(R,"onclosetag",R.tagName);var D={};for(var se in _e.ns)D[se]=_e.ns[se];var I=R.tags[R.tags.length-1]||R;R.opt.xmlns&&_e.ns!==I.ns&&Object.keys(_e.ns).forEach(function(b){var x=_e.ns[b];B(R,"onclosenamespace",{prefix:b,uri:x})})}L===0&&(R.closedRoot=!0),R.tagName=R.attribValue=R.attribName="",R.attribList.length=0,R.state=z.TEXT}function q(R){var L=R.entity,J=L.toLowerCase(),le,V="";return R.ENTITIES[L]?R.ENTITIES[L]:R.ENTITIES[J]?R.ENTITIES[J]:(L=J,L.charAt(0)==="#"&&(L.charAt(1)==="x"?(L=L.slice(2),le=parseInt(L,16),V=le.toString(16)):(L=L.slice(1),le=parseInt(L,10),V=le.toString(10))),L=L.replace(/^0+/,""),isNaN(le)||V.toLowerCase()!==L?(pe(R,"Invalid character entity"),"&"+R.entity+";"):String.fromCodePoint(le))}function W(R,L){L==="<"?(R.state=z.OPEN_WAKA,R.startTagPosition=R.position):H(L)||(pe(R,"Non-whitespace before first tag."),R.textNode=L,R.state=z.TEXT)}function ne(R,L){var J="";return L<R.length&&(J=R.charAt(L)),J}function K(R){var L=this;if(this.error)throw this.error;if(L.closed)return me(L,"Cannot write after close. Assign an onready handler.");if(R===null)return Ne(L);typeof R=="object"&&(R=R.toString());for(var J=0,le="";le=ne(R,J++),L.c=le,!!le;)switch(L.trackPosition&&(L.position++,le===`
`?(L.line++,L.column=0):L.column++),L.state){case z.BEGIN:if(L.state=z.BEGIN_WHITESPACE,le==="\uFEFF")continue;W(L,le);continue;case z.BEGIN_WHITESPACE:W(L,le);continue;case z.TEXT:if(L.sawRoot&&!L.closedRoot){for(var V=J-1;le&&le!=="<"&&le!=="&";)le=ne(R,J++),le&&L.trackPosition&&(L.position++,le===`
`?(L.line++,L.column=0):L.column++);L.textNode+=R.substring(V,J-1)}le==="<"&&!(L.sawRoot&&L.closedRoot&&!L.strict)?(L.state=z.OPEN_WAKA,L.startTagPosition=L.position):(!H(le)&&(!L.sawRoot||L.closedRoot)&&pe(L,"Text data outside of root node."),le==="&"?L.state=z.TEXT_ENTITY:L.textNode+=le);continue;case z.SCRIPT:le==="<"?L.state=z.SCRIPT_ENDING:L.script+=le;continue;case z.SCRIPT_ENDING:le==="/"?L.state=z.CLOSE_TAG:(L.script+="<"+le,L.state=z.SCRIPT);continue;case z.OPEN_WAKA:if(le==="!")L.state=z.SGML_DECL,L.sgmlDecl="";else if(!H(le))if(ce(k,le))L.state=z.OPEN_TAG,L.tagName=le;else if(le==="/")L.state=z.CLOSE_TAG,L.tagName="";else if(le==="?")L.state=z.PROC_INST,L.procInstName=L.procInstBody="";else{if(pe(L,"Unencoded <"),L.startTagPosition+1<L.position){var ie=L.position-L.startTagPosition;le=new Array(ie).join(" ")+le}L.textNode+="<"+le,L.state=z.TEXT}continue;case z.SGML_DECL:(L.sgmlDecl+le).toUpperCase()===g?(B(L,"onopencdata"),L.state=z.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+le==="--"?(L.state=z.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+le).toUpperCase()===y?(L.state=z.DOCTYPE,(L.doctype||L.sawRoot)&&pe(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):le===">"?(B(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=z.TEXT):(X(le)&&(L.state=z.SGML_DECL_QUOTED),L.sgmlDecl+=le);continue;case z.SGML_DECL_QUOTED:le===L.q&&(L.state=z.SGML_DECL,L.q=""),L.sgmlDecl+=le;continue;case z.DOCTYPE:le===">"?(L.state=z.TEXT,B(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=le,le==="["?L.state=z.DOCTYPE_DTD:X(le)&&(L.state=z.DOCTYPE_QUOTED,L.q=le));continue;case z.DOCTYPE_QUOTED:L.doctype+=le,le===L.q&&(L.q="",L.state=z.DOCTYPE);continue;case z.DOCTYPE_DTD:L.doctype+=le,le==="]"?L.state=z.DOCTYPE:X(le)&&(L.state=z.DOCTYPE_DTD_QUOTED,L.q=le);continue;case z.DOCTYPE_DTD_QUOTED:L.doctype+=le,le===L.q&&(L.state=z.DOCTYPE_DTD,L.q="");continue;case z.COMMENT:le==="-"?L.state=z.COMMENT_ENDING:L.comment+=le;continue;case z.COMMENT_ENDING:le==="-"?(L.state=z.COMMENT_ENDED,L.comment=F(L.opt,L.comment),L.comment&&B(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+le,L.state=z.COMMENT);continue;case z.COMMENT_ENDED:le!==">"?(pe(L,"Malformed comment"),L.comment+="--"+le,L.state=z.COMMENT):L.state=z.TEXT;continue;case z.CDATA:le==="]"?L.state=z.CDATA_ENDING:L.cdata+=le;continue;case z.CDATA_ENDING:le==="]"?L.state=z.CDATA_ENDING_2:(L.cdata+="]"+le,L.state=z.CDATA);continue;case z.CDATA_ENDING_2:le===">"?(L.cdata&&B(L,"oncdata",L.cdata),B(L,"onclosecdata"),L.cdata="",L.state=z.TEXT):le==="]"?L.cdata+="]":(L.cdata+="]]"+le,L.state=z.CDATA);continue;case z.PROC_INST:le==="?"?L.state=z.PROC_INST_ENDING:H(le)?L.state=z.PROC_INST_BODY:L.procInstName+=le;continue;case z.PROC_INST_BODY:if(!L.procInstBody&&H(le))continue;le==="?"?L.state=z.PROC_INST_ENDING:L.procInstBody+=le;continue;case z.PROC_INST_ENDING:le===">"?(B(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=z.TEXT):(L.procInstBody+="?"+le,L.state=z.PROC_INST_BODY);continue;case z.OPEN_TAG:ce(_,le)?L.tagName+=le:(ye(L),le===">"?G(L):le==="/"?L.state=z.OPEN_TAG_SLASH:(H(le)||pe(L,"Invalid character in tag name"),L.state=z.ATTRIB));continue;case z.OPEN_TAG_SLASH:le===">"?(G(L,!0),N(L)):(pe(L,"Forward-slash in opening tag not followed by >"),L.state=z.ATTRIB);continue;case z.ATTRIB:if(H(le))continue;le===">"?G(L):le==="/"?L.state=z.OPEN_TAG_SLASH:ce(k,le)?(L.attribName=le,L.attribValue="",L.state=z.ATTRIB_NAME):pe(L,"Invalid attribute name");continue;case z.ATTRIB_NAME:le==="="?L.state=z.ATTRIB_VALUE:le===">"?(pe(L,"Attribute without value"),L.attribValue=L.attribName,xe(L),G(L)):H(le)?L.state=z.ATTRIB_NAME_SAW_WHITE:ce(_,le)?L.attribName+=le:pe(L,"Invalid attribute name");continue;case z.ATTRIB_NAME_SAW_WHITE:if(le==="=")L.state=z.ATTRIB_VALUE;else{if(H(le))continue;pe(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",B(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",le===">"?G(L):ce(k,le)?(L.attribName=le,L.state=z.ATTRIB_NAME):(pe(L,"Invalid attribute name"),L.state=z.ATTRIB)}continue;case z.ATTRIB_VALUE:if(H(le))continue;X(le)?(L.q=le,L.state=z.ATTRIB_VALUE_QUOTED):(pe(L,"Unquoted attribute value"),L.state=z.ATTRIB_VALUE_UNQUOTED,L.attribValue=le);continue;case z.ATTRIB_VALUE_QUOTED:if(le!==L.q){le==="&"?L.state=z.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=le;continue}xe(L),L.q="",L.state=z.ATTRIB_VALUE_CLOSED;continue;case z.ATTRIB_VALUE_CLOSED:H(le)?L.state=z.ATTRIB:le===">"?G(L):le==="/"?L.state=z.OPEN_TAG_SLASH:ce(k,le)?(pe(L,"No whitespace between attributes"),L.attribName=le,L.attribValue="",L.state=z.ATTRIB_NAME):pe(L,"Invalid attribute name");continue;case z.ATTRIB_VALUE_UNQUOTED:if(!we(le)){le==="&"?L.state=z.ATTRIB_VALUE_ENTITY_U:L.attribValue+=le;continue}xe(L),le===">"?G(L):L.state=z.ATTRIB;continue;case z.CLOSE_TAG:if(L.tagName)le===">"?N(L):ce(_,le)?L.tagName+=le:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=z.SCRIPT):(H(le)||pe(L,"Invalid tagname in closing tag"),L.state=z.CLOSE_TAG_SAW_WHITE);else{if(H(le))continue;oe(k,le)?L.script?(L.script+="</"+le,L.state=z.SCRIPT):pe(L,"Invalid tagname in closing tag."):L.tagName=le}continue;case z.CLOSE_TAG_SAW_WHITE:if(H(le))continue;le===">"?N(L):pe(L,"Invalid characters in closing tag");continue;case z.TEXT_ENTITY:case z.ATTRIB_VALUE_ENTITY_Q:case z.ATTRIB_VALUE_ENTITY_U:var _e,D;switch(L.state){case z.TEXT_ENTITY:_e=z.TEXT,D="textNode";break;case z.ATTRIB_VALUE_ENTITY_Q:_e=z.ATTRIB_VALUE_QUOTED,D="attribValue";break;case z.ATTRIB_VALUE_ENTITY_U:_e=z.ATTRIB_VALUE_UNQUOTED,D="attribValue";break}le===";"?(L[D]+=q(L),L.entity="",L.state=_e):ce(L.entity.length?j:T,le)?L.entity+=le:(pe(L,"Invalid character in entity name"),L[D]+="&"+L.entity+le,L.entity="",L.state=_e);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&i(L),L}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var R=String.fromCharCode,L=Math.floor,J=function(){var le=16384,V=[],ie,_e,D=-1,se=arguments.length;if(!se)return"";for(var I="";++D<se;){var b=Number(arguments[D]);if(!isFinite(b)||b<0||b>1114111||L(b)!==b)throw RangeError("Invalid code point: "+b);b<=65535?V.push(b):(b-=65536,ie=(b>>10)+55296,_e=b%1024+56320,V.push(ie,_e)),(D+1===se||V.length>le)&&(I+=R.apply(null,V),V.length=0)}return I};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J}()})(n)})(Bx);var ry={isArray:function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"}},B8=ry.isArray,iy={copyOptions:function(n){var e,t={};for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},ensureFlagExists:function(n,e){(!(n in e)||typeof e[n]!="boolean")&&(e[n]=!1)},ensureSpacesExists:function(n){(!("spaces"in n)||typeof n.spaces!="number"&&typeof n.spaces!="string")&&(n.spaces=0)},ensureAlwaysArrayExists:function(n){(!("alwaysArray"in n)||typeof n.alwaysArray!="boolean"&&!B8(n.alwaysArray))&&(n.alwaysArray=!1)},ensureKeyExists:function(n,e){(!(n+"Key"in e)||typeof e[n+"Key"]!="string")&&(e[n+"Key"]=e.compact?"_"+n:n)},checkFnExists:function(n,e){return n+"Fn"in e}},U8=Bx,yn=iy,wf=ry.isArray,Ve,jt;function z8(n){return Ve=yn.copyOptions(n),yn.ensureFlagExists("ignoreDeclaration",Ve),yn.ensureFlagExists("ignoreInstruction",Ve),yn.ensureFlagExists("ignoreAttributes",Ve),yn.ensureFlagExists("ignoreText",Ve),yn.ensureFlagExists("ignoreComment",Ve),yn.ensureFlagExists("ignoreCdata",Ve),yn.ensureFlagExists("ignoreDoctype",Ve),yn.ensureFlagExists("compact",Ve),yn.ensureFlagExists("alwaysChildren",Ve),yn.ensureFlagExists("addParent",Ve),yn.ensureFlagExists("trim",Ve),yn.ensureFlagExists("nativeType",Ve),yn.ensureFlagExists("nativeTypeAttributes",Ve),yn.ensureFlagExists("sanitize",Ve),yn.ensureFlagExists("instructionHasAttributes",Ve),yn.ensureFlagExists("captureSpacesBetweenElements",Ve),yn.ensureAlwaysArrayExists(Ve),yn.ensureKeyExists("declaration",Ve),yn.ensureKeyExists("instruction",Ve),yn.ensureKeyExists("attributes",Ve),yn.ensureKeyExists("text",Ve),yn.ensureKeyExists("comment",Ve),yn.ensureKeyExists("cdata",Ve),yn.ensureKeyExists("doctype",Ve),yn.ensureKeyExists("type",Ve),yn.ensureKeyExists("name",Ve),yn.ensureKeyExists("elements",Ve),yn.ensureKeyExists("parent",Ve),Ve}function cE(n){var e=Number(n);if(!isNaN(e))return e;var t=n.toLowerCase();return t==="true"?!0:t==="false"?!1:n}function fd(n,e){var t;if(Ve.compact){if(!jt[Ve[n+"Key"]]&&(wf(Ve.alwaysArray)?Ve.alwaysArray.indexOf(Ve[n+"Key"])!==-1:Ve.alwaysArray)&&(jt[Ve[n+"Key"]]=[]),jt[Ve[n+"Key"]]&&!wf(jt[Ve[n+"Key"]])&&(jt[Ve[n+"Key"]]=[jt[Ve[n+"Key"]]]),n+"Fn"in Ve&&typeof e=="string"&&(e=Ve[n+"Fn"](e,jt)),n==="instruction"&&("instructionFn"in Ve||"instructionNameFn"in Ve)){for(t in e)if(e.hasOwnProperty(t))if("instructionFn"in Ve)e[t]=Ve.instructionFn(e[t],t,jt);else{var r=e[t];delete e[t],e[Ve.instructionNameFn(t,r,jt)]=r}}wf(jt[Ve[n+"Key"]])?jt[Ve[n+"Key"]].push(e):jt[Ve[n+"Key"]]=e}else{jt[Ve.elementsKey]||(jt[Ve.elementsKey]=[]);var i={};if(i[Ve.typeKey]=n,n==="instruction"){for(t in e)if(e.hasOwnProperty(t))break;i[Ve.nameKey]="instructionNameFn"in Ve?Ve.instructionNameFn(t,e,jt):t,Ve.instructionHasAttributes?(i[Ve.attributesKey]=e[t][Ve.attributesKey],"instructionFn"in Ve&&(i[Ve.attributesKey]=Ve.instructionFn(i[Ve.attributesKey],t,jt))):("instructionFn"in Ve&&(e[t]=Ve.instructionFn(e[t],t,jt)),i[Ve.instructionKey]=e[t])}else n+"Fn"in Ve&&(e=Ve[n+"Fn"](e,jt)),i[Ve[n+"Key"]]=e;Ve.addParent&&(i[Ve.parentKey]=jt),jt[Ve.elementsKey].push(i)}}function fE(n){if("attributesFn"in Ve&&n&&(n=Ve.attributesFn(n,jt)),(Ve.trim||"attributeValueFn"in Ve||"attributeNameFn"in Ve||Ve.nativeTypeAttributes)&&n){var e;for(e in n)if(n.hasOwnProperty(e)&&(Ve.trim&&(n[e]=n[e].trim()),Ve.nativeTypeAttributes&&(n[e]=cE(n[e])),"attributeValueFn"in Ve&&(n[e]=Ve.attributeValueFn(n[e],e,jt)),"attributeNameFn"in Ve)){var t=n[e];delete n[e],n[Ve.attributeNameFn(e,n[e],jt)]=t}}return n}function q8(n){var e={};if(n.body&&(n.name.toLowerCase()==="xml"||Ve.instructionHasAttributes)){for(var t=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,r;(r=t.exec(n.body))!==null;)e[r[1]]=r[2]||r[3]||r[4];e=fE(e)}if(n.name.toLowerCase()==="xml"){if(Ve.ignoreDeclaration)return;jt[Ve.declarationKey]={},Object.keys(e).length&&(jt[Ve.declarationKey][Ve.attributesKey]=e),Ve.addParent&&(jt[Ve.declarationKey][Ve.parentKey]=jt)}else{if(Ve.ignoreInstruction)return;Ve.trim&&(n.body=n.body.trim());var i={};Ve.instructionHasAttributes&&Object.keys(e).length?(i[n.name]={},i[n.name][Ve.attributesKey]=e):i[n.name]=n.body,fd("instruction",i)}}function W8(n,e){var t;if(typeof n=="object"&&(e=n.attributes,n=n.name),e=fE(e),"elementNameFn"in Ve&&(n=Ve.elementNameFn(n,jt)),Ve.compact){if(t={},!Ve.ignoreAttributes&&e&&Object.keys(e).length){t[Ve.attributesKey]={};var r;for(r in e)e.hasOwnProperty(r)&&(t[Ve.attributesKey][r]=e[r])}!(n in jt)&&(wf(Ve.alwaysArray)?Ve.alwaysArray.indexOf(n)!==-1:Ve.alwaysArray)&&(jt[n]=[]),jt[n]&&!wf(jt[n])&&(jt[n]=[jt[n]]),wf(jt[n])?jt[n].push(t):jt[n]=t}else jt[Ve.elementsKey]||(jt[Ve.elementsKey]=[]),t={},t[Ve.typeKey]="element",t[Ve.nameKey]=n,!Ve.ignoreAttributes&&e&&Object.keys(e).length&&(t[Ve.attributesKey]=e),Ve.alwaysChildren&&(t[Ve.elementsKey]=[]),jt[Ve.elementsKey].push(t);t[Ve.parentKey]=jt,jt=t}function H8(n){Ve.ignoreText||!n.trim()&&!Ve.captureSpacesBetweenElements||(Ve.trim&&(n=n.trim()),Ve.nativeType&&(n=cE(n)),Ve.sanitize&&(n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),fd("text",n))}function V8(n){Ve.ignoreComment||(Ve.trim&&(n=n.trim()),fd("comment",n))}function $8(n){var e=jt[Ve.parentKey];Ve.addParent||delete jt[Ve.parentKey],jt=e}function G8(n){Ve.ignoreCdata||(Ve.trim&&(n=n.trim()),fd("cdata",n))}function K8(n){Ve.ignoreDoctype||(n=n.replace(/^ /,""),Ve.trim&&(n=n.trim()),fd("doctype",n))}function Y8(n){n.note=n}var hE=function(n,e){var t=U8.parser(!0,{}),r={};if(jt=r,Ve=z8(e),t.opt={strictEntities:!0},t.onopentag=W8,t.ontext=H8,t.oncomment=V8,t.onclosetag=$8,t.onerror=Y8,t.oncdata=G8,t.ondoctype=K8,t.onprocessinginstruction=q8,t.write(n).close(),r[Ve.elementsKey]){var i=r[Ve.elementsKey];delete r[Ve.elementsKey],r[Ve.elementsKey]=i,delete r.text}return r},J_=iy,X8=hE;function J8(n){var e=J_.copyOptions(n);return J_.ensureSpacesExists(e),e}var Q8=function(n,e){var t,r,i,o;return t=J8(e),r=X8(n,t),o="compact"in t&&t.compact?"_parent":"parent","addParent"in t&&t.addParent?i=JSON.stringify(r,function(a,u){return a===o?"_":u},t.spaces):i=JSON.stringify(r,null,t.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},In=iy,Z8=ry.isArray,pi,mi;function eR(n){var e=In.copyOptions(n);return In.ensureFlagExists("ignoreDeclaration",e),In.ensureFlagExists("ignoreInstruction",e),In.ensureFlagExists("ignoreAttributes",e),In.ensureFlagExists("ignoreText",e),In.ensureFlagExists("ignoreComment",e),In.ensureFlagExists("ignoreCdata",e),In.ensureFlagExists("ignoreDoctype",e),In.ensureFlagExists("compact",e),In.ensureFlagExists("indentText",e),In.ensureFlagExists("indentCdata",e),In.ensureFlagExists("indentAttributes",e),In.ensureFlagExists("indentInstruction",e),In.ensureFlagExists("fullTagEmptyElement",e),In.ensureFlagExists("noQuotesForNativeAttributes",e),In.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),In.ensureKeyExists("declaration",e),In.ensureKeyExists("instruction",e),In.ensureKeyExists("attributes",e),In.ensureKeyExists("text",e),In.ensureKeyExists("comment",e),In.ensureKeyExists("cdata",e),In.ensureKeyExists("doctype",e),In.ensureKeyExists("type",e),In.ensureKeyExists("name",e),In.ensureKeyExists("elements",e),e}function Ko(n,e,t){return(!t&&n.spaces?`
`:"")+Array(e+1).join(n.spaces)}function Nm(n,e,t){if(e.ignoreAttributes)return"";"attributesFn"in e&&(n=e.attributesFn(n,mi,pi));var r,i,o,a,u=[];for(r in n)n.hasOwnProperty(r)&&n[r]!==null&&n[r]!==void 0&&(a=e.noQuotesForNativeAttributes&&typeof n[r]!="string"?"":'"',i=""+n[r],i=i.replace(/"/g,"&quot;"),o="attributeNameFn"in e?e.attributeNameFn(r,i,mi,pi):r,u.push(e.spaces&&e.indentAttributes?Ko(e,t+1,!1):" "),u.push(o+"="+a+("attributeValueFn"in e?e.attributeValueFn(i,r,mi,pi):i)+a));return n&&Object.keys(n).length&&e.spaces&&e.indentAttributes&&u.push(Ko(e,t,!1)),u.join("")}function dE(n,e,t){return pi=n,mi="xml",e.ignoreDeclaration?"":"<?xml"+Nm(n[e.attributesKey],e,t)+"?>"}function pE(n,e,t){if(e.ignoreInstruction)return"";var r;for(r in n)if(n.hasOwnProperty(r))break;var i="instructionNameFn"in e?e.instructionNameFn(r,n[r],mi,pi):r;if(typeof n[r]=="object")return pi=n,mi=i,"<?"+i+Nm(n[r][e.attributesKey],e,t)+"?>";var o=n[r]?n[r]:"";return"instructionFn"in e&&(o=e.instructionFn(o,r,mi,pi)),"<?"+i+(o?" "+o:"")+"?>"}function mE(n,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(n,mi,pi):n)+"-->"}function gE(n,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(n,mi,pi):n.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function vE(n,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(n,mi,pi):n)+">"}function sy(n,e){return e.ignoreText?"":(n=""+n,n=n.replace(/&amp;/g,"&"),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(n,mi,pi):n)}function tR(n,e){var t;if(n.elements&&n.elements.length)for(t=0;t<n.elements.length;++t)switch(n.elements[t][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function nR(n,e,t){pi=n,mi=n.name;var r=[],i="elementNameFn"in e?e.elementNameFn(n.name,n):n.name;r.push("<"+i),n[e.attributesKey]&&r.push(Nm(n[e.attributesKey],e,t));var o=n[e.elementsKey]&&n[e.elementsKey].length||n[e.attributesKey]&&n[e.attributesKey]["xml:space"]==="preserve";return o||("fullTagEmptyElementFn"in e?o=e.fullTagEmptyElementFn(n.name,n):o=e.fullTagEmptyElement),o?(r.push(">"),n[e.elementsKey]&&n[e.elementsKey].length&&(r.push(yE(n[e.elementsKey],e,t+1)),pi=n,mi=n.name),r.push(e.spaces&&tR(n,e)?`
`+Array(t+1).join(e.spaces):""),r.push("</"+i+">")):r.push("/>"),r.join("")}function yE(n,e,t,r){return n.reduce(function(i,o){var a=Ko(e,t,r&&!i);switch(o.type){case"element":return i+a+nR(o,e,t);case"comment":return i+a+mE(o[e.commentKey],e);case"doctype":return i+a+vE(o[e.doctypeKey],e);case"cdata":return i+(e.indentCdata?a:"")+gE(o[e.cdataKey],e);case"text":return i+(e.indentText?a:"")+sy(o[e.textKey],e);case"instruction":var u={};return u[o[e.nameKey]]=o[e.attributesKey]?o:o[e.instructionKey],i+(e.indentInstruction?a:"")+pE(u,e,t)}},"")}function wE(n,e,t){var r;for(r in n)if(n.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||t)return!0;break;case e.cdataKey:if(e.indentCdata||t)return!0;break;case e.instructionKey:if(e.indentInstruction||t)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function rR(n,e,t,r,i){pi=n,mi=e;var o="elementNameFn"in t?t.elementNameFn(e,n):e;if(typeof n>"u"||n===null||n==="")return"fullTagEmptyElementFn"in t&&t.fullTagEmptyElementFn(e,n)||t.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var a=[];if(e){if(a.push("<"+o),typeof n!="object")return a.push(">"+sy(n,t)+"</"+o+">"),a.join("");n[t.attributesKey]&&a.push(Nm(n[t.attributesKey],t,r));var u=wE(n,t,!0)||n[t.attributesKey]&&n[t.attributesKey]["xml:space"]==="preserve";if(u||("fullTagEmptyElementFn"in t?u=t.fullTagEmptyElementFn(e,n):u=t.fullTagEmptyElement),u)a.push(">");else return a.push("/>"),a.join("")}return a.push(_E(n,t,r+1,!1)),pi=n,mi=e,e&&a.push((i?Ko(t,r,!1):"")+"</"+o+">"),a.join("")}function _E(n,e,t,r){var i,o,a,u=[];for(o in n)if(n.hasOwnProperty(o))for(a=Z8(n[o])?n[o]:[n[o]],i=0;i<a.length;++i){switch(o){case e.declarationKey:u.push(dE(a[i],e,t));break;case e.instructionKey:u.push((e.indentInstruction?Ko(e,t,r):"")+pE(a[i],e,t));break;case e.attributesKey:case e.parentKey:break;case e.textKey:u.push((e.indentText?Ko(e,t,r):"")+sy(a[i],e));break;case e.cdataKey:u.push((e.indentCdata?Ko(e,t,r):"")+gE(a[i],e));break;case e.doctypeKey:u.push(Ko(e,t,r)+vE(a[i],e));break;case e.commentKey:u.push(Ko(e,t,r)+mE(a[i],e));break;default:u.push(Ko(e,t,r)+rR(a[i],o,e,t,wE(a[i],e)))}r=r&&!u.length}return u.join("")}var bE=function(n,e){e=eR(e);var t=[];return pi=n,mi="_root_",e.compact?t.push(_E(n,e,0,!0)):(n[e.declarationKey]&&t.push(dE(n[e.declarationKey],e,0)),n[e.elementsKey]&&n[e.elementsKey].length&&t.push(yE(n[e.elementsKey],e,0,!t.length))),t.join("")},iR=bE,sR=function(n,e){n instanceof Buffer&&(n=n.toString());var t=null;if(typeof n=="string")try{t=JSON.parse(n)}catch{throw new Error("The JSON structure is invalid")}else t=n;return iR(t,e)},oR=hE,aR=Q8,lR=bE,uR=sR,SE={xml2js:oR,xml2json:aR,js2xml:lR,json2xml:uR};const oy=n=>{switch(n.type){case void 0:case"element":const e=new fR(n.name,n.attributes),t=n.elements||[];for(const r of t){const i=oy(r);i!==void 0&&e.push(i)}return e;case"text":return n.text;default:return}};class cR extends Dt{}class fR extends Ze{static fromXmlString(e){const t=SE.xml2js(e,{compact:!1});return oy(t)}constructor(e,t){super(e),t&&this.root.push(new cR(t))}push(e){this.root.push(e)}}class hR extends Ze{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class xE extends Ze{constructor(e,t){super(e),t&&(this.root=t.root)}}const Xi=n=>{if(isNaN(n))throw new Error(`Invalid value '${n}' specified. Must be an integer.`);return Math.floor(n)},Im=n=>{const e=Xi(n);if(e<0)throw new Error(`Invalid value '${n}' specified. Must be a positive integer.`);return e},EE=(n,e)=>{const t=e*2;if(n.length!==t||isNaN(+`0x${n}`))throw new Error(`Invalid hex value '${n}'. Expected ${t} digit hex value`);return n},Q_=n=>EE(n,1),AE=n=>{const e=n.slice(-2),t=n.substring(0,n.length-2);return`${Number(t)}${e}`},NE=n=>{const e=AE(n);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Lf=n=>{if(n==="auto")return n;const e=n.charAt(0)==="#"?n.substring(1):n;return EE(e,3)},rc=n=>typeof n=="string"?AE(n):Xi(n),dR=n=>typeof n=="string"?NE(n):Im(n),co=n=>typeof n=="string"?NE(n):Im(n),pR=Im,mR=Im,gR=n=>n.toISOString();class rt extends Ze{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new dr({val:t}))}}class P1 extends Ze{constructor(e,t){super(e),this.root.push(new dr({val:dR(t)}))}}class _f extends Ze{constructor(e,t){super(e),this.root.push(new dr({val:t}))}}const xh=(n,e)=>new au({name:n,attributes:{value:{key:"w:val",value:e}}});class ay extends Ze{constructor(e,t){super(e),this.root.push(new dr({val:t}))}}class $u extends Ze{constructor(e,t){super(e),this.root.push(t)}}class au extends Ze{constructor({name:e,attributes:t,children:r}){super(e),t&&this.root.push(new cd(t)),r&&this.root.push(...r)}}const Ho={START:"start",LEFT:"left"};class vR extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class yR extends Ze{constructor(e){super("w:jc"),this.root.push(new vR({val:e}))}}class Zn extends Ze{constructor(e,{color:t,size:r,space:i,style:o}){super(e),this.root.push(new wR({style:o,color:t===void 0?void 0:Lf(t),size:r===void 0?void 0:pR(r),space:i===void 0?void 0:mR(i)}))}}class wR extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ly={SINGLE:"single",NONE:"none"};class _R extends xm{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Zn("w:top",e.top)),e.bottom&&this.root.push(new Zn("w:bottom",e.bottom)),e.left&&this.root.push(new Zn("w:left",e.left)),e.right&&this.root.push(new Zn("w:right",e.right))}}class bR extends Ze{constructor(){super("w:pBdr");const e=new Zn("w:bottom",{color:"auto",space:1,style:ly.SINGLE,size:6});this.root.push(e)}}class SR extends Ze{constructor({start:e,end:t,left:r,right:i,hanging:o,firstLine:a}){super("w:ind"),this.root.push(new cd({start:{key:"w:start",value:e===void 0?void 0:rc(e)},end:{key:"w:end",value:t===void 0?void 0:rc(t)},left:{key:"w:left",value:r===void 0?void 0:rc(r)},right:{key:"w:right",value:i===void 0?void 0:rc(i)},hanging:{key:"w:hanging",value:o===void 0?void 0:co(o)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:co(a)}}))}}let xR=class extends Ze{constructor(){super("w:br")}};const uy={BEGIN:"begin",END:"end",SEPARATE:"separate"};class cy extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class np extends Ze{constructor(e){super("w:fldChar"),this.root.push(new cy({type:uy.BEGIN,dirty:e}))}}class rp extends Ze{constructor(e){super("w:fldChar"),this.root.push(new cy({type:uy.SEPARATE,dirty:e}))}}class ip extends Ze{constructor(e){super("w:fldChar"),this.root.push(new cy({type:uy.END,dirty:e}))}}const Rf={DEFAULT:"default",PRESERVE:"preserve"};class Of extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{space:"xml:space"})}}class ER extends Ze{constructor(){super("w:instrText"),this.root.push(new Of({space:Rf.PRESERVE})),this.root.push("PAGE")}}class AR extends Ze{constructor(){super("w:instrText"),this.root.push(new Of({space:Rf.PRESERVE})),this.root.push("NUMPAGES")}}class NR extends Ze{constructor(){super("w:instrText"),this.root.push(new Of({space:Rf.PRESERVE})),this.root.push("SECTIONPAGES")}}class IR extends Ze{constructor(){super("w:instrText"),this.root.push(new Of({space:Rf.PRESERVE})),this.root.push("SECTION")}}class CR extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class IE extends Ze{constructor({fill:e,color:t,type:r}){super("w:shd"),this.root.push(new CR({fill:e===void 0?void 0:Lf(e),color:t===void 0?void 0:Lf(t),type:r}))}}class kR extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const TR={DOT:"dot"};class PR extends Ze{constructor(e){super("w:em"),this.root.push(new dr({val:e}))}}class LR extends PR{constructor(e=TR.DOT){super(e)}}class RR extends Ze{constructor(e){super("w:spacing"),this.root.push(new dr({val:rc(e)}))}}class OR extends Ze{constructor(e){super("w:color"),this.root.push(new dr({val:Lf(e)}))}}class FR extends Ze{constructor(e){super("w:highlight"),this.root.push(new dr({val:e}))}}class DR extends Ze{constructor(e){super("w:highlightCs"),this.root.push(new dr({val:e}))}}const MR=n=>new au({name:"w:lang",attributes:{value:{key:"w:val",value:n.value},eastAsia:{key:"w:eastAsia",value:n.eastAsia},bidirectional:{key:"w:bidi",value:n.bidirectional}}});class Z_ extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class L1 extends Ze{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new Z_({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:t}))}else{const r=e;this.root.push(new Z_(r))}}}let CE=class extends Ze{constructor(e){super("w:vertAlign"),this.root.push(new dr({val:e}))}};class jR extends CE{constructor(){super("superscript")}}class BR extends CE{constructor(){super("subscript")}}const kE={SINGLE:"single"};class UR extends Ze{constructor(e=kE.SINGLE,t){super("w:u"),this.root.push(new dr({val:e,color:t===void 0?void 0:Lf(t)}))}}class _c extends xm{constructor(e){var t,r;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new rt("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new rt("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new rt("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new rt("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new rt("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.underline&&this.push(new UR(e.underline.type,e.underline.color)),e.effect&&this.push(new _f("w:effect",e.effect)),e.emphasisMark&&this.push(new LR(e.emphasisMark.type)),e.color&&this.push(new OR(e.color)),e.kern&&this.push(new P1("w:kern",e.kern)),e.position&&this.push(new _f("w:position",e.position)),e.size!==void 0&&this.push(new P1("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new P1("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new rt("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new rt("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new rt("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new rt("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new rt("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new BR),e.superScript&&this.push(new jR),e.style&&this.push(new _f("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new L1(e.font)):"name"in e.font?this.push(new L1(e.font.name,e.font.hint)):this.push(new L1(e.font))),e.highlight&&this.push(new FR(e.highlight));const o=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;o&&this.push(new DR(o)),e.characterSpacing&&this.push(new RR(e.characterSpacing)),e.emboss!==void 0&&this.push(new rt("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new rt("w:imprint",e.imprint)),e.shading&&this.push(new IE(e.shading)),e.revision&&this.push(new zR(e.revision)),e.border&&this.push(new Zn("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new rt("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new rt("w:vanish",e.vanish)),e.specVanish&&this.push(new rt("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new ay("w:w",e.scale)),e.language&&this.push(MR(e.language)),e.math&&this.push(new rt("w:oMath",e.math))}push(e){this.root.push(e)}}class zR extends Ze{constructor(e){super("w:rPrChange"),this.root.push(new kR({id:e.id,author:e.author,date:e.date})),this.addChildElement(new _c(e))}}class b0 extends Ze{constructor(e){var t;return super("w:t"),typeof e=="string"?(this.root.push(new Of({space:Rf.PRESERVE})),this.root.push(e),this):(this.root.push(new Of({space:(t=e.space)!=null?t:Rf.DEFAULT})),this.root.push(e.text),this)}}const sp={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Cm extends Ze{constructor(e){if(super("w:r"),Qe(this,"properties"),this.properties=new _c(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new xR);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case sp.CURRENT:this.root.push(new np),this.root.push(new ER),this.root.push(new rp),this.root.push(new ip);break;case sp.TOTAL_PAGES:this.root.push(new np),this.root.push(new AR),this.root.push(new rp),this.root.push(new ip);break;case sp.TOTAL_PAGES_IN_SECTION:this.root.push(new np),this.root.push(new NR),this.root.push(new rp),this.root.push(new ip);break;case sp.CURRENT_SECTION:this.root.push(new np),this.root.push(new IR),this.root.push(new rp),this.root.push(new ip);break;default:this.root.push(new b0(t));break}continue}this.root.push(t)}else e.text&&this.root.push(new b0(e.text))}}class e2 extends Cm{constructor(e){if(typeof e=="string")return super({}),this.root.push(new b0(e)),this;super(e)}}let qR="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",WR=(n,e=21)=>(t=e)=>{let r="",i=t;for(;i--;)r+=n[Math.random()*n.length|0];return r},HR=(n=21)=>{let e="",t=n;for(;t--;)e+=qR[Math.random()*64|0];return e};const so=n=>Math.floor(n*72*20),fy=(n=0)=>{let e=n;return()=>++e},VR=()=>fy(),$R=()=>fy(1),GR=()=>fy(),KR=()=>HR().toLowerCase(),Eh=n=>WR("1234567890abcdef",n)(),YR=()=>`${Eh(8)}-${Eh(4)}-${Eh(4)}-${Eh(4)}-${Eh(12)}`;class XR extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class JR extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class QR extends Ze{constructor({id:e,initials:t,author:r,date:i=new Date,children:o}){super("w:comment"),this.root.push(new XR({id:e,initials:t,author:r,date:i.toISOString()}));for(const a of o)this.root.push(a)}}class ZR extends Ze{constructor({children:e}){super("w:comments"),this.root.push(new JR({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new QR(t))}}class eO extends Ze{constructor(){super("w:pageBreakBefore")}}const S0={AUTO:"auto"};class tO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class nO extends Ze{constructor(e){super("w:spacing"),this.root.push(new tO(e))}}const Zc={HEADING_1:"Heading1",HEADING_2:"Heading2"};let op=class extends Ze{constructor(e){super("w:pStyle"),this.root.push(new dr({val:e}))}};class rO extends Ze{constructor(e){super("w:tabs");for(const t of e)this.root.push(new sO(t))}}const t2={LEFT:"left",RIGHT:"right"};class iO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class sO extends Ze{constructor({type:e,position:t,leader:r}){super("w:tab"),this.root.push(new iO({val:e,pos:t,leader:r}))}}class n2 extends Ze{constructor(e,t){super("w:numPr"),this.root.push(new oO(t)),this.root.push(new aO(e))}}class oO extends Ze{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new dr({val:e}))}}class aO extends Ze{constructor(e){super("w:numId"),this.root.push(new dr({val:typeof e=="string"?`{${e}}`:e}))}}class lO extends Ze{constructor(){super(...arguments),Qe(this,"fileChild",Symbol())}}class uO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const cO={EXTERNAL:"External"};class fO extends Ze{constructor(e,t,r,i){super("Relationship"),this.root.push(new uO({id:e,type:t,target:r,targetMode:i}))}}class hO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class dO extends Ze{constructor(e,t,r){super("w:hyperlink"),Qe(this,"linkId"),this.linkId=t;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},o=new hO(i);this.root.push(o),e.forEach(a=>{this.root.push(a)})}}class pO extends Ze{constructor(e){super("w:externalHyperlink"),this.options=e}}class mO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class gO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{id:"w:id"})}}class vO{constructor(e){Qe(this,"bookmarkUniqueNumericId",GR()),Qe(this,"start"),Qe(this,"children"),Qe(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new yO(e.id,t),this.children=e.children,this.end=new wO(t)}}class yO extends Ze{constructor(e,t){super("w:bookmarkStart");const r=new mO({name:e,id:t});this.root.push(r)}}class wO extends Ze{constructor(e){super("w:bookmarkEnd");const t=new gO({id:e});this.root.push(t)}}class _O extends Ze{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new dr({val:e}))}}class bO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{verticalAlign:"w:val"})}}class SO extends Ze{constructor(e){super("w:vAlign"),this.root.push(new bO({verticalAlign:e}))}}const bf={DEFAULT:"default",FIRST:"first",EVEN:"even"};class xO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const r2={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class R1 extends Ze{constructor(e,t){super(e),this.root.push(new xO({type:t.type||bf.DEFAULT,id:`rId${t.id}`}))}}class EO extends Ze{constructor({space:e,count:t,separate:r,equalWidth:i,children:o}){super("w:cols"),this.root.push(new cd({space:{key:"w:space",value:e===void 0?void 0:co(e)},count:{key:"w:num",value:t===void 0?void 0:Xi(t)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&o&&o.forEach(a=>this.addChildElement(a))}}class AO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class NO extends Ze{constructor(e,t,r){super("w:docGrid"),this.root.push(new AO({type:r,linePitch:Xi(e),charSpace:t?Xi(t):void 0}))}}const IO=({countBy:n,start:e,restart:t,distance:r})=>new au({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:n===void 0?void 0:Xi(n)},start:{key:"w:start",value:e===void 0?void 0:Xi(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:r===void 0?void 0:co(r)}}});class i2 extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class CO extends xm{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new i2({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new i2({})),e.pageBorderTop&&this.root.push(new Zn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Zn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Zn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Zn("w:right",e.pageBorderRight))}}class kO extends Ze{constructor(e,t,r,i,o,a,u){super("w:pgMar"),this.root.push(new cd({top:{key:"w:top",value:rc(e)},right:{key:"w:right",value:co(t)},bottom:{key:"w:bottom",value:rc(r)},left:{key:"w:left",value:co(i)},header:{key:"w:header",value:co(o)},footer:{key:"w:footer",value:co(a)},gutter:{key:"w:gutter",value:co(u)}}))}}class TO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class PO extends Ze{constructor({start:e,formatType:t,separator:r}){super("w:pgNumType"),this.root.push(new TO({start:e===void 0?void 0:Xi(e),formatType:t,separator:r}))}}const TE={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class LO extends Ze{constructor(e,t,r){super("w:pgSz");const i=r===TE.LANDSCAPE,o=co(e),a=co(t);this.root.push(new cd({width:{key:"w:w",value:i?a:o},height:{key:"w:h",value:i?o:a},orientation:{key:"w:orient",value:r}}))}}class RO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class OO extends Ze{constructor(e){super("w:textDirection"),this.root.push(new RO({val:e}))}}class FO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class DO extends Ze{constructor(e){super("w:type"),this.root.push(new FO({val:e}))}}const Gu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},O1={WIDTH:11906,HEIGHT:16838,ORIENTATION:TE.PORTRAIT};class MO extends Ze{constructor({page:{size:{width:e=O1.WIDTH,height:t=O1.HEIGHT,orientation:r=O1.ORIENTATION}={},margin:{top:i=Gu.TOP,right:o=Gu.RIGHT,bottom:a=Gu.BOTTOM,left:u=Gu.LEFT,header:c=Gu.HEADER,footer:h=Gu.FOOTER,gutter:m=Gu.GUTTER}={},pageNumbers:g={},borders:y,textDirection:p}={},grid:{linePitch:E=360,charSpace:S,type:k}={},headerWrapperGroup:_={},footerWrapperGroup:T={},lineNumbers:j,titlePage:H,verticalAlign:X,column:we,type:ce}={}){super("w:sectPr"),this.addHeaderFooterGroup(r2.HEADER,_),this.addHeaderFooterGroup(r2.FOOTER,T),ce&&this.root.push(new DO(ce)),this.root.push(new LO(e,t,r)),this.root.push(new kO(i,o,a,u,c,h,m)),y&&this.root.push(new CO(y)),j&&this.root.push(IO(j)),this.root.push(new PO(g)),we&&this.root.push(new EO(we)),X&&this.root.push(new SO(X)),H!==void 0&&this.root.push(new rt("w:titlePg",H)),p&&this.root.push(new OO(p)),this.root.push(new NO(E,S,k))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new R1(e,{type:bf.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new R1(e,{type:bf.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new R1(e,{type:bf.EVEN,id:t.even.View.ReferenceId}))}}class jO extends Ze{constructor(){super("w:body"),Qe(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new MO(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new ur({}),r=new Ff({});return r.push(e),t.addChildElement(r),t}}class hd extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class BO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class UO extends Ze{constructor(e){super("w:background"),this.root.push(new BO({color:e.color===void 0?void 0:Lf(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:Q_(e.themeShade),themeTint:e.themeTint===void 0?void 0:Q_(e.themeTint)}))}}class zO extends Ze{constructor(e){super("w:document"),Qe(this,"body"),this.root.push(new hd({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new jO,e.background&&this.root.push(new UO(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class qO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns"})}}class Gf extends Ze{constructor(){super("Relationships"),this.root.push(new qO({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,r,i){const o=new fO(`rId${e}`,t,r,i);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}}class PE{constructor(e){Qe(this,"document"),Qe(this,"relationships"),this.document=new zO(e),this.relationships=new Gf}get View(){return this.document}get Relationships(){return this.relationships}}class WO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class HO extends Ze{constructor(){super("w:wordWrap"),this.root.push(new WO({val:0}))}}const VO=n=>{var e,t;return new au({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:n.anchorLock},dropCap:{key:"w:dropCap",value:n.dropCap},width:{key:"w:w",value:n.width},height:{key:"w:h",value:n.height},x:{key:"w:x",value:n.position?n.position.x:void 0},y:{key:"w:y",value:n.position?n.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:n.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:n.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=n.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=n.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:n.rule},alignmentX:{key:"w:xAlign",value:n.alignment?n.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:n.alignment?n.alignment.y:void 0},lines:{key:"w:lines",value:n.lines},wrap:{key:"w:wrap",value:n.wrap}}})};class Ff extends xm{constructor(e){var t,r;if(super("w:pPr"),Qe(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new op(e.heading)),e.bullet&&this.push(new op("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new op("ListParagraph"))),e.style&&this.push(new op(e.style)),e.keepNext!==void 0&&this.push(new rt("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new rt("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new eO),e.frame&&this.push(VO(e.frame)),e.widowControl!==void 0&&this.push(new rt("w:widowControl",e.widowControl)),e.bullet&&this.push(new n2(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new n2(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))),e.border&&this.push(new _R(e.border)),e.thematicBreak&&this.push(new bR),e.shading&&this.push(new IE(e.shading)),e.wordWrap&&this.push(new HO),e.overflowPunctuation&&this.push(new rt("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:t2.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:t2.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new rO(i)),e.bidirectional!==void 0&&this.push(new rt("w:bidi",e.bidirectional)),e.spacing&&this.push(new nO(e.spacing)),e.indent&&this.push(new SR(e.indent)),e.contextualSpacing!==void 0&&this.push(new rt("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new yR(e.alignment)),e.outlineLevel!==void 0&&this.push(new _O(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new rt("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new rt("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new _c(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof PE)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class ur extends lO{constructor(e){if(super("w:p"),Qe(this,"properties"),typeof e=="string")return this.properties=new Ff({}),this.root.push(this.properties),this.root.push(new e2(e)),this;if(this.properties=new Ff(e),this.root.push(this.properties),e.text&&this.root.push(new e2(e.text)),e.children)for(const t of e.children){if(t instanceof vO){this.root.push(t.start);for(const r of t.children)this.root.push(r);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof pO){const r=this.root.indexOf(t),i=new dO(t.options.children,KR());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,cO.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const ef={style:ly.NONE,size:0,color:"auto"},tf={style:ly.SINGLE,size:4,color:"auto"};class $O extends Ze{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Zn("w:top",e.top)):this.root.push(new Zn("w:top",tf)),e.left?this.root.push(new Zn("w:left",e.left)):this.root.push(new Zn("w:left",tf)),e.bottom?this.root.push(new Zn("w:bottom",e.bottom)):this.root.push(new Zn("w:bottom",tf)),e.right?this.root.push(new Zn("w:right",e.right)):this.root.push(new Zn("w:right",tf)),e.insideHorizontal?this.root.push(new Zn("w:insideH",e.insideHorizontal)):this.root.push(new Zn("w:insideH",tf)),e.insideVertical?this.root.push(new Zn("w:insideV",e.insideVertical)):this.root.push(new Zn("w:insideV",tf))}}Qe($O,"NONE",{top:ef,bottom:ef,left:ef,right:ef,insideHorizontal:ef,insideVertical:ef});class GO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class KO extends Ze{constructor(){super("Properties"),this.root.push(new GO({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class YO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns"})}}class XO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class $l extends Ze{constructor(e,t){super("Default"),this.root.push(new XO({contentType:e,extension:t}))}}class JO extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ls extends Ze{constructor(e,t){super("Override"),this.root.push(new JO({contentType:e,partName:t}))}}class QO extends Ze{constructor(){super("Types"),this.root.push(new YO({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new $l("image/png","png")),this.root.push(new $l("image/jpeg","jpeg")),this.root.push(new $l("image/jpeg","jpg")),this.root.push(new $l("image/bmp","bmp")),this.root.push(new $l("image/gif","gif")),this.root.push(new $l("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new $l("application/xml","xml")),this.root.push(new $l("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ls("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Ls("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class ZO extends Ze{constructor(e){super("cp:coreProperties"),this.root.push(new hd({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new $u("dc:title",e.title)),e.subject&&this.root.push(new $u("dc:subject",e.subject)),e.creator&&this.root.push(new $u("dc:creator",e.creator)),e.keywords&&this.root.push(new $u("cp:keywords",e.keywords)),e.description&&this.root.push(new $u("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new $u("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new $u("cp:revision",String(e.revision))),this.root.push(new s2("dcterms:created")),this.root.push(new s2("dcterms:modified"))}}class s2 extends Ze{constructor(e){super(e),this.root.push(new hd({type:"dcterms:W3CDTF"})),this.root.push(gR(new Date))}}class eF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class tF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class nF extends Ze{constructor(e,t){super("property"),this.root.push(new tF({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new rF(t.value))}}class rF extends Ze{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class iF extends Ze{constructor(e){super("Properties"),Qe(this,"nextId"),Qe(this,"properties",[]),this.root.push(new eF({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new nF(this.nextId++,e))}}class sF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let oF=class extends xE{constructor(e,t){super("w:ftr",t),Qe(this,"refId"),this.refId=e,t||this.root.push(new sF({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class aF{constructor(e,t,r){Qe(this,"footer"),Qe(this,"relationships"),this.media=e,this.footer=new oF(t,r),this.relationships=new Gf}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class lF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class uF extends Ze{constructor(){super("w:footnoteRef")}}class cF extends Cm{constructor(){super({style:"FootnoteReference"}),this.root.push(new uF)}}const o2={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class F1 extends Ze{constructor(e){super("w:footnote"),this.root.push(new lF({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const r=e.children[t];t===0&&r.addRunToFront(new cF),this.root.push(r)}}}class fF extends Ze{constructor(){super("w:continuationSeparator")}}class hF extends Cm{constructor(){super({}),this.root.push(new fF)}}class dF extends Ze{constructor(){super("w:separator")}}class pF extends Cm{constructor(){super({}),this.root.push(new dF)}}class mF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class gF extends Ze{constructor(){super("w:footnotes"),this.root.push(new mF({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new F1({id:-1,type:o2.SEPERATOR,children:[new ur({spacing:{after:0,line:240,lineRule:S0.AUTO},children:[new pF]})]});this.root.push(e);const t=new F1({id:0,type:o2.CONTINUATION_SEPERATOR,children:[new ur({spacing:{after:0,line:240,lineRule:S0.AUTO},children:[new hF]})]});this.root.push(t)}createFootNote(e,t){const r=new F1({id:e,children:t});this.root.push(r)}}class vF{constructor(){Qe(this,"footnotess"),Qe(this,"relationships"),this.footnotess=new gF,this.relationships=new Gf}get View(){return this.footnotess}get Relationships(){return this.relationships}}class yF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let wF=class extends xE{constructor(e,t){super("w:hdr",t),Qe(this,"refId"),this.refId=e,t||this.root.push(new yF({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class _F{constructor(e,t,r){Qe(this,"header"),Qe(this,"relationships"),this.media=e,this.header=new wF(t,r),this.relationships=new Gf}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class bF{constructor(){Qe(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const ja={BULLET:"bullet"};class SF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class xF extends Ze{constructor(e){super("w:numFmt"),this.root.push(new dr({val:e}))}}class EF extends Ze{constructor(e){super("w:lvlText"),this.root.push(new dr({val:e}))}}class AF extends Ze{constructor(e){super("w:lvlJc"),this.root.push(new dr({val:e}))}}class NF extends Ze{constructor(e){super("w:suff"),this.root.push(new dr({val:e}))}}class IF extends Ze{constructor(){super("w:isLgl")}}class CF extends Ze{constructor({level:e,format:t,text:r,alignment:i=Ho.START,start:o=1,style:a,suffix:u,isLegalNumberingStyle:c}){if(super("w:lvl"),Qe(this,"paragraphProperties"),Qe(this,"runProperties"),this.root.push(new ay("w:start",Xi(o))),t&&this.root.push(new xF(t)),u&&this.root.push(new NF(u)),c&&this.root.push(new IF),r&&this.root.push(new EF(r)),this.root.push(new AF(i)),this.paragraphProperties=new Ff(a&&a.paragraph),this.runProperties=new _c(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new SF({ilvl:Xi(e),tentative:1}))}}class kF extends CF{}class TF extends Ze{constructor(e){super("w:multiLevelType"),this.root.push(new dr({val:e}))}}class PF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class a2 extends Ze{constructor(e,t){super("w:abstractNum"),Qe(this,"id"),this.root.push(new PF({abstractNumId:Xi(e),restartNumberingAfterBreak:0})),this.root.push(new TF("hybridMultilevel")),this.id=e;for(const r of t)this.root.push(new kF(r))}}class LF extends Ze{constructor(e){super("w:abstractNumId"),this.root.push(new dr({val:e}))}}class RF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{numId:"w:numId"})}}class l2 extends Ze{constructor(e){if(super("w:num"),Qe(this,"numId"),Qe(this,"reference"),Qe(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new RF({numId:Xi(e.numId)})),this.root.push(new LF(Xi(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new FF(t.num,t.start))}}class OF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{ilvl:"w:ilvl"})}}class FF extends Ze{constructor(e,t){super("w:lvlOverride"),this.root.push(new OF({ilvl:e})),t!==void 0&&this.root.push(new MF(t))}}class DF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class MF extends Ze{constructor(e){super("w:startOverride"),this.root.push(new DF({val:e}))}}class jF extends Ze{constructor(e){super("w:numbering"),Qe(this,"abstractNumberingMap",new Map),Qe(this,"concreteNumberingMap",new Map),Qe(this,"referenceConfigMap",new Map),Qe(this,"abstractNumUniqueNumericId",VR()),Qe(this,"concreteNumUniqueNumericId",$R()),this.root.push(new hd({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new a2(this.abstractNumUniqueNumericId(),[{level:0,format:ja.BULLET,text:"●",alignment:Ho.LEFT,style:{paragraph:{indent:{left:so(.5),hanging:so(.25)}}}},{level:1,format:ja.BULLET,text:"○",alignment:Ho.LEFT,style:{paragraph:{indent:{left:so(1),hanging:so(.25)}}}},{level:2,format:ja.BULLET,text:"■",alignment:Ho.LEFT,style:{paragraph:{indent:{left:2160,hanging:so(.25)}}}},{level:3,format:ja.BULLET,text:"●",alignment:Ho.LEFT,style:{paragraph:{indent:{left:2880,hanging:so(.25)}}}},{level:4,format:ja.BULLET,text:"○",alignment:Ho.LEFT,style:{paragraph:{indent:{left:3600,hanging:so(.25)}}}},{level:5,format:ja.BULLET,text:"■",alignment:Ho.LEFT,style:{paragraph:{indent:{left:4320,hanging:so(.25)}}}},{level:6,format:ja.BULLET,text:"●",alignment:Ho.LEFT,style:{paragraph:{indent:{left:5040,hanging:so(.25)}}}},{level:7,format:ja.BULLET,text:"●",alignment:Ho.LEFT,style:{paragraph:{indent:{left:5760,hanging:so(.25)}}}},{level:8,format:ja.BULLET,text:"●",alignment:Ho.LEFT,style:{paragraph:{indent:{left:6480,hanging:so(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new l2({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new a2(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const o=this.referenceConfigMap.get(e),a=o&&o[0].start,u={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:t,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new l2(u))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class BF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class UF extends Ze{constructor(e){super("w:compatSetting"),this.root.push(new BF({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class zF extends Ze{constructor(e){super("w:compat"),e.version&&this.root.push(new UF(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new rt("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new rt("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new rt("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new rt("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new rt("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new rt("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new rt("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new rt("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new rt("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new rt("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new rt("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new rt("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new rt("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new rt("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new rt("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new rt("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new rt("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new rt("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new rt("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new rt("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new rt("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new rt("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new rt("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new rt("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new rt("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new rt("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new rt("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new rt("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new rt("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new rt("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new rt("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new rt("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new rt("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new rt("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new rt("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new rt("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new rt("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new rt("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new rt("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new rt("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new rt("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new rt("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new rt("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new rt("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new rt("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new rt("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new rt("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new rt("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new rt("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new rt("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new rt("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new rt("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new rt("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new rt("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new rt("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new rt("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new rt("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new rt("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new rt("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new rt("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new rt("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new rt("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new rt("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new rt("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new rt("w:cachedColBalance",e.cachedColumnBalance))}}class qF extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class WF extends Ze{constructor(e){var t,r,i,o;super("w:settings"),this.root.push(new qF({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new rt("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new rt("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new rt("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new rt("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new ay("w:defaultTabStop",e.defaultTabStop)),this.root.push(new zF(Xh(fn({},(t=e.compatibility)!=null?t:{}),{version:(o=(i=(r=e.compatibility)==null?void 0:r.version)!=null?i:e.compatibilityModeVersion)!=null?o:15})))}}class LE extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{val:"w:val"})}}class HF extends Ze{constructor(e){super("w:name"),this.root.push(new LE({val:e}))}}class VF extends Ze{constructor(e){super("w:uiPriority"),this.root.push(new LE({val:Xi(e)}))}}class $F extends Dt{constructor(){super(...arguments),Qe(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class RE extends Ze{constructor(e,t){super("w:style"),this.root.push(new $F(e)),t.name&&this.root.push(new HF(t.name)),t.basedOn&&this.root.push(new _f("w:basedOn",t.basedOn)),t.next&&this.root.push(new _f("w:next",t.next)),t.link&&this.root.push(new _f("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new VF(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new rt("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new rt("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new rt("w:qFormat",t.quickFormat))}}class km extends RE{constructor(e){super({type:"paragraph",styleId:e.id},e),Qe(this,"paragraphProperties"),Qe(this,"runProperties"),this.paragraphProperties=new Ff(e.paragraph),this.runProperties=new _c(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Tm extends RE{constructor(e){super({type:"character",styleId:e.id},fn({uiPriority:99,unhideWhenUsed:!0},e)),Qe(this,"runProperties"),this.runProperties=new _c(e.run),this.root.push(this.runProperties)}}class pu extends km{constructor(e){super(fn({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class GF extends pu{constructor(e){super(fn({id:"Title",name:"Title"},e))}}class KF extends pu{constructor(e){super(fn({id:"Heading1",name:"Heading 1"},e))}}class YF extends pu{constructor(e){super(fn({id:"Heading2",name:"Heading 2"},e))}}class XF extends pu{constructor(e){super(fn({id:"Heading3",name:"Heading 3"},e))}}class JF extends pu{constructor(e){super(fn({id:"Heading4",name:"Heading 4"},e))}}class QF extends pu{constructor(e){super(fn({id:"Heading5",name:"Heading 5"},e))}}class ZF extends pu{constructor(e){super(fn({id:"Heading6",name:"Heading 6"},e))}}class e7 extends pu{constructor(e){super(fn({id:"Strong",name:"Strong"},e))}}class t7 extends km{constructor(e){super(fn({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class n7 extends km{constructor(e){super(fn({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:S0.AUTO}},run:{size:20}},e))}}class r7 extends Tm{constructor(e){super(fn({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class i7 extends Tm{constructor(e){super(fn({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class s7 extends Tm{constructor(e){super(fn({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:kE.SINGLE}}},e))}}class x0 extends Ze{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new km(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new Tm(t))}}class o7 extends Ze{constructor(e){super("w:pPrDefault"),this.root.push(new Ff(e))}}class a7 extends Ze{constructor(e){super("w:rPrDefault"),this.root.push(new _c(e))}}class l7 extends Ze{constructor(e){super("w:docDefaults"),Qe(this,"runPropertiesDefaults"),Qe(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new a7(e.run),this.paragraphPropertiesDefaults=new o7(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class u7{newInstance(e){const t=SE.xml2js(e,{compact:!1});let r;for(const a of t.elements||[])a.name==="w:styles"&&(r=a);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new x0({initialStyles:new hR(r.attributes),importedStyles:i.map(a=>oy(a))})}}class u2{newInstance(e={}){var t;return{initialStyles:new hd({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new l7((t=e.document)!=null?t:{}),new GF(fn({run:{size:56}},e.title)),new KF(fn({run:{color:"2E74B5",size:32}},e.heading1)),new YF(fn({run:{color:"2E74B5",size:26}},e.heading2)),new XF(fn({run:{color:"1F4D78",size:24}},e.heading3)),new JF(fn({run:{color:"2E74B5",italics:!0}},e.heading4)),new QF(fn({run:{color:"2E74B5"}},e.heading5)),new ZF(fn({run:{color:"1F4D78"}},e.heading6)),new e7(fn({run:{bold:!0}},e.strong)),new t7(e.listParagraph||{}),new s7(e.hyperlink||{}),new r7(e.footnoteReference||{}),new n7(e.footnoteText||{}),new i7(e.footnoteTextChar||{})]}}}const ap=({id:n,fontKey:e,subsetted:t},r)=>new au({name:r,attributes:fn({id:{key:"r:id",value:n}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new rt("w:subsetted",t)]:[]]}),c7=({name:n,altName:e,panose1:t,charset:r,family:i,notTrueType:o,pitch:a,sig:u,embedRegular:c,embedBold:h,embedItalic:m,embedBoldItalic:g})=>new au({name:"w:font",attributes:{name:{key:"w:name",value:n}},children:[...e?[xh("w:altName",e)]:[],...t?[xh("w:panose1",t)]:[],...r?[xh("w:charset",r)]:[],xh("w:family",i),...o?[new rt("w:notTrueType",o)]:[],xh("w:pitch",a),...u?[new au({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:u.usb0},usb1:{key:"w:usb1",value:u.usb1},usb2:{key:"w:usb2",value:u.usb2},usb3:{key:"w:usb3",value:u.usb3},csb0:{key:"w:csb0",value:u.csb0},csb1:{key:"w:csb1",value:u.csb1}}})]:[],...c?[ap(c,"w:embedRegular")]:[],...h?[ap(h,"w:embedBold")]:[],...m?[ap(m,"w:embedItalic")]:[],...g?[ap(g,"w:embedBoldItalic")]:[]]}),f7=({name:n,index:e,fontKey:t,characterSet:r})=>c7({name:n,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),h7=n=>new au({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:n.map((e,t)=>f7({name:e.name,index:t+1,fontKey:e.fontKey}))});class d7{constructor(e){Qe(this,"fontTable"),Qe(this,"relationships"),Qe(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Xh(fn({},t),{fontKey:YR()})),this.fontTable=h7(this.fontOptionsWithKey),this.relationships=new Gf;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class p7{constructor(e){Qe(this,"currentRelationshipId",1),Qe(this,"documentWrapper"),Qe(this,"headers",[]),Qe(this,"footers",[]),Qe(this,"coreProperties"),Qe(this,"numbering"),Qe(this,"media"),Qe(this,"fileRelationships"),Qe(this,"footnotesWrapper"),Qe(this,"settings"),Qe(this,"contentTypes"),Qe(this,"customProperties"),Qe(this,"appProperties"),Qe(this,"styles"),Qe(this,"comments"),Qe(this,"fontWrapper");var t,r,i,o,a,u,c,h;if(this.coreProperties=new ZO(Xh(fn({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new jF(e.numbering?e.numbering:{config:[]}),this.comments=new ZR((o=e.comments)!=null?o:{children:[]}),this.fileRelationships=new Gf,this.customProperties=new iF((a=e.customProperties)!=null?a:[]),this.appProperties=new KO,this.footnotesWrapper=new vF,this.contentTypes=new QO,this.documentWrapper=new PE({background:e.background}),this.settings=new WF({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(u=e.features)==null?void 0:u.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new bF,e.externalStyles){const m=new u7;this.styles=m.newInstance(e.externalStyles)}else if(e.styles){const g=new u2().newInstance(e.styles.default);this.styles=new x0(fn(fn({},g),e.styles))}else{const m=new u2;this.styles=new x0(m.newInstance())}this.addDefaultRelationships();for(const m of e.sections)this.addSection(m);if(e.footnotes)for(const m in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(m),e.footnotes[m].children);this.fontWrapper=new d7((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:t={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(Xh(fn({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const o of r)this.documentWrapper.View.add(o)}createHeader(e){const t=new _F(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addHeaderToDocument(t),t}createFooter(e){const t=new aF(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=bf.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=bf.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}function lp(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var OE={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function a(h,m){if(!i[h]){if(!r[h]){var g=typeof lp=="function"&&lp;if(!m&&g)return g(h,!0);if(u)return u(h,!0);var y=new Error("Cannot find module '"+h+"'");throw y.code="MODULE_NOT_FOUND",y}var p=i[h]={exports:{}};r[h][0].call(p.exports,function(E){var S=r[h][1][E];return a(S||E)},p,p.exports,t,r,i,o)}return i[h].exports}for(var u=typeof lp=="function"&&lp,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(t,r,i){var o=t("./utils"),a=t("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var h,m,g,y,p,E,S,k=[],_=0,T=c.length,j=T,H=o.getTypeOf(c)!=="string";_<c.length;)j=T-_,g=H?(h=c[_++],m=_<T?c[_++]:0,_<T?c[_++]:0):(h=c.charCodeAt(_++),m=_<T?c.charCodeAt(_++):0,_<T?c.charCodeAt(_++):0),y=h>>2,p=(3&h)<<4|m>>4,E=1<j?(15&m)<<2|g>>6:64,S=2<j?63&g:64,k.push(u.charAt(y)+u.charAt(p)+u.charAt(E)+u.charAt(S));return k.join("")},i.decode=function(c){var h,m,g,y,p,E,S=0,k=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var T,j=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===u.charAt(64)&&j--,c.charAt(c.length-2)===u.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=a.uint8array?new Uint8Array(0|j):new Array(0|j);S<c.length;)h=u.indexOf(c.charAt(S++))<<2|(y=u.indexOf(c.charAt(S++)))>>4,m=(15&y)<<4|(p=u.indexOf(c.charAt(S++)))>>2,g=(3&p)<<6|(E=u.indexOf(c.charAt(S++))),T[k++]=h,p!==64&&(T[k++]=m),E!==64&&(T[k++]=g);return T}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),a=t("./stream/DataWorker"),u=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function h(m,g,y,p,E){this.compressedSize=m,this.uncompressedSize=g,this.crc32=y,this.compression=p,this.compressedContent=E}h.prototype={getContentWorker:function(){var m=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return m.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,g,y){return m.pipe(new u).pipe(new c("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),a=function(){for(var u,c=[],h=0;h<256;h++){u=h;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;c[h]=u}return c}();r.exports=function(u,c){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?function(h,m,g,y){var p=a,E=y+g;h^=-1;for(var S=y;S<E;S++)h=h>>>8^p[255&(h^m[S])];return-1^h}(0|c,u,u.length,0):function(h,m,g,y){var p=a,E=y+g;h^=-1;for(var S=y;S<E;S++)h=h>>>8^p[255&(h^m.charCodeAt(S))];return-1^h}(0|c,u,u.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),u=t("./utils"),c=t("./stream/GenericWorker"),h=o?"uint8array":"array";function m(g,y){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}i.magic="\b\0",u.inherits(m,c),m.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(h,g.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},i.compressWorker=function(g){return new m("Deflate",g)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(p,E){var S,k="";for(S=0;S<E;S++)k+=String.fromCharCode(255&p),p>>>=8;return k}function a(p,E,S,k,_,T){var j,H,X=p.file,we=p.compression,ce=T!==h.utf8encode,oe=u.transformTo("string",T(X.name)),z=u.transformTo("string",h.utf8encode(X.name)),Ee=X.comment,Q=u.transformTo("string",T(Ee)),B=u.transformTo("string",h.utf8encode(Ee)),ee=z.length!==X.name.length,F=B.length!==Ee.length,me="",Ne="",pe="",ye=X.dir,de=X.date,xe={crc32:0,compressedSize:0,uncompressedSize:0};E&&!S||(xe.crc32=p.crc32,xe.compressedSize=p.compressedSize,xe.uncompressedSize=p.uncompressedSize);var G=0;E&&(G|=8),ce||!ee&&!F||(G|=2048);var N=0,q=0;ye&&(N|=16),_==="UNIX"?(q=798,N|=function(ne,K){var R=ne;return ne||(R=K?16893:33204),(65535&R)<<16}(X.unixPermissions,ye)):(q=20,N|=function(ne){return 63&(ne||0)}(X.dosPermissions)),j=de.getUTCHours(),j<<=6,j|=de.getUTCMinutes(),j<<=5,j|=de.getUTCSeconds()/2,H=de.getUTCFullYear()-1980,H<<=4,H|=de.getUTCMonth()+1,H<<=5,H|=de.getUTCDate(),ee&&(Ne=o(1,1)+o(m(oe),4)+z,me+="up"+o(Ne.length,2)+Ne),F&&(pe=o(1,1)+o(m(Q),4)+B,me+="uc"+o(pe.length,2)+pe);var W="";return W+=`
\0`,W+=o(G,2),W+=we.magic,W+=o(j,2),W+=o(H,2),W+=o(xe.crc32,4),W+=o(xe.compressedSize,4),W+=o(xe.uncompressedSize,4),W+=o(oe.length,2),W+=o(me.length,2),{fileRecord:g.LOCAL_FILE_HEADER+W+oe+me,dirRecord:g.CENTRAL_FILE_HEADER+o(q,2)+W+o(Q.length,2)+"\0\0\0\0"+o(N,4)+o(k,4)+oe+me+Q}}var u=t("../utils"),c=t("../stream/GenericWorker"),h=t("../utf8"),m=t("../crc32"),g=t("../signature");function y(p,E,S,k){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=S,this.encodeFileName=k,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(y,c),y.prototype.push=function(p){var E=p.meta.percent||0,S=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:S?(E+100*(S-k-1))/S:100}}))},y.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var E=this.streamFiles&&!p.file.dir;if(E){var S=a(p,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(p){this.accumulate=!1;var E=this.streamFiles&&!p.file.dir,S=a(p,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),E)this.push({data:function(k){return g.DATA_DESCRIPTOR+o(k.crc32,4)+o(k.compressedSize,4)+o(k.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var p=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var S=this.bytesWritten-p,k=function(_,T,j,H,X){var we=u.transformTo("string",X(H));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(_,2)+o(_,2)+o(T,4)+o(j,4)+o(we.length,2)+we}(this.dirRecords.length,S,p,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(p){this._sources.push(p);var E=this;return p.on("data",function(S){E.processChunk(S)}),p.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),p.on("error",function(S){E.error(S)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(p){var E=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var S=0;S<E.length;S++)try{E[S].error(p)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,E=0;E<p.length;E++)p[E].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(u,c,h){var m=new a(c.streamFiles,h,c.platform,c.encodeFileName),g=0;try{u.forEach(function(y,p){g++;var E=function(T,j){var H=T||j,X=o[H];if(!X)throw new Error(H+" is not a valid compression method !");return X}(p.options.compression,c.compression),S=p.options.compressionOptions||c.compressionOptions||{},k=p.dir,_=p.date;p._compressWorker(E,S).withStreamInfo("file",{name:y,dir:k,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(m)}),m.entriesCount=g}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var u in this)typeof this[u]!="function"&&(a[u]=this[u]);return a}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(a,u){return new o().loadAsync(a,u)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),a=t("./external"),u=t("./utf8"),c=t("./zipEntries"),h=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function g(y){return new a.Promise(function(p,E){var S=y.decompressed.getContentWorker().pipe(new h);S.on("error",function(k){E(k)}).on("end",function(){S.streamInfo.crc32!==y.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(y,p){var E=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,p.optimizedBinaryString,p.base64).then(function(S){var k=new c(p);return k.load(S),k}).then(function(S){var k=[a.Promise.resolve(S)],_=S.files;if(p.checkCRC32)for(var T=0;T<_.length;T++)k.push(g(_[T]));return a.Promise.all(k)}).then(function(S){for(var k=S.shift(),_=k.files,T=0;T<_.length;T++){var j=_[T],H=j.fileNameStr,X=o.resolve(j.fileNameStr);E.file(X,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:p.createFolders}),j.dir||(E.file(X).unsafeOriginalName=H)}return k.zipComment.length&&(E.comment=k.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),a=t("../stream/GenericWorker");function u(c,h){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(u,a),u.prototype._bindStream=function(c){var h=this;(this._stream=c).pause(),c.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},u.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function a(u,c,h){o.call(this,c),this._helper=u;var m=this;u.on("data",function(g,y){m.push(g)||m._helper.pause(),h&&h(y)}).on("error",function(g){m.emit("error",g)}).on("end",function(){m.push(null)})}t("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(X,we,ce){var oe,z=u.getTypeOf(we),Ee=u.extend(ce||{},m);Ee.date=Ee.date||new Date,Ee.compression!==null&&(Ee.compression=Ee.compression.toUpperCase()),typeof Ee.unixPermissions=="string"&&(Ee.unixPermissions=parseInt(Ee.unixPermissions,8)),Ee.unixPermissions&&16384&Ee.unixPermissions&&(Ee.dir=!0),Ee.dosPermissions&&16&Ee.dosPermissions&&(Ee.dir=!0),Ee.dir&&(X=_(X)),Ee.createFolders&&(oe=k(X))&&T.call(this,oe,!0);var Q=z==="string"&&Ee.binary===!1&&Ee.base64===!1;ce&&ce.binary!==void 0||(Ee.binary=!Q),(we instanceof g&&we.uncompressedSize===0||Ee.dir||!we||we.length===0)&&(Ee.base64=!1,Ee.binary=!0,we="",Ee.compression="STORE",z="string");var B=null;B=we instanceof g||we instanceof c?we:E.isNode&&E.isStream(we)?new S(X,we):u.prepareContent(X,we,Ee.binary,Ee.optimizedBinaryString,Ee.base64);var ee=new y(X,B,Ee);this.files[X]=ee}var a=t("./utf8"),u=t("./utils"),c=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),m=t("./defaults"),g=t("./compressedObject"),y=t("./zipObject"),p=t("./generate"),E=t("./nodejsUtils"),S=t("./nodejs/NodejsStreamInputAdapter"),k=function(X){X.slice(-1)==="/"&&(X=X.substring(0,X.length-1));var we=X.lastIndexOf("/");return 0<we?X.substring(0,we):""},_=function(X){return X.slice(-1)!=="/"&&(X+="/"),X},T=function(X,we){return we=we!==void 0?we:m.createFolders,X=_(X),this.files[X]||o.call(this,X,null,{dir:!0,createFolders:we}),this.files[X]};function j(X){return Object.prototype.toString.call(X)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(X){var we,ce,oe;for(we in this.files)oe=this.files[we],(ce=we.slice(this.root.length,we.length))&&we.slice(0,this.root.length)===this.root&&X(ce,oe)},filter:function(X){var we=[];return this.forEach(function(ce,oe){X(ce,oe)&&we.push(oe)}),we},file:function(X,we,ce){if(arguments.length!==1)return X=this.root+X,o.call(this,X,we,ce),this;if(j(X)){var oe=X;return this.filter(function(Ee,Q){return!Q.dir&&oe.test(Ee)})}var z=this.files[this.root+X];return z&&!z.dir?z:null},folder:function(X){if(!X)return this;if(j(X))return this.filter(function(z,Ee){return Ee.dir&&X.test(z)});var we=this.root+X,ce=T.call(this,we),oe=this.clone();return oe.root=ce.name,oe},remove:function(X){X=this.root+X;var we=this.files[X];if(we||(X.slice(-1)!=="/"&&(X+="/"),we=this.files[X]),we&&!we.dir)delete this.files[X];else for(var ce=this.filter(function(z,Ee){return Ee.name.slice(0,X.length)===X}),oe=0;oe<ce.length;oe++)delete this.files[ce[oe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(X){var we,ce={};try{if((ce=u.extend(X||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=ce.type.toLowerCase(),ce.compression=ce.compression.toUpperCase(),ce.type==="binarystring"&&(ce.type="string"),!ce.type)throw new Error("No output type specified.");u.checkSupport(ce.type),ce.platform!=="darwin"&&ce.platform!=="freebsd"&&ce.platform!=="linux"&&ce.platform!=="sunos"||(ce.platform="UNIX"),ce.platform==="win32"&&(ce.platform="DOS");var oe=ce.comment||this.comment||"";we=p.generateWorker(this,ce,oe)}catch(z){(we=new c("error")).error(z)}return new h(we,ce.type||"string",ce.mimeType)},generateAsync:function(X,we){return this.generateInternalStream(X).accumulate(we)},generateNodeStream:function(X,we){return(X=X||{}).type||(X.type="nodebuffer"),this.generateInternalStream(X).toNodejsStream(we)}};r.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function a(u){o.call(this,u);for(var c=0;c<this.data.length;c++)u[c]=255&u[c]}t("../utils").inherits(a,o),a.prototype.byteAt=function(u){return this.data[this.zero+u]},a.prototype.lastIndexOfSignature=function(u){for(var c=u.charCodeAt(0),h=u.charCodeAt(1),m=u.charCodeAt(2),g=u.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===h&&this.data[y+2]===m&&this.data[y+3]===g)return y-this.zero;return-1},a.prototype.readAndCheckSignature=function(u){var c=u.charCodeAt(0),h=u.charCodeAt(1),m=u.charCodeAt(2),g=u.charCodeAt(3),y=this.readData(4);return c===y[0]&&h===y[1]&&m===y[2]&&g===y[3]},a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function a(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c,h=0;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)h=(h<<8)+this.byteAt(c);return this.index+=u,h},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function a(u){o.call(this,u)}t("../utils").inherits(a,o),a.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function a(u){o.call(this,u)}t("../utils").inherits(a,o),a.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},a.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},a.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},a.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function a(u){o.call(this,u)}t("../utils").inherits(a,o),a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),a=t("../support"),u=t("./ArrayReader"),c=t("./StringReader"),h=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");r.exports=function(g){var y=o.getTypeOf(g);return o.checkSupport(y),y!=="string"||a.uint8array?y==="nodebuffer"?new h(g):a.uint8array?new m(o.transformTo("uint8array",g)):new u(o.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),a=t("../utils");function u(c){o.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(u,o),u.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),a=t("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(u,o),u.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function u(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(u,a),u.prototype.processChunk=function(c){if(c){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),a=t("./GenericWorker");function u(c){a.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){h.dataIsReady=!0,h.data=m,h.max=m&&m.length||0,h.type=o.getTypeOf(m),h.isPaused||h._tickAndRepeat()},function(m){h.error(m)})}o.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,h);break;case"uint8array":c=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":c=this.data.slice(this.index,h)}return this.index=h,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,u){return this._listeners[a].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,u){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,u)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var u=this;return a.on("data",function(c){u.processChunk(c)}),a.on("end",function(){u.end()}),a.on("error",function(c){u.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,u){return this.extraStreamInfo[a]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),a=t("./ConvertWorker"),u=t("./GenericWorker"),c=t("../base64"),h=t("../support"),m=t("../external"),g=null;if(h.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(E,S){return new m.Promise(function(k,_){var T=[],j=E._internalType,H=E._outputType,X=E._mimeType;E.on("data",function(we,ce){T.push(we),S&&S(ce)}).on("error",function(we){T=[],_(we)}).on("end",function(){try{var we=function(ce,oe,z){switch(ce){case"blob":return o.newBlob(o.transformTo("arraybuffer",oe),z);case"base64":return c.encode(oe);default:return o.transformTo(ce,oe)}}(H,function(ce,oe){var z,Ee=0,Q=null,B=0;for(z=0;z<oe.length;z++)B+=oe[z].length;switch(ce){case"string":return oe.join("");case"array":return Array.prototype.concat.apply([],oe);case"uint8array":for(Q=new Uint8Array(B),z=0;z<oe.length;z++)Q.set(oe[z],Ee),Ee+=oe[z].length;return Q;case"nodebuffer":return Buffer.concat(oe);default:throw new Error("concat : unsupported type '"+ce+"'")}}(j,T),X);k(we)}catch(ce){_(ce)}T=[]}).resume()})}function p(E,S,k){var _=S;switch(S){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=S,this._mimeType=k,o.checkSupport(_),this._worker=E.pipe(new a(_)),E.lock()}catch(T){this._worker=new u("error"),this._worker.error(T)}}p.prototype={accumulate:function(E){return y(this,E)},on:function(E,S){var k=this;return E==="data"?this._worker.on(E,function(_){S.call(k,_.data,_.meta)}):this._worker.on(E,function(){o.delay(S,arguments,k)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},E)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),a=t("./support"),u=t("./nodejsUtils"),c=t("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;h[254]=h[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?u.newBufferFrom(p,"utf-8"):function(E){var S,k,_,T,j,H=E.length,X=0;for(T=0;T<H;T++)(64512&(k=E.charCodeAt(T)))==55296&&T+1<H&&(64512&(_=E.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(_-56320),T++),X+=k<128?1:k<2048?2:k<65536?3:4;for(S=a.uint8array?new Uint8Array(X):new Array(X),T=j=0;j<X;T++)(64512&(k=E.charCodeAt(T)))==55296&&T+1<H&&(64512&(_=E.charCodeAt(T+1)))==56320&&(k=65536+(k-55296<<10)+(_-56320),T++),k<128?S[j++]=k:(k<2048?S[j++]=192|k>>>6:(k<65536?S[j++]=224|k>>>12:(S[j++]=240|k>>>18,S[j++]=128|k>>>12&63),S[j++]=128|k>>>6&63),S[j++]=128|63&k);return S}(p)},i.utf8decode=function(p){return a.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(E){var S,k,_,T,j=E.length,H=new Array(2*j);for(S=k=0;S<j;)if((_=E[S++])<128)H[k++]=_;else if(4<(T=h[_]))H[k++]=65533,S+=T-1;else{for(_&=T===2?31:T===3?15:7;1<T&&S<j;)_=_<<6|63&E[S++],T--;1<T?H[k++]=65533:_<65536?H[k++]=_:(_-=65536,H[k++]=55296|_>>10&1023,H[k++]=56320|1023&_)}return H.length!==k&&(H.subarray?H=H.subarray(0,k):H.length=k),o.applyFromCharCode(H)}(p=o.transformTo(a.uint8array?"uint8array":"array",p))},o.inherits(g,c),g.prototype.processChunk=function(p){var E=o.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var S=E;(E=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),E.set(S,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var k=function(T,j){var H;for((j=j||T.length)>T.length&&(j=T.length),H=j-1;0<=H&&(192&T[H])==128;)H--;return H<0||H===0?j:H+h[T[H]]>j?H:j}(E),_=E;k!==E.length&&(a.uint8array?(_=E.subarray(0,k),this.leftOver=E.subarray(k,E.length)):(_=E.slice(0,k),this.leftOver=E.slice(k,E.length))),this.push({data:i.utf8decode(_),meta:p.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,o.inherits(y,c),y.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),a=t("./base64"),u=t("./nodejsUtils"),c=t("./external");function h(S){return S}function m(S,k){for(var _=0;_<S.length;++_)k[_]=255&S.charCodeAt(_);return k}t("setimmediate"),i.newBlob=function(S,k){i.checkSupport("blob");try{return new Blob([S],{type:k})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(S),_.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(S,k,_){var T=[],j=0,H=S.length;if(H<=_)return String.fromCharCode.apply(null,S);for(;j<H;)k==="array"||k==="nodebuffer"?T.push(String.fromCharCode.apply(null,S.slice(j,Math.min(j+_,H)))):T.push(String.fromCharCode.apply(null,S.subarray(j,Math.min(j+_,H)))),j+=_;return T.join("")},stringifyByChar:function(S){for(var k="",_=0;_<S.length;_++)k+=String.fromCharCode(S[_]);return k},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function y(S){var k=65536,_=i.getTypeOf(S),T=!0;if(_==="uint8array"?T=g.applyCanBeUsed.uint8array:_==="nodebuffer"&&(T=g.applyCanBeUsed.nodebuffer),T)for(;1<k;)try{return g.stringifyByChunk(S,_,k)}catch{k=Math.floor(k/2)}return g.stringifyByChar(S)}function p(S,k){for(var _=0;_<S.length;_++)k[_]=S[_];return k}i.applyFromCharCode=y;var E={};E.string={string:h,array:function(S){return m(S,new Array(S.length))},arraybuffer:function(S){return E.string.uint8array(S).buffer},uint8array:function(S){return m(S,new Uint8Array(S.length))},nodebuffer:function(S){return m(S,u.allocBuffer(S.length))}},E.array={string:y,array:h,arraybuffer:function(S){return new Uint8Array(S).buffer},uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(S)}},E.arraybuffer={string:function(S){return y(new Uint8Array(S))},array:function(S){return p(new Uint8Array(S),new Array(S.byteLength))},arraybuffer:h,uint8array:function(S){return new Uint8Array(S)},nodebuffer:function(S){return u.newBufferFrom(new Uint8Array(S))}},E.uint8array={string:y,array:function(S){return p(S,new Array(S.length))},arraybuffer:function(S){return S.buffer},uint8array:h,nodebuffer:function(S){return u.newBufferFrom(S)}},E.nodebuffer={string:y,array:function(S){return p(S,new Array(S.length))},arraybuffer:function(S){return E.nodebuffer.uint8array(S).buffer},uint8array:function(S){return p(S,new Uint8Array(S.length))},nodebuffer:h},i.transformTo=function(S,k){if(k=k||"",!S)return k;i.checkSupport(S);var _=i.getTypeOf(k);return E[_][S](k)},i.resolve=function(S){for(var k=S.split("/"),_=[],T=0;T<k.length;T++){var j=k[T];j==="."||j===""&&T!==0&&T!==k.length-1||(j===".."?_.pop():_.push(j))}return _.join("/")},i.getTypeOf=function(S){return typeof S=="string"?"string":Object.prototype.toString.call(S)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(S)?"nodebuffer":o.uint8array&&S instanceof Uint8Array?"uint8array":o.arraybuffer&&S instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(S){if(!o[S.toLowerCase()])throw new Error(S+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(S){var k,_,T="";for(_=0;_<(S||"").length;_++)T+="\\x"+((k=S.charCodeAt(_))<16?"0":"")+k.toString(16).toUpperCase();return T},i.delay=function(S,k,_){setImmediate(function(){S.apply(_||null,k||[])})},i.inherits=function(S,k){function _(){}_.prototype=k.prototype,S.prototype=new _},i.extend=function(){var S,k,_={};for(S=0;S<arguments.length;S++)for(k in arguments[S])Object.prototype.hasOwnProperty.call(arguments[S],k)&&_[k]===void 0&&(_[k]=arguments[S][k]);return _},i.prepareContent=function(S,k,_,T,j){return c.Promise.resolve(k).then(function(H){return o.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new c.Promise(function(X,we){var ce=new FileReader;ce.onload=function(oe){X(oe.target.result)},ce.onerror=function(oe){we(oe.target.error)},ce.readAsArrayBuffer(H)}):H}).then(function(H){var X=i.getTypeOf(H);return X?(X==="arraybuffer"?H=i.transformTo("uint8array",H):X==="string"&&(j?H=a.decode(H):_&&T!==!0&&(H=function(we){return m(we,o.uint8array?new Uint8Array(we.length):new Array(we.length))}(H))),H):c.Promise.reject(new Error("Can't read the data of '"+S+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),u=t("./signature"),c=t("./zipEntry"),h=t("./support");function m(g){this.files=[],this.loadOptions=g}m.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(g)+")")}},isSignature:function(g,y){var p=this.reader.index;this.reader.setIndex(g);var E=this.reader.readString(4)===y;return this.reader.setIndex(p),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=h.uint8array?"uint8array":"array",p=a.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,y,p,E=this.zip64EndOfCentralSize-44;0<E;)g=this.reader.readInt(2),y=this.reader.readInt(4),p=this.reader.readData(y),this.zip64ExtensibleData[g]={id:g,length:y,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var y=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var E=y-p;if(0<E)this.isSignature(y,u.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(g){this.reader=o(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),a=t("./utils"),u=t("./compressedObject"),c=t("./crc32"),h=t("./utf8"),m=t("./compressions"),g=t("./support");function y(p,E){this.options=p,this.loadOptions=E}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var E,S;if(p.skip(22),this.fileNameLength=p.readInt(2),S=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=function(k){for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)&&m[_].magic===k)return m[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,E,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var E=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(E),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var E,S,k,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)E=p.readInt(2),S=p.readInt(2),k=p.readData(S),this.extraFields[E]={id:E,length:S,value:k};p.setIndex(_)},handleUTF8:function(){var p=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var S=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var _=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var E=o(p.value);return E.readInt(1)!==1||c(this.fileName)!==E.readInt(4)?null:h.utf8decode(E.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var E=o(p.value);return E.readInt(1)!==1||c(this.fileComment)!==E.readInt(4)?null:h.utf8decode(E.readData(p.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(E,S,k){this.name=E,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=S,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var a=t("./stream/StreamHelper"),u=t("./stream/DataWorker"),c=t("./utf8"),h=t("./compressedObject"),m=t("./stream/GenericWorker");o.prototype={internalStream:function(E){var S=null,k="string";try{if(!E)throw new Error("No output type specified.");var _=(k=E.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),S=this._decompressWorker();var T=!this._dataBinary;T&&!_&&(S=S.pipe(new c.Utf8EncodeWorker)),!T&&_&&(S=S.pipe(new c.Utf8DecodeWorker))}catch(j){(S=new m("error")).error(j)}return new a(S,k,"")},async:function(E,S){return this.internalStream(E).accumulate(S)},nodeStream:function(E,S){return this.internalStream(E||"nodebuffer").toNodejsStream(S)},_compressWorker:function(E,S){if(this._data instanceof h&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new c.Utf8EncodeWorker)),h.createWorkerFrom(k,E,S)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<g.length;p++)o.prototype[g[p]]=y;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var a,u,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var h=0,m=new c(E),g=o.document.createTextNode("");m.observe(g,{characterData:!0}),a=function(){g.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var S=o.document.createElement("script");S.onreadystatechange=function(){E(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},o.document.documentElement.appendChild(S)}:function(){setTimeout(E,0)};else{var y=new o.MessageChannel;y.port1.onmessage=E,a=function(){y.port2.postMessage(0)}}var p=[];function E(){var S,k;u=!0;for(var _=p.length;_;){for(k=p,p=[],S=-1;++S<_;)k[S]();_=p.length}u=!1}r.exports=function(S){p.push(S)!==1||u||a()}}).call(this,typeof Xo<"u"?Xo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function a(){}var u={},c=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function g(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,_!==a&&S(this,_)}function y(_,T,j){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function p(_,T,j){o(function(){var H;try{H=T(j)}catch(X){return u.reject(_,X)}H===_?u.reject(_,new TypeError("Cannot resolve promise with itself")):u.resolve(_,H)})}function E(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function S(_,T){var j=!1;function H(ce){j||(j=!0,u.reject(_,ce))}function X(ce){j||(j=!0,u.resolve(_,ce))}var we=k(function(){T(X,H)});we.status==="error"&&H(we.value)}function k(_,T){var j={};try{j.value=_(T),j.status="success"}catch(H){j.status="error",j.value=H}return j}(r.exports=g).prototype.finally=function(_){if(typeof _!="function")return this;var T=this.constructor;return this.then(function(j){return T.resolve(_()).then(function(){return j})},function(j){return T.resolve(_()).then(function(){throw j})})},g.prototype.catch=function(_){return this.then(null,_)},g.prototype.then=function(_,T){if(typeof _!="function"&&this.state===h||typeof T!="function"&&this.state===c)return this;var j=new this.constructor(a);return this.state!==m?p(j,this.state===h?_:T,this.outcome):this.queue.push(new y(j,_,T)),j},y.prototype.callFulfilled=function(_){u.resolve(this.promise,_)},y.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},y.prototype.callRejected=function(_){u.reject(this.promise,_)},y.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},u.resolve=function(_,T){var j=k(E,T);if(j.status==="error")return u.reject(_,j.value);var H=j.value;if(H)S(_,H);else{_.state=h,_.outcome=T;for(var X=-1,we=_.queue.length;++X<we;)_.queue[X].callFulfilled(T)}return _},u.reject=function(_,T){_.state=c,_.outcome=T;for(var j=-1,H=_.queue.length;++j<H;)_.queue[j].callRejected(T);return _},g.resolve=function(_){return _ instanceof this?_:u.resolve(new this(a),_)},g.reject=function(_){var T=new this(a);return u.reject(T,_)},g.all=function(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=_.length,H=!1;if(!j)return this.resolve([]);for(var X=new Array(j),we=0,ce=-1,oe=new this(a);++ce<j;)z(_[ce],ce);return oe;function z(Ee,Q){T.resolve(Ee).then(function(B){X[Q]=B,++we!==j||H||(H=!0,u.resolve(oe,X))},function(B){H||(H=!0,u.reject(oe,B))})}},g.race=function(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=_.length,H=!1;if(!j)return this.resolve([]);for(var X=-1,we=new this(a);++X<j;)ce=_[X],T.resolve(ce).then(function(oe){H||(H=!0,u.resolve(we,oe))},function(oe){H||(H=!0,u.reject(we,oe))});var ce;return we}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),a=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/messages"),h=t("./zlib/zstream"),m=Object.prototype.toString,g=0,y=-1,p=0,E=8;function S(_){if(!(this instanceof S))return new S(_);this.options=a.assign({level:y,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var j=o.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(j!==g)throw new Error(c[j]);if(T.header&&o.deflateSetHeader(this.strm,T.header),T.dictionary){var H;if(H=typeof T.dictionary=="string"?u.string2buf(T.dictionary):m.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(j=o.deflateSetDictionary(this.strm,H))!==g)throw new Error(c[j]);this._dict_set=!0}}function k(_,T){var j=new S(T);if(j.push(_,!0),j.err)throw j.msg||c[j.err];return j.result}S.prototype.push=function(_,T){var j,H,X=this.strm,we=this.options.chunkSize;if(this.ended)return!1;H=T===~~T?T:T===!0?4:0,typeof _=="string"?X.input=u.string2buf(_):m.call(_)==="[object ArrayBuffer]"?X.input=new Uint8Array(_):X.input=_,X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0&&(X.output=new a.Buf8(we),X.next_out=0,X.avail_out=we),(j=o.deflate(X,H))!==1&&j!==g)return this.onEnd(j),!(this.ended=!0);X.avail_out!==0&&(X.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(a.shrinkBuf(X.output,X.next_out))):this.onData(a.shrinkBuf(X.output,X.next_out)))}while((0<X.avail_in||X.avail_out===0)&&j!==1);return H===4?(j=o.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===g):H!==2||(this.onEnd(g),!(X.avail_out=0))},S.prototype.onData=function(_){this.chunks.push(_)},S.prototype.onEnd=function(_){_===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=S,i.deflate=k,i.deflateRaw=function(_,T){return(T=T||{}).raw=!0,k(_,T)},i.gzip=function(_,T){return(T=T||{}).gzip=!0,k(_,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),a=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/constants"),h=t("./zlib/messages"),m=t("./zlib/zstream"),g=t("./zlib/gzheader"),y=Object.prototype.toString;function p(S){if(!(this instanceof p))return new p(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||S&&S.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&(15&k.windowBits)==0&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,k.windowBits);if(_!==c.Z_OK)throw new Error(h[_]);this.header=new g,o.inflateGetHeader(this.strm,this.header)}function E(S,k){var _=new p(k);if(_.push(S,!0),_.err)throw _.msg||h[_.err];return _.result}p.prototype.push=function(S,k){var _,T,j,H,X,we,ce=this.strm,oe=this.options.chunkSize,z=this.options.dictionary,Ee=!1;if(this.ended)return!1;T=k===~~k?k:k===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof S=="string"?ce.input=u.binstring2buf(S):y.call(S)==="[object ArrayBuffer]"?ce.input=new Uint8Array(S):ce.input=S,ce.next_in=0,ce.avail_in=ce.input.length;do{if(ce.avail_out===0&&(ce.output=new a.Buf8(oe),ce.next_out=0,ce.avail_out=oe),(_=o.inflate(ce,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&z&&(we=typeof z=="string"?u.string2buf(z):y.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,_=o.inflateSetDictionary(this.strm,we)),_===c.Z_BUF_ERROR&&Ee===!0&&(_=c.Z_OK,Ee=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);ce.next_out&&(ce.avail_out!==0&&_!==c.Z_STREAM_END&&(ce.avail_in!==0||T!==c.Z_FINISH&&T!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=u.utf8border(ce.output,ce.next_out),H=ce.next_out-j,X=u.buf2string(ce.output,j),ce.next_out=H,ce.avail_out=oe-H,H&&a.arraySet(ce.output,ce.output,j,H,0),this.onData(X)):this.onData(a.shrinkBuf(ce.output,ce.next_out)))),ce.avail_in===0&&ce.avail_out===0&&(Ee=!0)}while((0<ce.avail_in||ce.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(T=c.Z_FINISH),T===c.Z_FINISH?(_=o.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):T!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(ce.avail_out=0))},p.prototype.onData=function(S){this.chunks.push(S)},p.prototype.onEnd=function(S){S===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Inflate=p,i.inflate=E,i.inflateRaw=function(S,k){return(k=k||{}).raw=!0,E(S,k)},i.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var g in m)m.hasOwnProperty(g)&&(c[g]=m[g])}}return c},i.shrinkBuf=function(c,h){return c.length===h?c:c.subarray?c.subarray(0,h):(c.length=h,c)};var a={arraySet:function(c,h,m,g,y){if(h.subarray&&c.subarray)c.set(h.subarray(m,m+g),y);else for(var p=0;p<g;p++)c[y+p]=h[m+p]},flattenChunks:function(c){var h,m,g,y,p,E;for(h=g=0,m=c.length;h<m;h++)g+=c[h].length;for(E=new Uint8Array(g),h=y=0,m=c.length;h<m;h++)p=c[h],E.set(p,y),y+=p.length;return E}},u={arraySet:function(c,h,m,g,y){for(var p=0;p<g;p++)c[y+p]=h[m+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),a=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new o.Buf8(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function m(g,y){if(y<65537&&(g.subarray&&u||!g.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(g,y));for(var p="",E=0;E<y;E++)p+=String.fromCharCode(g[E]);return p}c[254]=c[254]=1,i.string2buf=function(g){var y,p,E,S,k,_=g.length,T=0;for(S=0;S<_;S++)(64512&(p=g.charCodeAt(S)))==55296&&S+1<_&&(64512&(E=g.charCodeAt(S+1)))==56320&&(p=65536+(p-55296<<10)+(E-56320),S++),T+=p<128?1:p<2048?2:p<65536?3:4;for(y=new o.Buf8(T),S=k=0;k<T;S++)(64512&(p=g.charCodeAt(S)))==55296&&S+1<_&&(64512&(E=g.charCodeAt(S+1)))==56320&&(p=65536+(p-55296<<10)+(E-56320),S++),p<128?y[k++]=p:(p<2048?y[k++]=192|p>>>6:(p<65536?y[k++]=224|p>>>12:(y[k++]=240|p>>>18,y[k++]=128|p>>>12&63),y[k++]=128|p>>>6&63),y[k++]=128|63&p);return y},i.buf2binstring=function(g){return m(g,g.length)},i.binstring2buf=function(g){for(var y=new o.Buf8(g.length),p=0,E=y.length;p<E;p++)y[p]=g.charCodeAt(p);return y},i.buf2string=function(g,y){var p,E,S,k,_=y||g.length,T=new Array(2*_);for(p=E=0;p<_;)if((S=g[p++])<128)T[E++]=S;else if(4<(k=c[S]))T[E++]=65533,p+=k-1;else{for(S&=k===2?31:k===3?15:7;1<k&&p<_;)S=S<<6|63&g[p++],k--;1<k?T[E++]=65533:S<65536?T[E++]=S:(S-=65536,T[E++]=55296|S>>10&1023,T[E++]=56320|1023&S)}return m(T,E)},i.utf8border=function(g,y){var p;for((y=y||g.length)>g.length&&(y=g.length),p=y-1;0<=p&&(192&g[p])==128;)p--;return p<0||p===0?y:p+c[g[p]]>y?p:y}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,a,u,c){for(var h=65535&o|0,m=o>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;m=m+(h=h+a[c++]|0)|0,--g;);h%=65521,m%=65521}return h|m<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();r.exports=function(a,u,c,h){var m=o,g=h+c;a^=-1;for(var y=h;y<g;y++)a=a>>>8^m[255&(a^u[y])];return-1^a}},{}],46:[function(t,r,i){var o,a=t("../utils/common"),u=t("./trees"),c=t("./adler32"),h=t("./crc32"),m=t("./messages"),g=0,y=4,p=0,E=-2,S=-1,k=4,_=2,T=8,j=9,H=286,X=30,we=19,ce=2*H+1,oe=15,z=3,Ee=258,Q=Ee+z+1,B=42,ee=113,F=1,me=2,Ne=3,pe=4;function ye(D,se){return D.msg=m[se],se}function de(D){return(D<<1)-(4<D?9:0)}function xe(D){for(var se=D.length;0<=--se;)D[se]=0}function G(D){var se=D.state,I=se.pending;I>D.avail_out&&(I=D.avail_out),I!==0&&(a.arraySet(D.output,se.pending_buf,se.pending_out,I,D.next_out),D.next_out+=I,se.pending_out+=I,D.total_out+=I,D.avail_out-=I,se.pending-=I,se.pending===0&&(se.pending_out=0))}function N(D,se){u._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,se),D.block_start=D.strstart,G(D.strm)}function q(D,se){D.pending_buf[D.pending++]=se}function W(D,se){D.pending_buf[D.pending++]=se>>>8&255,D.pending_buf[D.pending++]=255&se}function ne(D,se){var I,b,x=D.max_chain_length,O=D.strstart,ae=D.prev_length,ve=D.nice_match,he=D.strstart>D.w_size-Q?D.strstart-(D.w_size-Q):0,Oe=D.window,qe=D.w_mask,Ue=D.prev,Xe=D.strstart+Ee,st=Oe[O+ae-1],ct=Oe[O+ae];D.prev_length>=D.good_match&&(x>>=2),ve>D.lookahead&&(ve=D.lookahead);do if(Oe[(I=se)+ae]===ct&&Oe[I+ae-1]===st&&Oe[I]===Oe[O]&&Oe[++I]===Oe[O+1]){O+=2,I++;do;while(Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&Oe[++O]===Oe[++I]&&O<Xe);if(b=Ee-(Xe-O),O=Xe-Ee,ae<b){if(D.match_start=se,ve<=(ae=b))break;st=Oe[O+ae-1],ct=Oe[O+ae]}}while((se=Ue[se&qe])>he&&--x!=0);return ae<=D.lookahead?ae:D.lookahead}function K(D){var se,I,b,x,O,ae,ve,he,Oe,qe,Ue=D.w_size;do{if(x=D.window_size-D.lookahead-D.strstart,D.strstart>=Ue+(Ue-Q)){for(a.arraySet(D.window,D.window,Ue,Ue,0),D.match_start-=Ue,D.strstart-=Ue,D.block_start-=Ue,se=I=D.hash_size;b=D.head[--se],D.head[se]=Ue<=b?b-Ue:0,--I;);for(se=I=Ue;b=D.prev[--se],D.prev[se]=Ue<=b?b-Ue:0,--I;);x+=Ue}if(D.strm.avail_in===0)break;if(ae=D.strm,ve=D.window,he=D.strstart+D.lookahead,Oe=x,qe=void 0,qe=ae.avail_in,Oe<qe&&(qe=Oe),I=qe===0?0:(ae.avail_in-=qe,a.arraySet(ve,ae.input,ae.next_in,qe,he),ae.state.wrap===1?ae.adler=c(ae.adler,ve,qe,he):ae.state.wrap===2&&(ae.adler=h(ae.adler,ve,qe,he)),ae.next_in+=qe,ae.total_in+=qe,qe),D.lookahead+=I,D.lookahead+D.insert>=z)for(O=D.strstart-D.insert,D.ins_h=D.window[O],D.ins_h=(D.ins_h<<D.hash_shift^D.window[O+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[O+z-1])&D.hash_mask,D.prev[O&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=O,O++,D.insert--,!(D.lookahead+D.insert<z)););}while(D.lookahead<Q&&D.strm.avail_in!==0)}function R(D,se){for(var I,b;;){if(D.lookahead<Q){if(K(D),D.lookahead<Q&&se===g)return F;if(D.lookahead===0)break}if(I=0,D.lookahead>=z&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+z-1])&D.hash_mask,I=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),I!==0&&D.strstart-I<=D.w_size-Q&&(D.match_length=ne(D,I)),D.match_length>=z)if(b=u._tr_tally(D,D.strstart-D.match_start,D.match_length-z),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=z){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+z-1])&D.hash_mask,I=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else b=u._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(b&&(N(D,!1),D.strm.avail_out===0))return F}return D.insert=D.strstart<z-1?D.strstart:z-1,se===y?(N(D,!0),D.strm.avail_out===0?Ne:pe):D.last_lit&&(N(D,!1),D.strm.avail_out===0)?F:me}function L(D,se){for(var I,b,x;;){if(D.lookahead<Q){if(K(D),D.lookahead<Q&&se===g)return F;if(D.lookahead===0)break}if(I=0,D.lookahead>=z&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+z-1])&D.hash_mask,I=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=z-1,I!==0&&D.prev_length<D.max_lazy_match&&D.strstart-I<=D.w_size-Q&&(D.match_length=ne(D,I),D.match_length<=5&&(D.strategy===1||D.match_length===z&&4096<D.strstart-D.match_start)&&(D.match_length=z-1)),D.prev_length>=z&&D.match_length<=D.prev_length){for(x=D.strstart+D.lookahead-z,b=u._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-z),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=x&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+z-1])&D.hash_mask,I=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=z-1,D.strstart++,b&&(N(D,!1),D.strm.avail_out===0))return F}else if(D.match_available){if((b=u._tr_tally(D,0,D.window[D.strstart-1]))&&N(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return F}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(b=u._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<z-1?D.strstart:z-1,se===y?(N(D,!0),D.strm.avail_out===0?Ne:pe):D.last_lit&&(N(D,!1),D.strm.avail_out===0)?F:me}function J(D,se,I,b,x){this.good_length=D,this.max_lazy=se,this.nice_length=I,this.max_chain=b,this.func=x}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*ce),this.dyn_dtree=new a.Buf16(2*(2*X+1)),this.bl_tree=new a.Buf16(2*(2*we+1)),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(oe+1),this.heap=new a.Buf16(2*H+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*H+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(D){var se;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=_,(se=D.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?B:ee,D.adler=se.wrap===2?0:1,se.last_flush=g,u._tr_init(se),p):ye(D,E)}function ie(D){var se=V(D);return se===p&&function(I){I.window_size=2*I.w_size,xe(I.head),I.max_lazy_match=o[I.level].max_lazy,I.good_match=o[I.level].good_length,I.nice_match=o[I.level].nice_length,I.max_chain_length=o[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=z-1,I.match_available=0,I.ins_h=0}(D.state),se}function _e(D,se,I,b,x,O){if(!D)return E;var ae=1;if(se===S&&(se=6),b<0?(ae=0,b=-b):15<b&&(ae=2,b-=16),x<1||j<x||I!==T||b<8||15<b||se<0||9<se||O<0||k<O)return ye(D,E);b===8&&(b=9);var ve=new le;return(D.state=ve).strm=D,ve.wrap=ae,ve.gzhead=null,ve.w_bits=b,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=x+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+z-1)/z),ve.window=new a.Buf8(2*ve.w_size),ve.head=new a.Buf16(ve.hash_size),ve.prev=new a.Buf16(ve.w_size),ve.lit_bufsize=1<<x+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new a.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=se,ve.strategy=O,ve.method=I,ie(D)}o=[new J(0,0,0,0,function(D,se){var I=65535;for(I>D.pending_buf_size-5&&(I=D.pending_buf_size-5);;){if(D.lookahead<=1){if(K(D),D.lookahead===0&&se===g)return F;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var b=D.block_start+I;if((D.strstart===0||D.strstart>=b)&&(D.lookahead=D.strstart-b,D.strstart=b,N(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-Q&&(N(D,!1),D.strm.avail_out===0))return F}return D.insert=0,se===y?(N(D,!0),D.strm.avail_out===0?Ne:pe):(D.strstart>D.block_start&&(N(D,!1),D.strm.avail_out),F)}),new J(4,4,8,4,R),new J(4,5,16,8,R),new J(4,6,32,32,R),new J(4,4,16,16,L),new J(8,16,32,32,L),new J(8,16,128,128,L),new J(8,32,128,256,L),new J(32,128,258,1024,L),new J(32,258,258,4096,L)],i.deflateInit=function(D,se){return _e(D,se,T,15,8,0)},i.deflateInit2=_e,i.deflateReset=ie,i.deflateResetKeep=V,i.deflateSetHeader=function(D,se){return D&&D.state?D.state.wrap!==2?E:(D.state.gzhead=se,p):E},i.deflate=function(D,se){var I,b,x,O;if(!D||!D.state||5<se||se<0)return D?ye(D,E):E;if(b=D.state,!D.output||!D.input&&D.avail_in!==0||b.status===666&&se!==y)return ye(D,D.avail_out===0?-5:E);if(b.strm=D,I=b.last_flush,b.last_flush=se,b.status===B)if(b.wrap===2)D.adler=0,q(b,31),q(b,139),q(b,8),b.gzhead?(q(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),q(b,255&b.gzhead.time),q(b,b.gzhead.time>>8&255),q(b,b.gzhead.time>>16&255),q(b,b.gzhead.time>>24&255),q(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),q(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(q(b,255&b.gzhead.extra.length),q(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(D.adler=h(D.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69):(q(b,0),q(b,0),q(b,0),q(b,0),q(b,0),q(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),q(b,3),b.status=ee);else{var ae=T+(b.w_bits-8<<4)<<8;ae|=(2<=b.strategy||b.level<2?0:b.level<6?1:b.level===6?2:3)<<6,b.strstart!==0&&(ae|=32),ae+=31-ae%31,b.status=ee,W(b,ae),b.strstart!==0&&(W(b,D.adler>>>16),W(b,65535&D.adler)),D.adler=1}if(b.status===69)if(b.gzhead.extra){for(x=b.pending;b.gzindex<(65535&b.gzhead.extra.length)&&(b.pending!==b.pending_buf_size||(b.gzhead.hcrc&&b.pending>x&&(D.adler=h(D.adler,b.pending_buf,b.pending-x,x)),G(D),x=b.pending,b.pending!==b.pending_buf_size));)q(b,255&b.gzhead.extra[b.gzindex]),b.gzindex++;b.gzhead.hcrc&&b.pending>x&&(D.adler=h(D.adler,b.pending_buf,b.pending-x,x)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=73)}else b.status=73;if(b.status===73)if(b.gzhead.name){x=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>x&&(D.adler=h(D.adler,b.pending_buf,b.pending-x,x)),G(D),x=b.pending,b.pending===b.pending_buf_size)){O=1;break}O=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0,q(b,O)}while(O!==0);b.gzhead.hcrc&&b.pending>x&&(D.adler=h(D.adler,b.pending_buf,b.pending-x,x)),O===0&&(b.gzindex=0,b.status=91)}else b.status=91;if(b.status===91)if(b.gzhead.comment){x=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>x&&(D.adler=h(D.adler,b.pending_buf,b.pending-x,x)),G(D),x=b.pending,b.pending===b.pending_buf_size)){O=1;break}O=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0,q(b,O)}while(O!==0);b.gzhead.hcrc&&b.pending>x&&(D.adler=h(D.adler,b.pending_buf,b.pending-x,x)),O===0&&(b.status=103)}else b.status=103;if(b.status===103&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&G(D),b.pending+2<=b.pending_buf_size&&(q(b,255&D.adler),q(b,D.adler>>8&255),D.adler=0,b.status=ee)):b.status=ee),b.pending!==0){if(G(D),D.avail_out===0)return b.last_flush=-1,p}else if(D.avail_in===0&&de(se)<=de(I)&&se!==y)return ye(D,-5);if(b.status===666&&D.avail_in!==0)return ye(D,-5);if(D.avail_in!==0||b.lookahead!==0||se!==g&&b.status!==666){var ve=b.strategy===2?function(he,Oe){for(var qe;;){if(he.lookahead===0&&(K(he),he.lookahead===0)){if(Oe===g)return F;break}if(he.match_length=0,qe=u._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,qe&&(N(he,!1),he.strm.avail_out===0))return F}return he.insert=0,Oe===y?(N(he,!0),he.strm.avail_out===0?Ne:pe):he.last_lit&&(N(he,!1),he.strm.avail_out===0)?F:me}(b,se):b.strategy===3?function(he,Oe){for(var qe,Ue,Xe,st,ct=he.window;;){if(he.lookahead<=Ee){if(K(he),he.lookahead<=Ee&&Oe===g)return F;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=z&&0<he.strstart&&(Ue=ct[Xe=he.strstart-1])===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]){st=he.strstart+Ee;do;while(Ue===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]&&Ue===ct[++Xe]&&Xe<st);he.match_length=Ee-(st-Xe),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=z?(qe=u._tr_tally(he,1,he.match_length-z),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(qe=u._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),qe&&(N(he,!1),he.strm.avail_out===0))return F}return he.insert=0,Oe===y?(N(he,!0),he.strm.avail_out===0?Ne:pe):he.last_lit&&(N(he,!1),he.strm.avail_out===0)?F:me}(b,se):o[b.level].func(b,se);if(ve!==Ne&&ve!==pe||(b.status=666),ve===F||ve===Ne)return D.avail_out===0&&(b.last_flush=-1),p;if(ve===me&&(se===1?u._tr_align(b):se!==5&&(u._tr_stored_block(b,0,0,!1),se===3&&(xe(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),G(D),D.avail_out===0))return b.last_flush=-1,p}return se!==y?p:b.wrap<=0?1:(b.wrap===2?(q(b,255&D.adler),q(b,D.adler>>8&255),q(b,D.adler>>16&255),q(b,D.adler>>24&255),q(b,255&D.total_in),q(b,D.total_in>>8&255),q(b,D.total_in>>16&255),q(b,D.total_in>>24&255)):(W(b,D.adler>>>16),W(b,65535&D.adler)),G(D),0<b.wrap&&(b.wrap=-b.wrap),b.pending!==0?p:1)},i.deflateEnd=function(D){var se;return D&&D.state?(se=D.state.status)!==B&&se!==69&&se!==73&&se!==91&&se!==103&&se!==ee&&se!==666?ye(D,E):(D.state=null,se===ee?ye(D,-3):p):E},i.deflateSetDictionary=function(D,se){var I,b,x,O,ae,ve,he,Oe,qe=se.length;if(!D||!D.state||(O=(I=D.state).wrap)===2||O===1&&I.status!==B||I.lookahead)return E;for(O===1&&(D.adler=c(D.adler,se,qe,0)),I.wrap=0,qe>=I.w_size&&(O===0&&(xe(I.head),I.strstart=0,I.block_start=0,I.insert=0),Oe=new a.Buf8(I.w_size),a.arraySet(Oe,se,qe-I.w_size,I.w_size,0),se=Oe,qe=I.w_size),ae=D.avail_in,ve=D.next_in,he=D.input,D.avail_in=qe,D.next_in=0,D.input=se,K(I);I.lookahead>=z;){for(b=I.strstart,x=I.lookahead-(z-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[b+z-1])&I.hash_mask,I.prev[b&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=b,b++,--x;);I.strstart=b,I.lookahead=z-1,K(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=z-1,I.match_available=0,D.next_in=ve,D.input=he,D.avail_in=ae,I.wrap=O,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,a){var u,c,h,m,g,y,p,E,S,k,_,T,j,H,X,we,ce,oe,z,Ee,Q,B,ee,F,me;u=o.state,c=o.next_in,F=o.input,h=c+(o.avail_in-5),m=o.next_out,me=o.output,g=m-(a-o.avail_out),y=m+(o.avail_out-257),p=u.dmax,E=u.wsize,S=u.whave,k=u.wnext,_=u.window,T=u.hold,j=u.bits,H=u.lencode,X=u.distcode,we=(1<<u.lenbits)-1,ce=(1<<u.distbits)-1;e:do{j<15&&(T+=F[c++]<<j,j+=8,T+=F[c++]<<j,j+=8),oe=H[T&we];t:for(;;){if(T>>>=z=oe>>>24,j-=z,(z=oe>>>16&255)===0)me[m++]=65535&oe;else{if(!(16&z)){if((64&z)==0){oe=H[(65535&oe)+(T&(1<<z)-1)];continue t}if(32&z){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}Ee=65535&oe,(z&=15)&&(j<z&&(T+=F[c++]<<j,j+=8),Ee+=T&(1<<z)-1,T>>>=z,j-=z),j<15&&(T+=F[c++]<<j,j+=8,T+=F[c++]<<j,j+=8),oe=X[T&ce];n:for(;;){if(T>>>=z=oe>>>24,j-=z,!(16&(z=oe>>>16&255))){if((64&z)==0){oe=X[(65535&oe)+(T&(1<<z)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(Q=65535&oe,j<(z&=15)&&(T+=F[c++]<<j,(j+=8)<z&&(T+=F[c++]<<j,j+=8)),p<(Q+=T&(1<<z)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(T>>>=z,j-=z,(z=m-g)<Q){if(S<(z=Q-z)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(ee=_,(B=0)===k){if(B+=E-z,z<Ee){for(Ee-=z;me[m++]=_[B++],--z;);B=m-Q,ee=me}}else if(k<z){if(B+=E+k-z,(z-=k)<Ee){for(Ee-=z;me[m++]=_[B++],--z;);if(B=0,k<Ee){for(Ee-=z=k;me[m++]=_[B++],--z;);B=m-Q,ee=me}}}else if(B+=k-z,z<Ee){for(Ee-=z;me[m++]=_[B++],--z;);B=m-Q,ee=me}for(;2<Ee;)me[m++]=ee[B++],me[m++]=ee[B++],me[m++]=ee[B++],Ee-=3;Ee&&(me[m++]=ee[B++],1<Ee&&(me[m++]=ee[B++]))}else{for(B=m-Q;me[m++]=me[B++],me[m++]=me[B++],me[m++]=me[B++],2<(Ee-=3););Ee&&(me[m++]=me[B++],1<Ee&&(me[m++]=me[B++]))}break}}break}}while(c<h&&m<y);c-=Ee=j>>3,T&=(1<<(j-=Ee<<3))-1,o.next_in=c,o.next_out=m,o.avail_in=c<h?h-c+5:5-(c-h),o.avail_out=m<y?y-m+257:257-(m-y),u.hold=T,u.bits=j}},{}],49:[function(t,r,i){var o=t("../utils/common"),a=t("./adler32"),u=t("./crc32"),c=t("./inffast"),h=t("./inftrees"),m=1,g=2,y=0,p=-2,E=1,S=852,k=592;function _(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(B){var ee;return B&&B.state?(ee=B.state,B.total_in=B.total_out=ee.total=0,B.msg="",ee.wrap&&(B.adler=1&ee.wrap),ee.mode=E,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new o.Buf32(S),ee.distcode=ee.distdyn=new o.Buf32(k),ee.sane=1,ee.back=-1,y):p}function H(B){var ee;return B&&B.state?((ee=B.state).wsize=0,ee.whave=0,ee.wnext=0,j(B)):p}function X(B,ee){var F,me;return B&&B.state?(me=B.state,ee<0?(F=0,ee=-ee):(F=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?p:(me.window!==null&&me.wbits!==ee&&(me.window=null),me.wrap=F,me.wbits=ee,H(B))):p}function we(B,ee){var F,me;return B?(me=new T,(B.state=me).window=null,(F=X(B,ee))!==y&&(B.state=null),F):p}var ce,oe,z=!0;function Ee(B){if(z){var ee;for(ce=new o.Buf32(512),oe=new o.Buf32(32),ee=0;ee<144;)B.lens[ee++]=8;for(;ee<256;)B.lens[ee++]=9;for(;ee<280;)B.lens[ee++]=7;for(;ee<288;)B.lens[ee++]=8;for(h(m,B.lens,0,288,ce,0,B.work,{bits:9}),ee=0;ee<32;)B.lens[ee++]=5;h(g,B.lens,0,32,oe,0,B.work,{bits:5}),z=!1}B.lencode=ce,B.lenbits=9,B.distcode=oe,B.distbits=5}function Q(B,ee,F,me){var Ne,pe=B.state;return pe.window===null&&(pe.wsize=1<<pe.wbits,pe.wnext=0,pe.whave=0,pe.window=new o.Buf8(pe.wsize)),me>=pe.wsize?(o.arraySet(pe.window,ee,F-pe.wsize,pe.wsize,0),pe.wnext=0,pe.whave=pe.wsize):(me<(Ne=pe.wsize-pe.wnext)&&(Ne=me),o.arraySet(pe.window,ee,F-me,Ne,pe.wnext),(me-=Ne)?(o.arraySet(pe.window,ee,F-me,me,0),pe.wnext=me,pe.whave=pe.wsize):(pe.wnext+=Ne,pe.wnext===pe.wsize&&(pe.wnext=0),pe.whave<pe.wsize&&(pe.whave+=Ne))),0}i.inflateReset=H,i.inflateReset2=X,i.inflateResetKeep=j,i.inflateInit=function(B){return we(B,15)},i.inflateInit2=we,i.inflate=function(B,ee){var F,me,Ne,pe,ye,de,xe,G,N,q,W,ne,K,R,L,J,le,V,ie,_e,D,se,I,b,x=0,O=new o.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return p;(F=B.state).mode===12&&(F.mode=13),ye=B.next_out,Ne=B.output,xe=B.avail_out,pe=B.next_in,me=B.input,de=B.avail_in,G=F.hold,N=F.bits,q=de,W=xe,se=y;e:for(;;)switch(F.mode){case E:if(F.wrap===0){F.mode=13;break}for(;N<16;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(2&F.wrap&&G===35615){O[F.check=0]=255&G,O[1]=G>>>8&255,F.check=u(F.check,O,2,0),N=G=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&G)<<8)+(G>>8))%31){B.msg="incorrect header check",F.mode=30;break}if((15&G)!=8){B.msg="unknown compression method",F.mode=30;break}if(N-=4,D=8+(15&(G>>>=4)),F.wbits===0)F.wbits=D;else if(D>F.wbits){B.msg="invalid window size",F.mode=30;break}F.dmax=1<<D,B.adler=F.check=1,F.mode=512&G?10:12,N=G=0;break;case 2:for(;N<16;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(F.flags=G,(255&F.flags)!=8){B.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){B.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=G>>8&1),512&F.flags&&(O[0]=255&G,O[1]=G>>>8&255,F.check=u(F.check,O,2,0)),N=G=0,F.mode=3;case 3:for(;N<32;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}F.head&&(F.head.time=G),512&F.flags&&(O[0]=255&G,O[1]=G>>>8&255,O[2]=G>>>16&255,O[3]=G>>>24&255,F.check=u(F.check,O,4,0)),N=G=0,F.mode=4;case 4:for(;N<16;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}F.head&&(F.head.xflags=255&G,F.head.os=G>>8),512&F.flags&&(O[0]=255&G,O[1]=G>>>8&255,F.check=u(F.check,O,2,0)),N=G=0,F.mode=5;case 5:if(1024&F.flags){for(;N<16;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}F.length=G,F.head&&(F.head.extra_len=G),512&F.flags&&(O[0]=255&G,O[1]=G>>>8&255,F.check=u(F.check,O,2,0)),N=G=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(de<(ne=F.length)&&(ne=de),ne&&(F.head&&(D=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),o.arraySet(F.head.extra,me,pe,ne,D)),512&F.flags&&(F.check=u(F.check,me,ne,pe)),de-=ne,pe+=ne,F.length-=ne),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(de===0)break e;for(ne=0;D=me[pe+ne++],F.head&&D&&F.length<65536&&(F.head.name+=String.fromCharCode(D)),D&&ne<de;);if(512&F.flags&&(F.check=u(F.check,me,ne,pe)),de-=ne,pe+=ne,D)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(de===0)break e;for(ne=0;D=me[pe+ne++],F.head&&D&&F.length<65536&&(F.head.comment+=String.fromCharCode(D)),D&&ne<de;);if(512&F.flags&&(F.check=u(F.check,me,ne,pe)),de-=ne,pe+=ne,D)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;N<16;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(G!==(65535&F.check)){B.msg="header crc mismatch",F.mode=30;break}N=G=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),B.adler=F.check=0,F.mode=12;break;case 10:for(;N<32;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}B.adler=F.check=_(G),N=G=0,F.mode=11;case 11:if(F.havedict===0)return B.next_out=ye,B.avail_out=xe,B.next_in=pe,B.avail_in=de,F.hold=G,F.bits=N,2;B.adler=F.check=1,F.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(F.last){G>>>=7&N,N-=7&N,F.mode=27;break}for(;N<3;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}switch(F.last=1&G,N-=1,3&(G>>>=1)){case 0:F.mode=14;break;case 1:if(Ee(F),F.mode=20,ee!==6)break;G>>>=2,N-=2;break e;case 2:F.mode=17;break;case 3:B.msg="invalid block type",F.mode=30}G>>>=2,N-=2;break;case 14:for(G>>>=7&N,N-=7&N;N<32;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if((65535&G)!=(G>>>16^65535)){B.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&G,N=G=0,F.mode=15,ee===6)break e;case 15:F.mode=16;case 16:if(ne=F.length){if(de<ne&&(ne=de),xe<ne&&(ne=xe),ne===0)break e;o.arraySet(Ne,me,pe,ne,ye),de-=ne,pe+=ne,xe-=ne,ye+=ne,F.length-=ne;break}F.mode=12;break;case 17:for(;N<14;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(F.nlen=257+(31&G),G>>>=5,N-=5,F.ndist=1+(31&G),G>>>=5,N-=5,F.ncode=4+(15&G),G>>>=4,N-=4,286<F.nlen||30<F.ndist){B.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;N<3;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}F.lens[ae[F.have++]]=7&G,G>>>=3,N-=3}for(;F.have<19;)F.lens[ae[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,I={bits:F.lenbits},se=h(0,F.lens,0,19,F.lencode,0,F.work,I),F.lenbits=I.bits,se){B.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;J=(x=F.lencode[G&(1<<F.lenbits)-1])>>>16&255,le=65535&x,!((L=x>>>24)<=N);){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(le<16)G>>>=L,N-=L,F.lens[F.have++]=le;else{if(le===16){for(b=L+2;N<b;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(G>>>=L,N-=L,F.have===0){B.msg="invalid bit length repeat",F.mode=30;break}D=F.lens[F.have-1],ne=3+(3&G),G>>>=2,N-=2}else if(le===17){for(b=L+3;N<b;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}N-=L,D=0,ne=3+(7&(G>>>=L)),G>>>=3,N-=3}else{for(b=L+7;N<b;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}N-=L,D=0,ne=11+(127&(G>>>=L)),G>>>=7,N-=7}if(F.have+ne>F.nlen+F.ndist){B.msg="invalid bit length repeat",F.mode=30;break}for(;ne--;)F.lens[F.have++]=D}}if(F.mode===30)break;if(F.lens[256]===0){B.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,I={bits:F.lenbits},se=h(m,F.lens,0,F.nlen,F.lencode,0,F.work,I),F.lenbits=I.bits,se){B.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,I={bits:F.distbits},se=h(g,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,I),F.distbits=I.bits,se){B.msg="invalid distances set",F.mode=30;break}if(F.mode=20,ee===6)break e;case 20:F.mode=21;case 21:if(6<=de&&258<=xe){B.next_out=ye,B.avail_out=xe,B.next_in=pe,B.avail_in=de,F.hold=G,F.bits=N,c(B,W),ye=B.next_out,Ne=B.output,xe=B.avail_out,pe=B.next_in,me=B.input,de=B.avail_in,G=F.hold,N=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;J=(x=F.lencode[G&(1<<F.lenbits)-1])>>>16&255,le=65535&x,!((L=x>>>24)<=N);){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(J&&(240&J)==0){for(V=L,ie=J,_e=le;J=(x=F.lencode[_e+((G&(1<<V+ie)-1)>>V)])>>>16&255,le=65535&x,!(V+(L=x>>>24)<=N);){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}G>>>=V,N-=V,F.back+=V}if(G>>>=L,N-=L,F.back+=L,F.length=le,J===0){F.mode=26;break}if(32&J){F.back=-1,F.mode=12;break}if(64&J){B.msg="invalid literal/length code",F.mode=30;break}F.extra=15&J,F.mode=22;case 22:if(F.extra){for(b=F.extra;N<b;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}F.length+=G&(1<<F.extra)-1,G>>>=F.extra,N-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;J=(x=F.distcode[G&(1<<F.distbits)-1])>>>16&255,le=65535&x,!((L=x>>>24)<=N);){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if((240&J)==0){for(V=L,ie=J,_e=le;J=(x=F.distcode[_e+((G&(1<<V+ie)-1)>>V)])>>>16&255,le=65535&x,!(V+(L=x>>>24)<=N);){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}G>>>=V,N-=V,F.back+=V}if(G>>>=L,N-=L,F.back+=L,64&J){B.msg="invalid distance code",F.mode=30;break}F.offset=le,F.extra=15&J,F.mode=24;case 24:if(F.extra){for(b=F.extra;N<b;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}F.offset+=G&(1<<F.extra)-1,G>>>=F.extra,N-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){B.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(xe===0)break e;if(ne=W-xe,F.offset>ne){if((ne=F.offset-ne)>F.whave&&F.sane){B.msg="invalid distance too far back",F.mode=30;break}K=ne>F.wnext?(ne-=F.wnext,F.wsize-ne):F.wnext-ne,ne>F.length&&(ne=F.length),R=F.window}else R=Ne,K=ye-F.offset,ne=F.length;for(xe<ne&&(ne=xe),xe-=ne,F.length-=ne;Ne[ye++]=R[K++],--ne;);F.length===0&&(F.mode=21);break;case 26:if(xe===0)break e;Ne[ye++]=F.length,xe--,F.mode=21;break;case 27:if(F.wrap){for(;N<32;){if(de===0)break e;de--,G|=me[pe++]<<N,N+=8}if(W-=xe,B.total_out+=W,F.total+=W,W&&(B.adler=F.check=F.flags?u(F.check,Ne,W,ye-W):a(F.check,Ne,W,ye-W)),W=xe,(F.flags?G:_(G))!==F.check){B.msg="incorrect data check",F.mode=30;break}N=G=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;N<32;){if(de===0)break e;de--,G+=me[pe++]<<N,N+=8}if(G!==(4294967295&F.total)){B.msg="incorrect length check",F.mode=30;break}N=G=0}F.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return p}return B.next_out=ye,B.avail_out=xe,B.next_in=pe,B.avail_in=de,F.hold=G,F.bits=N,(F.wsize||W!==B.avail_out&&F.mode<30&&(F.mode<27||ee!==4))&&Q(B,B.output,B.next_out,W-B.avail_out)?(F.mode=31,-4):(q-=B.avail_in,W-=B.avail_out,B.total_in+=q,B.total_out+=W,F.total+=W,F.wrap&&W&&(B.adler=F.check=F.flags?u(F.check,Ne,W,B.next_out-W):a(F.check,Ne,W,B.next_out-W)),B.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(q==0&&W===0||ee===4)&&se===y&&(se=-5),se)},i.inflateEnd=function(B){if(!B||!B.state)return p;var ee=B.state;return ee.window&&(ee.window=null),B.state=null,y},i.inflateGetHeader=function(B,ee){var F;return B&&B.state?(2&(F=B.state).wrap)==0?p:((F.head=ee).done=!1,y):p},i.inflateSetDictionary=function(B,ee){var F,me=ee.length;return B&&B.state?(F=B.state).wrap!==0&&F.mode!==11?p:F.mode===11&&a(1,ee,me,0)!==F.check?-3:Q(B,ee,me,me)?(F.mode=31,-4):(F.havedict=1,y):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,g,y,p,E,S,k,_){var T,j,H,X,we,ce,oe,z,Ee,Q=_.bits,B=0,ee=0,F=0,me=0,Ne=0,pe=0,ye=0,de=0,xe=0,G=0,N=null,q=0,W=new o.Buf16(16),ne=new o.Buf16(16),K=null,R=0;for(B=0;B<=15;B++)W[B]=0;for(ee=0;ee<p;ee++)W[g[y+ee]]++;for(Ne=Q,me=15;1<=me&&W[me]===0;me--);if(me<Ne&&(Ne=me),me===0)return E[S++]=20971520,E[S++]=20971520,_.bits=1,0;for(F=1;F<me&&W[F]===0;F++);for(Ne<F&&(Ne=F),B=de=1;B<=15;B++)if(de<<=1,(de-=W[B])<0)return-1;if(0<de&&(m===0||me!==1))return-1;for(ne[1]=0,B=1;B<15;B++)ne[B+1]=ne[B]+W[B];for(ee=0;ee<p;ee++)g[y+ee]!==0&&(k[ne[g[y+ee]]++]=ee);if(ce=m===0?(N=K=k,19):m===1?(N=a,q-=257,K=u,R-=257,256):(N=c,K=h,-1),B=F,we=S,ye=ee=G=0,H=-1,X=(xe=1<<(pe=Ne))-1,m===1&&852<xe||m===2&&592<xe)return 1;for(;;){for(oe=B-ye,Ee=k[ee]<ce?(z=0,k[ee]):k[ee]>ce?(z=K[R+k[ee]],N[q+k[ee]]):(z=96,0),T=1<<B-ye,F=j=1<<pe;E[we+(G>>ye)+(j-=T)]=oe<<24|z<<16|Ee|0,j!==0;);for(T=1<<B-1;G&T;)T>>=1;if(T!==0?(G&=T-1,G+=T):G=0,ee++,--W[B]==0){if(B===me)break;B=g[y+k[ee]]}if(Ne<B&&(G&X)!==H){for(ye===0&&(ye=Ne),we+=F,de=1<<(pe=B-ye);pe+ye<me&&!((de-=W[pe+ye])<=0);)pe++,de<<=1;if(xe+=1<<pe,m===1&&852<xe||m===2&&592<xe)return 1;E[H=G&X]=Ne<<24|pe<<16|we-S|0}}return G!==0&&(E[we+G]=B-ye<<24|64<<16|0),_.bits=Ne,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),a=0,u=1;function c(x){for(var O=x.length;0<=--O;)x[O]=0}var h=0,m=29,g=256,y=g+1+m,p=30,E=19,S=2*y+1,k=15,_=16,T=7,j=256,H=16,X=17,we=18,ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],oe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(y+2));c(Q);var B=new Array(2*p);c(B);var ee=new Array(512);c(ee);var F=new Array(256);c(F);var me=new Array(m);c(me);var Ne,pe,ye,de=new Array(p);function xe(x,O,ae,ve,he){this.static_tree=x,this.extra_bits=O,this.extra_base=ae,this.elems=ve,this.max_length=he,this.has_stree=x&&x.length}function G(x,O){this.dyn_tree=x,this.max_code=0,this.stat_desc=O}function N(x){return x<256?ee[x]:ee[256+(x>>>7)]}function q(x,O){x.pending_buf[x.pending++]=255&O,x.pending_buf[x.pending++]=O>>>8&255}function W(x,O,ae){x.bi_valid>_-ae?(x.bi_buf|=O<<x.bi_valid&65535,q(x,x.bi_buf),x.bi_buf=O>>_-x.bi_valid,x.bi_valid+=ae-_):(x.bi_buf|=O<<x.bi_valid&65535,x.bi_valid+=ae)}function ne(x,O,ae){W(x,ae[2*O],ae[2*O+1])}function K(x,O){for(var ae=0;ae|=1&x,x>>>=1,ae<<=1,0<--O;);return ae>>>1}function R(x,O,ae){var ve,he,Oe=new Array(k+1),qe=0;for(ve=1;ve<=k;ve++)Oe[ve]=qe=qe+ae[ve-1]<<1;for(he=0;he<=O;he++){var Ue=x[2*he+1];Ue!==0&&(x[2*he]=K(Oe[Ue]++,Ue))}}function L(x){var O;for(O=0;O<y;O++)x.dyn_ltree[2*O]=0;for(O=0;O<p;O++)x.dyn_dtree[2*O]=0;for(O=0;O<E;O++)x.bl_tree[2*O]=0;x.dyn_ltree[2*j]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function J(x){8<x.bi_valid?q(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function le(x,O,ae,ve){var he=2*O,Oe=2*ae;return x[he]<x[Oe]||x[he]===x[Oe]&&ve[O]<=ve[ae]}function V(x,O,ae){for(var ve=x.heap[ae],he=ae<<1;he<=x.heap_len&&(he<x.heap_len&&le(O,x.heap[he+1],x.heap[he],x.depth)&&he++,!le(O,ve,x.heap[he],x.depth));)x.heap[ae]=x.heap[he],ae=he,he<<=1;x.heap[ae]=ve}function ie(x,O,ae){var ve,he,Oe,qe,Ue=0;if(x.last_lit!==0)for(;ve=x.pending_buf[x.d_buf+2*Ue]<<8|x.pending_buf[x.d_buf+2*Ue+1],he=x.pending_buf[x.l_buf+Ue],Ue++,ve===0?ne(x,he,O):(ne(x,(Oe=F[he])+g+1,O),(qe=ce[Oe])!==0&&W(x,he-=me[Oe],qe),ne(x,Oe=N(--ve),ae),(qe=oe[Oe])!==0&&W(x,ve-=de[Oe],qe)),Ue<x.last_lit;);ne(x,j,O)}function _e(x,O){var ae,ve,he,Oe=O.dyn_tree,qe=O.stat_desc.static_tree,Ue=O.stat_desc.has_stree,Xe=O.stat_desc.elems,st=-1;for(x.heap_len=0,x.heap_max=S,ae=0;ae<Xe;ae++)Oe[2*ae]!==0?(x.heap[++x.heap_len]=st=ae,x.depth[ae]=0):Oe[2*ae+1]=0;for(;x.heap_len<2;)Oe[2*(he=x.heap[++x.heap_len]=st<2?++st:0)]=1,x.depth[he]=0,x.opt_len--,Ue&&(x.static_len-=qe[2*he+1]);for(O.max_code=st,ae=x.heap_len>>1;1<=ae;ae--)V(x,Oe,ae);for(he=Xe;ae=x.heap[1],x.heap[1]=x.heap[x.heap_len--],V(x,Oe,1),ve=x.heap[1],x.heap[--x.heap_max]=ae,x.heap[--x.heap_max]=ve,Oe[2*he]=Oe[2*ae]+Oe[2*ve],x.depth[he]=(x.depth[ae]>=x.depth[ve]?x.depth[ae]:x.depth[ve])+1,Oe[2*ae+1]=Oe[2*ve+1]=he,x.heap[1]=he++,V(x,Oe,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(ct,mt){var At,ot,Bn,bt,yr,Zt,Wt=mt.dyn_tree,jr=mt.max_code,Yt=mt.stat_desc.static_tree,Qi=mt.stat_desc.has_stree,_n=mt.stat_desc.extra_bits,nr=mt.stat_desc.extra_base,Gn=mt.stat_desc.max_length,dn=0;for(bt=0;bt<=k;bt++)ct.bl_count[bt]=0;for(Wt[2*ct.heap[ct.heap_max]+1]=0,At=ct.heap_max+1;At<S;At++)Gn<(bt=Wt[2*Wt[2*(ot=ct.heap[At])+1]+1]+1)&&(bt=Gn,dn++),Wt[2*ot+1]=bt,jr<ot||(ct.bl_count[bt]++,yr=0,nr<=ot&&(yr=_n[ot-nr]),Zt=Wt[2*ot],ct.opt_len+=Zt*(bt+yr),Qi&&(ct.static_len+=Zt*(Yt[2*ot+1]+yr)));if(dn!==0){do{for(bt=Gn-1;ct.bl_count[bt]===0;)bt--;ct.bl_count[bt]--,ct.bl_count[bt+1]+=2,ct.bl_count[Gn]--,dn-=2}while(0<dn);for(bt=Gn;bt!==0;bt--)for(ot=ct.bl_count[bt];ot!==0;)jr<(Bn=ct.heap[--At])||(Wt[2*Bn+1]!==bt&&(ct.opt_len+=(bt-Wt[2*Bn+1])*Wt[2*Bn],Wt[2*Bn+1]=bt),ot--)}}(x,O),R(Oe,st,x.bl_count)}function D(x,O,ae){var ve,he,Oe=-1,qe=O[1],Ue=0,Xe=7,st=4;for(qe===0&&(Xe=138,st=3),O[2*(ae+1)+1]=65535,ve=0;ve<=ae;ve++)he=qe,qe=O[2*(ve+1)+1],++Ue<Xe&&he===qe||(Ue<st?x.bl_tree[2*he]+=Ue:he!==0?(he!==Oe&&x.bl_tree[2*he]++,x.bl_tree[2*H]++):Ue<=10?x.bl_tree[2*X]++:x.bl_tree[2*we]++,Oe=he,st=(Ue=0)===qe?(Xe=138,3):he===qe?(Xe=6,3):(Xe=7,4))}function se(x,O,ae){var ve,he,Oe=-1,qe=O[1],Ue=0,Xe=7,st=4;for(qe===0&&(Xe=138,st=3),ve=0;ve<=ae;ve++)if(he=qe,qe=O[2*(ve+1)+1],!(++Ue<Xe&&he===qe)){if(Ue<st)for(;ne(x,he,x.bl_tree),--Ue!=0;);else he!==0?(he!==Oe&&(ne(x,he,x.bl_tree),Ue--),ne(x,H,x.bl_tree),W(x,Ue-3,2)):Ue<=10?(ne(x,X,x.bl_tree),W(x,Ue-3,3)):(ne(x,we,x.bl_tree),W(x,Ue-11,7));Oe=he,st=(Ue=0)===qe?(Xe=138,3):he===qe?(Xe=6,3):(Xe=7,4)}}c(de);var I=!1;function b(x,O,ae,ve){W(x,(h<<1)+(ve?1:0),3),function(he,Oe,qe,Ue){J(he),q(he,qe),q(he,~qe),o.arraySet(he.pending_buf,he.window,Oe,qe,he.pending),he.pending+=qe}(x,O,ae)}i._tr_init=function(x){I||(function(){var O,ae,ve,he,Oe,qe=new Array(k+1);for(he=ve=0;he<m-1;he++)for(me[he]=ve,O=0;O<1<<ce[he];O++)F[ve++]=he;for(F[ve-1]=he,he=Oe=0;he<16;he++)for(de[he]=Oe,O=0;O<1<<oe[he];O++)ee[Oe++]=he;for(Oe>>=7;he<p;he++)for(de[he]=Oe<<7,O=0;O<1<<oe[he]-7;O++)ee[256+Oe++]=he;for(ae=0;ae<=k;ae++)qe[ae]=0;for(O=0;O<=143;)Q[2*O+1]=8,O++,qe[8]++;for(;O<=255;)Q[2*O+1]=9,O++,qe[9]++;for(;O<=279;)Q[2*O+1]=7,O++,qe[7]++;for(;O<=287;)Q[2*O+1]=8,O++,qe[8]++;for(R(Q,y+1,qe),O=0;O<p;O++)B[2*O+1]=5,B[2*O]=K(O,5);Ne=new xe(Q,ce,g+1,y,k),pe=new xe(B,oe,0,p,k),ye=new xe(new Array(0),z,0,E,T)}(),I=!0),x.l_desc=new G(x.dyn_ltree,Ne),x.d_desc=new G(x.dyn_dtree,pe),x.bl_desc=new G(x.bl_tree,ye),x.bi_buf=0,x.bi_valid=0,L(x)},i._tr_stored_block=b,i._tr_flush_block=function(x,O,ae,ve){var he,Oe,qe=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(Ue){var Xe,st=4093624447;for(Xe=0;Xe<=31;Xe++,st>>>=1)if(1&st&&Ue.dyn_ltree[2*Xe]!==0)return a;if(Ue.dyn_ltree[18]!==0||Ue.dyn_ltree[20]!==0||Ue.dyn_ltree[26]!==0)return u;for(Xe=32;Xe<g;Xe++)if(Ue.dyn_ltree[2*Xe]!==0)return u;return a}(x)),_e(x,x.l_desc),_e(x,x.d_desc),qe=function(Ue){var Xe;for(D(Ue,Ue.dyn_ltree,Ue.l_desc.max_code),D(Ue,Ue.dyn_dtree,Ue.d_desc.max_code),_e(Ue,Ue.bl_desc),Xe=E-1;3<=Xe&&Ue.bl_tree[2*Ee[Xe]+1]===0;Xe--);return Ue.opt_len+=3*(Xe+1)+5+5+4,Xe}(x),he=x.opt_len+3+7>>>3,(Oe=x.static_len+3+7>>>3)<=he&&(he=Oe)):he=Oe=ae+5,ae+4<=he&&O!==-1?b(x,O,ae,ve):x.strategy===4||Oe===he?(W(x,2+(ve?1:0),3),ie(x,Q,B)):(W(x,4+(ve?1:0),3),function(Ue,Xe,st,ct){var mt;for(W(Ue,Xe-257,5),W(Ue,st-1,5),W(Ue,ct-4,4),mt=0;mt<ct;mt++)W(Ue,Ue.bl_tree[2*Ee[mt]+1],3);se(Ue,Ue.dyn_ltree,Xe-1),se(Ue,Ue.dyn_dtree,st-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,qe+1),ie(x,x.dyn_ltree,x.dyn_dtree)),L(x),ve&&J(x)},i._tr_tally=function(x,O,ae){return x.pending_buf[x.d_buf+2*x.last_lit]=O>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&O,x.pending_buf[x.l_buf+x.last_lit]=255&ae,x.last_lit++,O===0?x.dyn_ltree[2*ae]++:(x.matches++,O--,x.dyn_ltree[2*(F[ae]+g+1)]++,x.dyn_dtree[2*N(O)]++),x.last_lit===x.lit_bufsize-1},i._tr_align=function(x){W(x,2,3),ne(x,j,Q),function(O){O.bi_valid===16?(q(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(a,u){if(!a.setImmediate){var c,h,m,g,y=1,p={},E=!1,S=a.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(a);k=k&&k.setTimeout?k:a,c={}.toString.call(a.process)==="[object process]"?function(H){qt.nextTick(function(){T(H)})}:function(){if(a.postMessage&&!a.importScripts){var H=!0,X=a.onmessage;return a.onmessage=function(){H=!1},a.postMessage("","*"),a.onmessage=X,H}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",j,!1):a.attachEvent("onmessage",j),function(H){a.postMessage(g+H,"*")}):a.MessageChannel?((m=new MessageChannel).port1.onmessage=function(H){T(H.data)},function(H){m.port2.postMessage(H)}):S&&"onreadystatechange"in S.createElement("script")?(h=S.documentElement,function(H){var X=S.createElement("script");X.onreadystatechange=function(){T(H),X.onreadystatechange=null,h.removeChild(X),X=null},h.appendChild(X)}):function(H){setTimeout(T,0,H)},k.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var X=new Array(arguments.length-1),we=0;we<X.length;we++)X[we]=arguments[we+1];var ce={callback:H,args:X};return p[y]=ce,c(y),y++},k.clearImmediate=_}function _(H){delete p[H]}function T(H){if(E)setTimeout(T,0,H);else{var X=p[H];if(X){E=!0;try{(function(we){var ce=we.callback,oe=we.args;switch(oe.length){case 0:ce();break;case 1:ce(oe[0]);break;case 2:ce(oe[0],oe[1]);break;case 3:ce(oe[0],oe[1],oe[2]);break;default:ce.apply(u,oe)}})(X)}finally{_(H),E=!1}}}}function j(H){H.source===a&&typeof H.data=="string"&&H.data.indexOf(g)===0&&T(+H.data.slice(g.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Xo<"u"?Xo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(OE);var m7=OE.exports;const g7=jx(m7);var tm={exports:{}},v7={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function y7(n){return n&&n.replace?n.replace(/([&"<>'])/g,function(e,t){return v7[t]}):n}var w7=y7,E0=w7,c2=ty.Stream,_7="    ";function b7(n,e){typeof e!="object"&&(e={indent:e});var t=e.stream?new c2:null,r="",i=!1,o=e.indent?e.indent===!0?_7:e.indent:"",a=!0;function u(y){a?qt.nextTick(y):y()}function c(y,p){if(p!==void 0&&(r+=p),y&&!i&&(t=t||new c2,i=!0),y&&i){var E=r;u(function(){t.emit("data",E)}),r=""}}function h(y,p){hy(c,nm(y,o,o?1:0),p)}function m(){if(t){var y=r;u(function(){t.emit("data",y),t.emit("end"),t.readable=!1,t.emit("close")})}}function g(y){var p=y.encoding||"UTF-8",E={version:"1.0",encoding:p};y.standalone&&(E.standalone=y.standalone),h({"?xml":{_attr:E}}),r=r.replace("/>","?>")}return u(function(){a=!1}),e.declaration&&g(e.declaration),n&&n.forEach?n.forEach(function(y,p){var E;p+1===n.length&&(E=m),h(y,E)}):h(n,m),t?(t.readable=!0,t):r}function S7(){var n=Array.prototype.slice.call(arguments),e={_elem:nm(n)};return e.push=function(t){if(!this.append)throw new Error("not assigned to a parent!");var r=this,i=this._elem.indent;hy(this.append,nm(t,i,this._elem.icount+(i?1:0)),function(){r.append(!0)})},e.close=function(t){t!==void 0&&this.push(t),this.end&&this.end()},e}function x7(n,e){return new Array(e||0).join(n||"")}function nm(n,e,t){t=t||0;var r=x7(e,t),i,o=n,a=!1;if(typeof n=="object"){var u=Object.keys(n);if(i=u[0],o=n[i],o&&o._elem)return o._elem.name=i,o._elem.icount=t,o._elem.indent=e,o._elem.indents=r,o._elem.interrupt=o,o._elem}var c=[],h=[],m;function g(y){var p=Object.keys(y);p.forEach(function(E){c.push(E7(E,y[E]))})}switch(typeof o){case"object":if(o===null)break;o._attr&&g(o._attr),o._cdata&&h.push(("<![CDATA["+o._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),o.forEach&&(m=!1,h.push(""),o.forEach(function(y){if(typeof y=="object"){var p=Object.keys(y)[0];p=="_attr"?g(y._attr):h.push(nm(y,e,t+1))}else h.pop(),m=!0,h.push(E0(y))}),m||h.push(""));break;default:h.push(E0(o))}return{name:i,interrupt:a,attributes:c,content:h,icount:t,indents:r,indent:e}}function hy(n,e,t){if(typeof e!="object")return n(!1,e);var r=e.interrupt?1:e.content.length;function i(){for(;e.content.length;){var a=e.content.shift();if(a!==void 0){if(o(a))return;hy(n,a)}}n(!1,(r>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!t?`
`:"")),t&&t()}function o(a){return a.interrupt?(a.interrupt.append=n,a.interrupt.end=i,a.interrupt=!1,n(!0),!0):!1}if(n(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(r?e.name?">":"":e.name?"/>":"")+(e.indent&&r>1?`
`:"")),!r)return n(!1,e.indent?`
`:"");o(e)||i()}function E7(n,e){return n+'="'+E0(e)+'"'}tm.exports=b7;tm.exports.element=tm.exports.Element=S7;var A7=tm.exports;const lr=jx(A7),f2=0,h2=32,N7=32,I7=(n,e)=>{const t=e.replace(/-/g,"");if(t.length!==N7)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const a=n.slice(f2,h2).map((c,h)=>c^i[h%i.length]);return Buffer.concat([n.slice(0,f2),a,n.slice(h2)])};class C7{format(e,t={stack:[]}){const r=e.prepForXml(t);if(r)return r;throw Error("XMLComponent did not format correctly")}}class k7{replace(e,t,r){let i=e;return t.forEach((o,a)=>{i=i.replace(new RegExp(`{${o.fileName}}`,"g"),(r+a).toString())}),i}getMediaData(e,t){return t.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class T7{replace(e,t){let r=e;for(const i of t)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class P7{constructor(){Qe(this,"formatter"),Qe(this,"imageReplacer"),Qe(this,"numberingReplacer"),this.formatter=new C7,this.imageReplacer=new k7,this.numberingReplacer=new T7}compile(e,t){const r=new g7,i=this.xmlifyFile(e,t),o=new Map(Object.entries(i));for(const[,a]of o)if(Array.isArray(a))for(const u of a)r.file(u.path,u.data);else r.file(a.path,a.data);for(const{stream:a,fileName:u}of e.Media.Array)r.file(`word/media/${u}`,a);for(const{data:a,name:u,fontKey:c}of e.FontTable.fontOptionsWithKey){const[h]=u.split(".");r.file(`word/fonts/${h}.odttf`,I7(a,c))}return r}xmlifyFile(e,t){const r=e.Document.Relationships.RelationshipCount+1,i=lr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(o.forEach((a,u)=>{e.Document.Relationships.createRelationship(r+u,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${a.fileName}`)}),lr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const a=this.imageReplacer.replace(i,o,r);return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const a=lr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:lr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:lr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:lr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((a,u)=>{const c=lr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((m,g)=>{a.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:lr(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${u+1}.xml.rels`}}),FooterRelationships:e.Footers.map((a,u)=>{const c=lr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(c,e.Media).forEach((m,g)=>{a.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:lr(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${u+1}.xml.rels`}}),Headers:e.Headers.map((a,u)=>{const c=lr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),h=this.imageReplacer.getMediaData(c,e.Media),m=this.imageReplacer.replace(c,h,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/header${u+1}.xml`}}),Footers:e.Footers.map((a,u)=>{const c=lr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),h=this.imageReplacer.getMediaData(c,e.Media),m=this.imageReplacer.replace(c,h,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/footer${u+1}.xml`}}),ContentTypes:{data:lr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:lr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:lr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:lr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:lr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:lr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:lr(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:lr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:lr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const L7={WITH_2_BLANKS:"  "},Ah=n=>n===!0?L7.WITH_2_BLANKS:n===!1?void 0:n;class FE{static toString(e,t){return Zd(this,null,function*(){return yield this.compiler.compile(e,Ah(t)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,t){return Zd(this,null,function*(){return yield this.compiler.compile(e,Ah(t)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,t){return Zd(this,null,function*(){return yield this.compiler.compile(e,Ah(t)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,t){return Zd(this,null,function*(){return yield this.compiler.compile(e,Ah(t)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,t){const r=new ty.Stream;return this.compiler.compile(e,Ah(t)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{r.emit("data",o),r.emit("end")}),r}}Qe(FE,"compiler",new P7);var Sp={exports:{}},R7=Sp.exports,d2;function O7(){return d2||(d2=1,function(n,e){(function(t,r){r()})(R7,function(){function t(h,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,m,g){var y=new XMLHttpRequest;y.open("GET",h),y.responseType="blob",y.onload=function(){c(y.response,m,g)},y.onerror=function(){console.error("could not download file")},y.send()}function i(h){var m=new XMLHttpRequest;m.open("HEAD",h,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function o(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(m)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Gd=="object"&&Gd.global===Gd?Gd:void 0,u=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(h,m,g){var y=a.URL||a.webkitURL,p=document.createElement("a");m=m||h.name||"download",p.download=m,p.rel="noopener",typeof h=="string"?(p.href=h,p.origin===location.origin?o(p):i(p.href)?r(h,m,g):o(p,p.target="_blank")):(p.href=y.createObjectURL(h),setTimeout(function(){y.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(h,m,g){if(m=m||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,g),m);else if(i(h))r(h,m,g);else{var y=document.createElement("a");y.href=h,y.target="_blank",setTimeout(function(){o(y)})}}:function(h,m,g,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof h=="string")return r(h,m,g);var p=h.type==="application/octet-stream",E=/constructor/i.test(a.HTMLElement)||a.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||p&&E||u)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var j=k.result;j=S?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=j:location=j,y=null},k.readAsDataURL(h)}else{var _=a.URL||a.webkitURL,T=_.createObjectURL(h);y?y.location=T:location.href=T,y=null,setTimeout(function(){_.revokeObjectURL(T)},4e4)}});a.saveAs=c.saveAs=c,n.exports=c})}(Sp)),Sp.exports}var p2=O7();const F7="modulepreload",D7=function(n){return"/KN-web/"+n},m2={},A0=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=D7(c),c in m2)return;m2[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":F7,h||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),h)return new Promise((y,p)=>{g.addEventListener("load",y),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function wn(n){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(n)}var di=Uint8Array,ds=Uint16Array,dy=Int32Array,Pm=new di([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lm=new di([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N0=new di([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DE=function(n,e){for(var t=new ds(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new dy(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},ME=DE(Pm,2),jE=ME.b,I0=ME.r;jE[28]=258,I0[258]=28;var BE=DE(Lm,0),M7=BE.b,g2=BE.r,C0=new ds(32768);for(var jn=0;jn<32768;++jn){var Gl=(jn&43690)>>1|(jn&21845)<<1;Gl=(Gl&52428)>>2|(Gl&13107)<<2,Gl=(Gl&61680)>>4|(Gl&3855)<<4,C0[jn]=((Gl&65280)>>8|(Gl&255)<<8)>>1}var ea=function(n,e,t){for(var r=n.length,i=0,o=new ds(e);i<r;++i)n[i]&&++o[n[i]-1];var a=new ds(e);for(i=1;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var u;if(t){u=new ds(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],m=e-n[i],g=a[n[i]-1]++<<m,y=g|(1<<m)-1;g<=y;++g)u[C0[g]>>c]=h}else for(u=new ds(r),i=0;i<r;++i)n[i]&&(u[i]=C0[a[n[i]-1]++]>>15-n[i]);return u},lu=new di(288);for(var jn=0;jn<144;++jn)lu[jn]=8;for(var jn=144;jn<256;++jn)lu[jn]=9;for(var jn=256;jn<280;++jn)lu[jn]=7;for(var jn=280;jn<288;++jn)lu[jn]=8;var Jh=new di(32);for(var jn=0;jn<32;++jn)Jh[jn]=5;var j7=ea(lu,9,0),B7=ea(lu,9,1),U7=ea(Jh,5,0),z7=ea(Jh,5,1),D1=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},oo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},M1=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},py=function(n){return(n+7)/8|0},UE=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new di(n.subarray(e,t))},q7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lo=function(n,e,t){var r=new Error(e||q7[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,lo),!t)throw r;return r},W7=function(n,e,t,r){var i=n.length,o=0;if(!i||e.f&&!e.l)return t||new di(0);var a=!t,u=a||e.i!=2,c=e.i;a&&(t=new di(i*3));var h=function(V){var ie=t.length;if(V>ie){var _e=new di(Math.max(ie*2,V));_e.set(t),t=_e}},m=e.f||0,g=e.p||0,y=e.b||0,p=e.l,E=e.d,S=e.m,k=e.n,_=i*8;do{if(!p){m=oo(n,g,1);var T=oo(n,g+1,3);if(g+=3,T)if(T==1)p=B7,E=z7,S=9,k=5;else if(T==2){var we=oo(n,g,31)+257,ce=oo(n,g+10,15)+4,oe=we+oo(n,g+5,31)+1;g+=14;for(var z=new di(oe),Ee=new di(19),Q=0;Q<ce;++Q)Ee[N0[Q]]=oo(n,g+Q*3,7);g+=ce*3;for(var B=D1(Ee),ee=(1<<B)-1,F=ea(Ee,B,1),Q=0;Q<oe;){var me=F[oo(n,g,ee)];g+=me&15;var j=me>>4;if(j<16)z[Q++]=j;else{var Ne=0,pe=0;for(j==16?(pe=3+oo(n,g,3),g+=2,Ne=z[Q-1]):j==17?(pe=3+oo(n,g,7),g+=3):j==18&&(pe=11+oo(n,g,127),g+=7);pe--;)z[Q++]=Ne}}var ye=z.subarray(0,we),de=z.subarray(we);S=D1(ye),k=D1(de),p=ea(ye,S,1),E=ea(de,k,1)}else lo(1);else{var j=py(g)+4,H=n[j-4]|n[j-3]<<8,X=j+H;if(X>i){c&&lo(0);break}u&&h(y+H),t.set(n.subarray(j,X),y),e.b=y+=H,e.p=g=X*8,e.f=m;continue}if(g>_){c&&lo(0);break}}u&&h(y+131072);for(var xe=(1<<S)-1,G=(1<<k)-1,N=g;;N=g){var Ne=p[M1(n,g)&xe],q=Ne>>4;if(g+=Ne&15,g>_){c&&lo(0);break}if(Ne||lo(2),q<256)t[y++]=q;else if(q==256){N=g,p=null;break}else{var W=q-254;if(q>264){var Q=q-257,ne=Pm[Q];W=oo(n,g,(1<<ne)-1)+jE[Q],g+=ne}var K=E[M1(n,g)&G],R=K>>4;K||lo(3),g+=K&15;var de=M7[R];if(R>3){var ne=Lm[R];de+=M1(n,g)&(1<<ne)-1,g+=ne}if(g>_){c&&lo(0);break}u&&h(y+131072);var L=y+W;if(y<de){var J=o-de,le=Math.min(de,L);for(J+y<0&&lo(3);y<le;++y)t[y]=r[J+y]}for(;y<L;++y)t[y]=t[y-de]}}e.l=p,e.p=N,e.b=y,e.f=m,p&&(m=1,e.m=S,e.d=E,e.n=k)}while(!m);return y!=t.length&&a?UE(t,0,y):t.subarray(0,y)},Ba=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Nh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},j1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:qE,l:0};if(i==1){var a=new di(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(X,we){return X.f-we.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],h=0,m=1,g=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};m!=i-1;)u=t[t[h].f<t[g].f?h++:g++],c=t[h!=m&&t[h].f<t[g].f?h++:g++],t[m++]={s:-1,f:u.f+c.f,l:u,r:c};for(var y=o[0].s,r=1;r<i;++r)o[r].s>y&&(y=o[r].s);var p=new ds(y+1),E=k0(t[m-1],p,0);if(E>e){var r=0,S=0,k=E-e,_=1<<k;for(o.sort(function(we,ce){return p[ce.s]-p[we.s]||we.f-ce.f});r<i;++r){var T=o[r].s;if(p[T]>e)S+=_-(1<<E-p[T]),p[T]=e;else break}for(S>>=k;S>0;){var j=o[r].s;p[j]<e?S-=1<<e-p[j]++-1:++r}for(;r>=0&&S;--r){var H=o[r].s;p[H]==e&&(--p[H],++S)}E=e}return{t:new di(p),l:E}},k0=function(n,e,t){return n.s==-1?Math.max(k0(n.l,e,t+1),k0(n.r,e,t+1)):e[n.s]=t},v2=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ds(++e),r=0,i=n[0],o=1,a=function(c){t[r++]=c},u=1;u<=e;++u)if(n[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=n[u]}return{c:t.subarray(0,r),n:e}},Ih=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},zE=function(n,e,t){var r=t.length,i=py(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},y2=function(n,e,t,r,i,o,a,u,c,h,m){Ba(e,m++,t),++i[256];for(var g=j1(i,15),y=g.t,p=g.l,E=j1(o,15),S=E.t,k=E.l,_=v2(y),T=_.c,j=_.n,H=v2(S),X=H.c,we=H.n,ce=new ds(19),oe=0;oe<T.length;++oe)++ce[T[oe]&31];for(var oe=0;oe<X.length;++oe)++ce[X[oe]&31];for(var z=j1(ce,7),Ee=z.t,Q=z.l,B=19;B>4&&!Ee[N0[B-1]];--B);var ee=h+5<<3,F=Ih(i,lu)+Ih(o,Jh)+a,me=Ih(i,y)+Ih(o,S)+a+14+3*B+Ih(ce,Ee)+2*ce[16]+3*ce[17]+7*ce[18];if(c>=0&&ee<=F&&ee<=me)return zE(e,m,n.subarray(c,c+h));var Ne,pe,ye,de;if(Ba(e,m,1+(me<F)),m+=2,me<F){Ne=ea(y,p,0),pe=y,ye=ea(S,k,0),de=S;var xe=ea(Ee,Q,0);Ba(e,m,j-257),Ba(e,m+5,we-1),Ba(e,m+10,B-4),m+=14;for(var oe=0;oe<B;++oe)Ba(e,m+3*oe,Ee[N0[oe]]);m+=3*B;for(var G=[T,X],N=0;N<2;++N)for(var q=G[N],oe=0;oe<q.length;++oe){var W=q[oe]&31;Ba(e,m,xe[W]),m+=Ee[W],W>15&&(Ba(e,m,q[oe]>>5&127),m+=q[oe]>>12)}}else Ne=j7,pe=lu,ye=U7,de=Jh;for(var oe=0;oe<u;++oe){var ne=r[oe];if(ne>255){var W=ne>>18&31;Nh(e,m,Ne[W+257]),m+=pe[W+257],W>7&&(Ba(e,m,ne>>23&31),m+=Pm[W]);var K=ne&31;Nh(e,m,ye[K]),m+=de[K],K>3&&(Nh(e,m,ne>>5&8191),m+=Lm[K])}else Nh(e,m,Ne[ne]),m+=pe[ne]}return Nh(e,m,Ne[256]),m+pe[256]},H7=new dy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qE=new di(0),V7=function(n,e,t,r,i,o){var a=o.z||n.length,u=new di(r+a+5*(1+Math.ceil(a/7e3))+i),c=u.subarray(r,u.length-i),h=o.l,m=(o.r||0)&7;if(e){m&&(c[0]=o.r>>3);for(var g=H7[e-1],y=g>>13,p=g&8191,E=(1<<t)-1,S=o.p||new ds(32768),k=o.h||new ds(E+1),_=Math.ceil(t/3),T=2*_,j=function(D){return(n[D]^n[D+1]<<_^n[D+2]<<T)&E},H=new dy(25e3),X=new ds(288),we=new ds(32),ce=0,oe=0,z=o.i||0,Ee=0,Q=o.w||0,B=0;z+2<a;++z){var ee=j(z),F=z&32767,me=k[ee];if(S[F]=me,k[ee]=F,Q<=z){var Ne=a-z;if((ce>7e3||Ee>24576)&&(Ne>423||!h)){m=y2(n,c,0,H,X,we,oe,Ee,B,z-B,m),Ee=ce=oe=0,B=z;for(var pe=0;pe<286;++pe)X[pe]=0;for(var pe=0;pe<30;++pe)we[pe]=0}var ye=2,de=0,xe=p,G=F-me&32767;if(Ne>2&&ee==j(z-G))for(var N=Math.min(y,Ne)-1,q=Math.min(32767,z),W=Math.min(258,Ne);G<=q&&--xe&&F!=me;){if(n[z+ye]==n[z+ye-G]){for(var ne=0;ne<W&&n[z+ne]==n[z+ne-G];++ne);if(ne>ye){if(ye=ne,de=G,ne>N)break;for(var K=Math.min(G,ne-2),R=0,pe=0;pe<K;++pe){var L=z-G+pe&32767,J=S[L],le=L-J&32767;le>R&&(R=le,me=L)}}}F=me,me=S[F],G+=F-me&32767}if(de){H[Ee++]=268435456|I0[ye]<<18|g2[de];var V=I0[ye]&31,ie=g2[de]&31;oe+=Pm[V]+Lm[ie],++X[257+V],++we[ie],Q=z+ye,++ce}else H[Ee++]=n[z],++X[n[z]]}}for(z=Math.max(z,Q);z<a;++z)H[Ee++]=n[z],++X[n[z]];m=y2(n,c,h,H,X,we,oe,Ee,B,z-B,m),h||(o.r=m&7|c[m/8|0]<<3,m-=7,o.h=k,o.p=S,o.i=z,o.w=Q)}else{for(var z=o.w||0;z<a+h;z+=65535){var _e=z+65535;_e>=a&&(c[m/8|0]=h,_e=a),m=zE(c,m+1,n.subarray(z,_e))}o.i=a}return UE(u,0,r+py(m)+i)},WE=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,a=0;a!=o;){for(var u=Math.min(a+2655,o);a<u;++a)i+=r+=t[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},$7=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),a=new di(o.length+n.length);a.set(o),a.set(n,o.length),n=a,i.w=o.length}return V7(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},HE=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},G7=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=WE();i.p(e.dictionary),HE(n,2,i.d())}},K7=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&lo(6,"invalid zlib data"),(n[1]>>5&1)==1&&lo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function T0(n,e){e||(e={});var t=WE();t.p(n);var r=$7(n,e,e.dictionary?6:2,4);return G7(r,e),HE(r,r.length-4,t.d()),r}function Y7(n,e){return W7(n.subarray(K7(n),-4),{i:2},e,e)}var X7=typeof TextDecoder<"u"&&new TextDecoder,J7=0;try{X7.decode(qE,{stream:!0}),J7=1}catch{}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function B1(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var En={log:B1,warn:function(n){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):B1.call(null,arguments))},error:function(n){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):B1(n))}};function U1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ju(r.response,e,t)},r.onerror=function(){En.error("could not download file")},r.send()}function w2(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function up(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Mh,P0,Ju=Tt.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Tt.URL||Tt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?w2(i.href)?U1(n,e,t):up(i,i.target="_blank"):up(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){up(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(w2(n))U1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){up(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:wn(o)!=="object"&&(En.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return U1(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(Tt.HTMLElement)||Tt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=a?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},u.readAsDataURL(n)}else{var c=Tt.URL||Tt.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function VE(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,a=i.exec(n);a&&(e=o(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function z1(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=li(t,r,i,o,e[0],7,-680876936),o=li(o,t,r,i,e[1],12,-389564586),i=li(i,o,t,r,e[2],17,606105819),r=li(r,i,o,t,e[3],22,-1044525330),t=li(t,r,i,o,e[4],7,-176418897),o=li(o,t,r,i,e[5],12,1200080426),i=li(i,o,t,r,e[6],17,-1473231341),r=li(r,i,o,t,e[7],22,-45705983),t=li(t,r,i,o,e[8],7,1770035416),o=li(o,t,r,i,e[9],12,-1958414417),i=li(i,o,t,r,e[10],17,-42063),r=li(r,i,o,t,e[11],22,-1990404162),t=li(t,r,i,o,e[12],7,1804603682),o=li(o,t,r,i,e[13],12,-40341101),i=li(i,o,t,r,e[14],17,-1502002290),t=ui(t,r=li(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=ui(o,t,r,i,e[6],9,-1069501632),i=ui(i,o,t,r,e[11],14,643717713),r=ui(r,i,o,t,e[0],20,-373897302),t=ui(t,r,i,o,e[5],5,-701558691),o=ui(o,t,r,i,e[10],9,38016083),i=ui(i,o,t,r,e[15],14,-660478335),r=ui(r,i,o,t,e[4],20,-405537848),t=ui(t,r,i,o,e[9],5,568446438),o=ui(o,t,r,i,e[14],9,-1019803690),i=ui(i,o,t,r,e[3],14,-187363961),r=ui(r,i,o,t,e[8],20,1163531501),t=ui(t,r,i,o,e[13],5,-1444681467),o=ui(o,t,r,i,e[2],9,-51403784),i=ui(i,o,t,r,e[7],14,1735328473),t=ci(t,r=ui(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=ci(o,t,r,i,e[8],11,-2022574463),i=ci(i,o,t,r,e[11],16,1839030562),r=ci(r,i,o,t,e[14],23,-35309556),t=ci(t,r,i,o,e[1],4,-1530992060),o=ci(o,t,r,i,e[4],11,1272893353),i=ci(i,o,t,r,e[7],16,-155497632),r=ci(r,i,o,t,e[10],23,-1094730640),t=ci(t,r,i,o,e[13],4,681279174),o=ci(o,t,r,i,e[0],11,-358537222),i=ci(i,o,t,r,e[3],16,-722521979),r=ci(r,i,o,t,e[6],23,76029189),t=ci(t,r,i,o,e[9],4,-640364487),o=ci(o,t,r,i,e[12],11,-421815835),i=ci(i,o,t,r,e[15],16,530742520),t=fi(t,r=ci(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=fi(o,t,r,i,e[7],10,1126891415),i=fi(i,o,t,r,e[14],15,-1416354905),r=fi(r,i,o,t,e[5],21,-57434055),t=fi(t,r,i,o,e[12],6,1700485571),o=fi(o,t,r,i,e[3],10,-1894986606),i=fi(i,o,t,r,e[10],15,-1051523),r=fi(r,i,o,t,e[1],21,-2054922799),t=fi(t,r,i,o,e[8],6,1873313359),o=fi(o,t,r,i,e[15],10,-30611744),i=fi(i,o,t,r,e[6],15,-1560198380),r=fi(r,i,o,t,e[13],21,1309151649),t=fi(t,r,i,o,e[4],6,-145523070),o=fi(o,t,r,i,e[11],10,-1120210379),i=fi(i,o,t,r,e[2],15,718787259),r=fi(r,i,o,t,e[9],21,-343485551),n[0]=Zl(t,n[0]),n[1]=Zl(r,n[1]),n[2]=Zl(i,n[2]),n[3]=Zl(o,n[3])}function Rm(n,e,t,r,i,o){return e=Zl(Zl(e,n),Zl(r,o)),Zl(e<<i|e>>>32-i,t)}function li(n,e,t,r,i,o,a){return Rm(e&t|~e&r,n,e,i,o,a)}function ui(n,e,t,r,i,o,a){return Rm(e&r|t&~r,n,e,i,o,a)}function ci(n,e,t,r,i,o,a){return Rm(e^t^r,n,e,i,o,a)}function fi(n,e,t,r,i,o,a){return Rm(t^(e|~r),n,e,i,o,a)}function $E(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)z1(r,Q7(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(z1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,z1(r,i),r}function Q7(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Mh=Tt.atob.bind(Tt),P0=Tt.btoa.bind(Tt);var _2="0123456789abcdef".split("");function Z7(n){for(var e="",t=0;t<4;t++)e+=_2[n>>8*t+4&15]+_2[n>>8*t&15];return e}function eD(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function L0(n){return $E(n).map(eD).join("")}var tD=function(n){for(var e=0;e<n.length;e++)n[e]=Z7(n[e]);return n.join("")}($E("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zl(n,e){if(tD){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function R0(n,e){var t,r,i,o;if(n!==t){for(var a=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var m=u[c];h=(h+m+a.charCodeAt(c))%256,u[c]=u[h],u[h]=m}t=n,r=u}else u=r;var g=e.length,y=0,p=0,E="";for(c=0;c<g;c++)p=(p+(m=u[y=(y+1)%256]))%256,u[y]=u[p],u[p]=m,a=u[(u[y]+u[p])%256],E+=String.fromCharCode(e.charCodeAt(c)^a);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var b2={print:4,modify:8,copy:16,"annot-forms":32};function of(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(b2.perm!==void 0)throw new Error("Invalid permission: "+u);i+=b2[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=L0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=R0(this.encryptionKey,this.padding)}function af(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function S2(n){if(wn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var a=e[t][o];try{a[0].apply(n,r)}catch(u){Tt.console&&En.error("jsPDF PubSub Error",u.message,u)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function rm(n){if(!(this instanceof rm))return new rm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function GE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Qu(n,e,t,r,i){if(!(this instanceof Qu))return new Qu(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,GE.call(this,r,i)}function cf(n,e,t,r,i){if(!(this instanceof cf))return new cf(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,GE.call(this,r,i)}function kt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],u=1,c=16,h="S",m=null;wn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(m=n.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),a=n.filters||(o===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=S2;var E="1.3",S=p.__private__.getPdfVersion=function(){return E};p.__private__.setPdfVersion=function(A){E=A};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return k};var _=p.__private__.getPageFormat=function(A){return k[A]};i=i||"a4";var T={COMPAT:"compat",ADVANCED:"advanced"},j=T.COMPAT;function H(){this.saveGraphicsState(),I(new xt(ot,0,0,-ot,0,Lo()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),h="n",j=T.ADVANCED}function X(){this.restoreGraphicsState(),h="S",j=T.COMPAT}var we=p.__private__.combineFontStyleAndFontWeight=function(A,Y){if(A=="bold"&&Y=="normal"||A=="bold"&&Y==400||A=="normal"&&Y=="italic"||A=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(A=Y==400||Y==="normal"?A==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||A!=="normal"?(Y==700?"bold":Y)+""+A:"bold"),A};p.advancedAPI=function(A){var Y=j===T.COMPAT;return Y&&H.call(this),typeof A!="function"||(A(this),Y&&X.call(this)),this},p.compatAPI=function(A){var Y=j===T.ADVANCED;return Y&&X.call(this),typeof A!="function"||(A(this),Y&&H.call(this)),this},p.isAdvancedAPI=function(){return j===T.ADVANCED};var ce,oe=function(A){if(j!==T.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=p.roundToPrecision=p.__private__.roundToPrecision=function(A,Y){var Se=e||Y;if(isNaN(A)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(Se).replace(/0+$/,"")};ce=p.hpf=p.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return z(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return z(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return z(A,16)};var Ee=p.f2=p.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return z(A,2)},Q=p.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return z(A,3)},B=p.scale=p.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return j===T.COMPAT?A*ot:j===T.ADVANCED?A:void 0},ee=function(A){return j===T.COMPAT?Lo()-A:j===T.ADVANCED?A:void 0},F=function(A){return B(ee(A))};p.__private__.setPrecision=p.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var me,Ne="00000000000000000000000000000000",pe=p.__private__.getFileId=function(){return Ne},ye=p.__private__.setFileId=function(A){return Ne=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():Ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ln=new of(m.userPermissions,m.userPassword,m.ownerPassword,Ne)),Ne};p.setFileId=function(A){return ye(A),this},p.getFileId=function(){return pe()};var de=p.__private__.convertDateToPDFDate=function(A){var Y=A.getTimezoneOffset(),Se=Y<0?"+":"-",Ie=Math.floor(Math.abs(Y/60)),Fe=Math.abs(Y%60),$e=[Se,W(Ie),"'",W(Fe),"'"].join("");return["D:",A.getFullYear(),W(A.getMonth()+1),W(A.getDate()),W(A.getHours()),W(A.getMinutes()),W(A.getSeconds()),$e].join("")},xe=p.__private__.convertPDFDateToDate=function(A){var Y=parseInt(A.substr(2,4),10),Se=parseInt(A.substr(6,2),10)-1,Ie=parseInt(A.substr(8,2),10),Fe=parseInt(A.substr(10,2),10),$e=parseInt(A.substr(12,2),10),et=parseInt(A.substr(14,2),10);return new Date(Y,Se,Ie,Fe,$e,et,0)},G=p.__private__.setCreationDate=function(A){var Y;if(A===void 0&&(A=new Date),A instanceof Date)Y=de(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=A}return me=Y},N=p.__private__.getCreationDate=function(A){var Y=me;return A==="jsDate"&&(Y=xe(me)),Y};p.setCreationDate=function(A){return G(A),this},p.getCreationDate=function(A){return N(A)};var q,W=p.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=p.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},K=0,R=[],L=[],J=0,le=[],V=[],ie=!1,_e=L,D=function(){K=0,J=0,L=[],R=[],le=[],Ms=Tn(),es=Tn()};p.__private__.setCustomOutputDestination=function(A){ie=!0,_e=A};var se=function(A){ie||(_e=A)};p.__private__.resetCustomOutputDestination=function(){ie=!1,_e=L};var I=p.__private__.out=function(A){return A=A.toString(),J+=A.length+1,_e.push(A),_e},b=p.__private__.write=function(A){return I(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},x=p.__private__.getArrayBuffer=function(A){for(var Y=A.length,Se=new ArrayBuffer(Y),Ie=new Uint8Array(Se);Y--;)Ie[Y]=A.charCodeAt(Y);return Se},O=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return O};var ae=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(A){return ae=j===T.ADVANCED?A/ot:A,this};var ve,he=p.__private__.getFontSize=p.getFontSize=function(){return j===T.COMPAT?ae:ae*ot},Oe=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(A){return Oe=A,this},p.__private__.getR2L=p.getR2L=function(){return Oe};var qe,Ue=p.__private__.setZoomMode=function(A){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ve=A;else if(isNaN(A)){if(Y.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ve=A}else ve=parseInt(A,10)};p.__private__.getZoomMode=function(){return ve};var Xe,st=p.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');qe=A};p.__private__.getPageMode=function(){return qe};var ct=p.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Xe=A};p.__private__.getLayoutMode=function(){return Xe},p.__private__.setDisplayMode=p.setDisplayMode=function(A,Y,Se){return Ue(A),ct(Y),st(Se),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(A){if(Object.keys(mt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[A]},p.__private__.getDocumentProperties=function(){return mt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(A){for(var Y in mt)mt.hasOwnProperty(Y)&&A[Y]&&(mt[Y]=A[Y]);return this},p.__private__.setDocumentProperty=function(A,Y){if(Object.keys(mt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[A]=Y};var At,ot,Bn,bt,yr,Zt={},Wt={},jr=[],Yt={},Qi={},_n={},nr={},Gn=null,dn=0,Ot=[],en=new S2(p),_o=n.hotfixes||[],mr={},Ti={},Zi=[],xt=function A(Y,Se,Ie,Fe,$e,et){if(!(this instanceof A))return new A(Y,Se,Ie,Fe,$e,et);isNaN(Y)&&(Y=1),isNaN(Se)&&(Se=0),isNaN(Ie)&&(Ie=0),isNaN(Fe)&&(Fe=1),isNaN($e)&&($e=0),isNaN(et)&&(et=0),this._matrix=[Y,Se,Ie,Fe,$e,et]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ce).join(A)},xt.prototype.multiply=function(A){var Y=A.sx*this.sx+A.shy*this.shx,Se=A.sx*this.shy+A.shy*this.sy,Ie=A.shx*this.sx+A.sy*this.shx,Fe=A.shx*this.shy+A.sy*this.sy,$e=A.tx*this.sx+A.ty*this.shx+this.tx,et=A.tx*this.shy+A.ty*this.sy+this.ty;return new xt(Y,Se,Ie,Fe,$e,et)},xt.prototype.decompose=function(){var A=this.sx,Y=this.shy,Se=this.shx,Ie=this.sy,Fe=this.tx,$e=this.ty,et=Math.sqrt(A*A+Y*Y),ht=(A/=et)*Se+(Y/=et)*Ie;Se-=A*ht,Ie-=Y*ht;var St=Math.sqrt(Se*Se+Ie*Ie);return ht/=St,A*(Ie/=St)<Y*(Se/=St)&&(A=-A,Y=-Y,ht=-ht,et=-et),{scale:new xt(et,0,0,St,0,0),translate:new xt(1,0,0,1,Fe,$e),rotate:new xt(A,Y,-Y,A,0,0),skew:new xt(1,0,ht,1,0,0)}},xt.prototype.toString=function(A){return this.join(" ")},xt.prototype.inversed=function(){var A=this.sx,Y=this.shy,Se=this.shx,Ie=this.sy,Fe=this.tx,$e=this.ty,et=1/(A*Ie-Y*Se),ht=Ie*et,St=-Y*et,Bt=-Se*et,Mt=A*et;return new xt(ht,St,Bt,Mt,-ht*Fe-Bt*$e,-St*Fe-Mt*$e)},xt.prototype.applyToPoint=function(A){var Y=A.x*this.sx+A.y*this.shx+this.tx,Se=A.x*this.shy+A.y*this.sy+this.ty;return new _s(Y,Se)},xt.prototype.applyToRectangle=function(A){var Y=this.applyToPoint(A),Se=this.applyToPoint(new _s(A.x+A.w,A.y+A.h));return new Po(Y.x,Y.y,Se.x-Y.x,Se.y-Y.y)},xt.prototype.clone=function(){var A=this.sx,Y=this.shy,Se=this.shx,Ie=this.sy,Fe=this.tx,$e=this.ty;return new xt(A,Y,Se,Ie,Fe,$e)},p.Matrix=xt;var gi=p.matrixMult=function(A,Y){return Y.multiply(A)},Yr=new xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Yr;var Xr=function(A,Y){if(!Qi[A]){var Se=(Y instanceof Qu?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);Y.id=Se,Qi[A]=Se,Yt[Se]=Y,en.publish("addPattern",Y)}};p.ShadingPattern=Qu,p.TilingPattern=cf,p.addShadingPattern=function(A,Y){return oe("addShadingPattern()"),Xr(A,Y),this},p.beginTilingPattern=function(A){oe("beginTilingPattern()"),Tc(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},p.endTilingPattern=function(A,Y){oe("endTilingPattern()"),Y.stream=V[q].join(`
`),Xr(A,Y),en.publish("endTilingPattern",Y),Zi.pop().restore()};var kn=p.__private__.newObject=function(){var A=Tn();return Ar(A,!0),A},Tn=p.__private__.newObjectDeferred=function(){return K++,R[K]=function(){return J},K},Ar=function(A,Y){return Y=typeof Y=="boolean"&&Y,R[A]=J,Y&&I(A+" 0 obj"),A},bo=p.__private__.newAdditionalObject=function(){var A={objId:Tn(),content:""};return le.push(A),A},Ms=Tn(),es=Tn(),ts=p.__private__.decodeColorString=function(A){var Y=A.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var Se=parseFloat(Y[0]);Y=[Se,Se,Se,"r"]}for(var Ie="#",Fe=0;Fe<3;Fe++)Ie+=("0"+Math.floor(255*parseFloat(Y[Fe])).toString(16)).slice(-2);return Ie},wr=p.__private__.encodeColorString=function(A){var Y;typeof A=="string"&&(A={ch1:A});var Se=A.ch1,Ie=A.ch2,Fe=A.ch3,$e=A.ch4,et=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var ht=new VE(Se);if(ht.ok)Se=ht.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var St=parseInt(Se.substr(1),16);Se=St>>16&255,Ie=St>>8&255,Fe=255&St}if(Ie===void 0||$e===void 0&&Se===Ie&&Ie===Fe)if(typeof Se=="string")Y=Se+" "+et[0];else switch(A.precision){case 2:Y=Ee(Se/255)+" "+et[0];break;case 3:default:Y=Q(Se/255)+" "+et[0]}else if($e===void 0||wn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return Y=["1.","1.","1.",et[1]].join(" ");if(typeof Se=="string")Y=[Se,Ie,Fe,et[1]].join(" ");else switch(A.precision){case 2:Y=[Ee(Se/255),Ee(Ie/255),Ee(Fe/255),et[1]].join(" ");break;default:case 3:Y=[Q(Se/255),Q(Ie/255),Q(Fe/255),et[1]].join(" ")}}else if(typeof Se=="string")Y=[Se,Ie,Fe,$e,et[2]].join(" ");else switch(A.precision){case 2:Y=[Ee(Se),Ee(Ie),Ee(Fe),Ee($e),et[2]].join(" ");break;case 3:default:Y=[Q(Se),Q(Ie),Q(Fe),Q($e),et[2]].join(" ")}return Y},ns=p.__private__.getFilters=function(){return a},vi=p.__private__.putStream=function(A){var Y=(A=A||{}).data||"",Se=A.filters||ns(),Ie=A.alreadyAppliedFilters||[],Fe=A.addLength1||!1,$e=Y.length,et=A.objectId,ht=function(Nr){return Nr};if(m!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ht=Ln.encryptor(et,0));var St={};Se===!0&&(Se=["FlateEncode"]);var Bt=A.additionalKeyValues||[],Mt=(St=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(Y,Se):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(St.data.length!==0&&(Bt.push({key:"Length",value:St.data.length}),Fe===!0&&Bt.push({key:"Length1",value:$e})),Mt.length!=0)if(Mt.split("/").length-1==1)Bt.push({key:"Filter",value:Mt});else{Bt.push({key:"Filter",value:"["+Mt+"]"});for(var Gt=0;Gt<Bt.length;Gt+=1)if(Bt[Gt].key==="DecodeParms"){for(var Rn=[],Un=0;Un<St.reverseChain.split("/").length-1;Un+=1)Rn.push("null");Rn.push(Bt[Gt].value),Bt[Gt].value="["+Rn.join(" ")+"]"}}I("<<");for(var Kn=0;Kn<Bt.length;Kn++)I("/"+Bt[Kn].key+" "+Bt[Kn].value);I(">>"),St.data.length!==0&&(I("stream"),I(ht(St.data)),I("endstream"))},ms=p.__private__.putPage=function(A){var Y=A.number,Se=A.data,Ie=A.objId,Fe=A.contentsObjId;Ar(Ie,!0),I("<</Type /Page"),I("/Parent "+A.rootDictionaryObjId+" 0 R"),I("/Resources "+A.resourceDictionaryObjId+" 0 R"),I("/MediaBox ["+parseFloat(ce(A.mediaBox.bottomLeftX))+" "+parseFloat(ce(A.mediaBox.bottomLeftY))+" "+ce(A.mediaBox.topRightX)+" "+ce(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&I("/CropBox ["+ce(A.cropBox.bottomLeftX)+" "+ce(A.cropBox.bottomLeftY)+" "+ce(A.cropBox.topRightX)+" "+ce(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&I("/BleedBox ["+ce(A.bleedBox.bottomLeftX)+" "+ce(A.bleedBox.bottomLeftY)+" "+ce(A.bleedBox.topRightX)+" "+ce(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&I("/TrimBox ["+ce(A.trimBox.bottomLeftX)+" "+ce(A.trimBox.bottomLeftY)+" "+ce(A.trimBox.topRightX)+" "+ce(A.trimBox.topRightY)+"]"),A.artBox!==null&&I("/ArtBox ["+ce(A.artBox.bottomLeftX)+" "+ce(A.artBox.bottomLeftY)+" "+ce(A.artBox.topRightX)+" "+ce(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&I("/UserUnit "+A.userUnit),en.publish("putPage",{objId:Ie,pageContext:Ot[Y],pageNumber:Y,page:Se}),I("/Contents "+Fe+" 0 R"),I(">>"),I("endobj");var $e=Se.join(`
`);return j===T.ADVANCED&&($e+=`
Q`),Ar(Fe,!0),vi({data:$e,filters:ns(),objectId:Fe}),I("endobj"),Ie},So=p.__private__.putPages=function(){var A,Y,Se=[];for(A=1;A<=dn;A++)Ot[A].objId=Tn(),Ot[A].contentsObjId=Tn();for(A=1;A<=dn;A++)Se.push(ms({number:A,data:V[A],objId:Ot[A].objId,contentsObjId:Ot[A].contentsObjId,mediaBox:Ot[A].mediaBox,cropBox:Ot[A].cropBox,bleedBox:Ot[A].bleedBox,trimBox:Ot[A].trimBox,artBox:Ot[A].artBox,userUnit:Ot[A].userUnit,rootDictionaryObjId:Ms,resourceDictionaryObjId:es}));Ar(Ms,!0),I("<</Type /Pages");var Ie="/Kids [";for(Y=0;Y<dn;Y++)Ie+=Se[Y]+" 0 R ";I(Ie+"]"),I("/Count "+dn),I(">>"),I("endobj"),en.publish("postPutPages")},sa=function(A){en.publish("putFont",{font:A,out:I,newObject:kn,putStream:vi}),A.isAlreadyPutted!==!0&&(A.objectNumber=kn(),I("<<"),I("/Type /Font"),I("/BaseFont /"+af(A.postScriptName)),I("/Subtype /Type1"),typeof A.encoding=="string"&&I("/Encoding /"+A.encoding),I("/FirstChar 32"),I("/LastChar 255"),I(">>"),I("endobj"))},oa=function(){for(var A in Zt)Zt.hasOwnProperty(A)&&(g===!1||g===!0&&y.hasOwnProperty(A))&&sa(Zt[A])},aa=function(A){A.objectNumber=kn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[ce(A.x),ce(A.y),ce(A.x+A.width),ce(A.y+A.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var Se=A.pages[1].join(`
`);vi({data:Se,additionalKeyValues:Y,objectId:A.objectNumber}),I("endobj")},el=function(){for(var A in mr)mr.hasOwnProperty(A)&&aa(mr[A])},Sc=function(A,Y){var Se,Ie=[],Fe=1/(Y-1);for(Se=0;Se<1;Se+=Fe)Ie.push(Se);if(Ie.push(1),A[0].offset!=0){var $e={offset:0,color:A[0].color};A.unshift($e)}if(A[A.length-1].offset!=1){var et={offset:1,color:A[A.length-1].color};A.push(et)}for(var ht="",St=0,Bt=0;Bt<Ie.length;Bt++){for(Se=Ie[Bt];Se>A[St+1].offset;)St++;var Mt=A[St].offset,Gt=(Se-Mt)/(A[St+1].offset-Mt),Rn=A[St].color,Un=A[St+1].color;ht+=ne(Math.round((1-Gt)*Rn[0]+Gt*Un[0]).toString(16))+ne(Math.round((1-Gt)*Rn[1]+Gt*Un[1]).toString(16))+ne(Math.round((1-Gt)*Rn[2]+Gt*Un[2]).toString(16))}return ht.trim()},Pn=function(A,Y){Y||(Y=21);var Se=kn(),Ie=Sc(A.colors,Y),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+Y+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vi({data:Ie,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),I("endobj"),A.objectNumber=kn(),I("<< /ShadingType "+A.type),I("/ColorSpace /DeviceRGB");var $e="/Coords ["+ce(parseFloat(A.coords[0]))+" "+ce(parseFloat(A.coords[1]))+" ";A.type===2?$e+=ce(parseFloat(A.coords[2]))+" "+ce(parseFloat(A.coords[3])):$e+=ce(parseFloat(A.coords[2]))+" "+ce(parseFloat(A.coords[3]))+" "+ce(parseFloat(A.coords[4]))+" "+ce(parseFloat(A.coords[5])),I($e+="]"),A.matrix&&I("/Matrix ["+A.matrix.toString()+"]"),I("/Function "+Se+" 0 R"),I("/Extend [true true]"),I(">>"),I("endobj")},Kf=function(A,Y){var Se=Tn(),Ie=kn();Y.push({resourcesOid:Se,objectOid:Ie}),A.objectNumber=Ie;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+A.boundingBox.map(ce).join(" ")+"]"}),Fe.push({key:"XStep",value:ce(A.xStep)}),Fe.push({key:"YStep",value:ce(A.yStep)}),Fe.push({key:"Resources",value:Se+" 0 R"}),A.matrix&&Fe.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),vi({data:A.stream,additionalKeyValues:Fe,objectId:A.objectNumber}),I("endobj")},xo=function(A){var Y;for(Y in Yt)Yt.hasOwnProperty(Y)&&(Yt[Y]instanceof Qu?Pn(Yt[Y]):Yt[Y]instanceof cf&&Kf(Yt[Y],A))},mu=function(A){for(var Y in A.objectNumber=kn(),I("<<"),A)switch(Y){case"opacity":I("/ca "+Ee(A[Y]));break;case"stroke-opacity":I("/CA "+Ee(A[Y]))}I(">>"),I("endobj")},tl=function(){var A;for(A in _n)_n.hasOwnProperty(A)&&mu(_n[A])},gu=function(){for(var A in I("/XObject <<"),mr)mr.hasOwnProperty(A)&&mr[A].objectNumber>=0&&I("/"+A+" "+mr[A].objectNumber+" 0 R");en.publish("putXobjectDict"),I(">>")},xc=function(){Ln.oid=kn(),I("<<"),I("/Filter /Standard"),I("/V "+Ln.v),I("/R "+Ln.r),I("/U <"+Ln.toHexString(Ln.U)+">"),I("/O <"+Ln.toHexString(Ln.O)+">"),I("/P "+Ln.P),I(">>"),I("endobj")},la=function(){for(var A in I("/Font <<"),Zt)Zt.hasOwnProperty(A)&&(g===!1||g===!0&&y.hasOwnProperty(A))&&I("/"+A+" "+Zt[A].objectNumber+" 0 R");I(">>")},Pi=function(){if(Object.keys(Yt).length>0){for(var A in I("/Shading <<"),Yt)Yt.hasOwnProperty(A)&&Yt[A]instanceof Qu&&Yt[A].objectNumber>=0&&I("/"+A+" "+Yt[A].objectNumber+" 0 R");en.publish("putShadingPatternDict"),I(">>")}},nl=function(A){if(Object.keys(Yt).length>0){for(var Y in I("/Pattern <<"),Yt)Yt.hasOwnProperty(Y)&&Yt[Y]instanceof p.TilingPattern&&Yt[Y].objectNumber>=0&&Yt[Y].objectNumber<A&&I("/"+Y+" "+Yt[Y].objectNumber+" 0 R");en.publish("putTilingPatternDict"),I(">>")}},yi=function(){if(Object.keys(_n).length>0){var A;for(A in I("/ExtGState <<"),_n)_n.hasOwnProperty(A)&&_n[A].objectNumber>=0&&I("/"+A+" "+_n[A].objectNumber+" 0 R");en.publish("putGStateDict"),I(">>")}},Hn=function(A){Ar(A.resourcesOid,!0),I("<<"),I("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),la(),Pi(),nl(A.objectOid),yi(),gu(),I(">>"),I("endobj")},Ec=function(){var A=[];oa(),tl(),el(),xo(A),en.publish("putResources"),A.forEach(Hn),Hn({resourcesOid:es,objectOid:Number.MAX_SAFE_INTEGER}),en.publish("postPutResources")},Ac=function(){en.publish("putAdditionalObjects");for(var A=0;A<le.length;A++){var Y=le[A];Ar(Y.objId,!0),I(Y.content),I("endobj")}en.publish("postPutAdditionalObjects")},ua=function(A){Wt[A.fontName]=Wt[A.fontName]||{},Wt[A.fontName][A.fontStyle]=A.id},Eo=function(A,Y,Se,Ie,Fe){var $e={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:A,fontName:Y,fontStyle:Se,encoding:Ie,isStandardFont:Fe||!1,metadata:{}};return en.publish("addFont",{font:$e,instance:this}),Zt[$e.id]=$e,ua($e),$e.id},ca=function(A){for(var Y=0,Se=O.length;Y<Se;Y++){var Ie=Eo.call(this,A[Y][0],A[Y][1],A[Y][2],O[Y][3],!0);g===!1&&(y[Ie]=!0);var Fe=A[Y][0].split("-");ua({id:Ie,fontName:Fe[0],fontStyle:Fe[1]||""})}en.publish("addFonts",{fonts:Zt,dictionary:Wt})},Jr=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(Ie){var Y=Ie.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var Se="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!Tt.console)throw new Error(Se);Tt.console.error(Se,Ie),Tt.alert&&alert(Se)}},A.foo.bar=A,A.foo},rl=function(A,Y){var Se,Ie,Fe,$e,et,ht,St,Bt,Mt;if(Fe=(Y=Y||{}).sourceEncoding||"Unicode",et=Y.outputEncoding,(Y.autoencode||et)&&Zt[At].metadata&&Zt[At].metadata[Fe]&&Zt[At].metadata[Fe].encoding&&($e=Zt[At].metadata[Fe].encoding,!et&&Zt[At].encoding&&(et=Zt[At].encoding),!et&&$e.codePages&&(et=$e.codePages[0]),typeof et=="string"&&(et=$e[et]),et)){for(St=!1,ht=[],Se=0,Ie=A.length;Se<Ie;Se++)(Bt=et[A.charCodeAt(Se)])?ht.push(String.fromCharCode(Bt)):ht.push(A[Se]),ht[Se].charCodeAt(0)>>8&&(St=!0);A=ht.join("")}for(Se=A.length;St===void 0&&Se!==0;)A.charCodeAt(Se-1)>>8&&(St=!0),Se--;if(!St)return A;for(ht=Y.noBOM?[]:[254,255],Se=0,Ie=A.length;Se<Ie;Se++){if((Mt=(Bt=A.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(Mt),ht.push(Bt-(Mt<<8))}return String.fromCharCode.apply(void 0,ht)},Qr=p.__private__.pdfEscape=p.pdfEscape=function(A,Y){return rl(A,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fa=p.__private__.beginPage=function(A){V[++dn]=[],Ot[dn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Ao(dn),se(V[q])},vu=function(A,Y){var Se,Ie,Fe;switch(t=Y||t,typeof A=="string"&&(Se=_(A.toLowerCase()),Array.isArray(Se)&&(Ie=Se[0],Fe=Se[1])),Array.isArray(A)&&(Ie=A[0]*ot,Fe=A[1]*ot),isNaN(Ie)&&(Ie=i[0],Fe=i[1]),(Ie>14400||Fe>14400)&&(En.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Fe=Math.min(14400,Fe)),i=[Ie,Fe],t.substr(0,1)){case"l":Fe>Ie&&(i=[Fe,Ie]);break;case"p":Ie>Fe&&(i=[Fe,Ie])}fa(i),ga(bu),I(Zr),xu!==0&&I(xu+" J"),ya!==0&&I(ya+" j"),en.publish("addPage",{pageNumber:dn})},yu=function(A){A>0&&A<=dn&&(V.splice(A,1),Ot.splice(A,1),dn--,q>dn&&(q=dn),this.setPage(q))},Ao=function(A){A>0&&A<=dn&&(q=A)},Yf=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return V.length-1},il=function(A,Y,Se){var Ie,Fe=void 0;return Se=Se||{},A=A!==void 0?A:Zt[At].fontName,Y=Y!==void 0?Y:Zt[At].fontStyle,Ie=A.toLowerCase(),Wt[Ie]!==void 0&&Wt[Ie][Y]!==void 0?Fe=Wt[Ie][Y]:Wt[A]!==void 0&&Wt[A][Y]!==void 0?Fe=Wt[A][Y]:Se.disableWarning===!1&&En.warn("Unable to look up font label for font '"+A+"', '"+Y+"'. Refer to getFontList() for available fonts."),Fe||Se.noFallback||(Fe=Wt.times[Y])==null&&(Fe=Wt.times.normal),Fe},tn=p.__private__.putInfo=function(){var A=kn(),Y=function(Ie){return Ie};for(var Se in m!==null&&(Y=Ln.encryptor(A,0)),I("<<"),I("/Producer ("+Qr(Y("jsPDF "+kt.version))+")"),mt)mt.hasOwnProperty(Se)&&mt[Se]&&I("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Qr(Y(mt[Se]))+")");I("/CreationDate ("+Qr(Y(me))+")"),I(">>"),I("endobj")},sl=p.__private__.putCatalog=function(A){var Y=(A=A||{}).rootDictionaryObjId||Ms;switch(kn(),I("<<"),I("/Type /Catalog"),I("/Pages "+Y+" 0 R"),ve||(ve="fullwidth"),ve){case"fullwidth":I("/OpenAction [3 0 R /FitH null]");break;case"fullheight":I("/OpenAction [3 0 R /FitV null]");break;case"fullpage":I("/OpenAction [3 0 R /Fit]");break;case"original":I("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+ve;Se.substr(Se.length-1)==="%"&&(ve=parseInt(ve)/100),typeof ve=="number"&&I("/OpenAction [3 0 R /XYZ null null "+Ee(ve)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":I("/PageLayout /OneColumn");break;case"single":I("/PageLayout /SinglePage");break;case"two":case"twoleft":I("/PageLayout /TwoColumnLeft");break;case"tworight":I("/PageLayout /TwoColumnRight")}qe&&I("/PageMode /"+qe),en.publish("putCatalog"),I(">>"),I("endobj")},Nc=p.__private__.putTrailer=function(){I("trailer"),I("<<"),I("/Size "+(K+1)),I("/Root "+K+" 0 R"),I("/Info "+(K-1)+" 0 R"),m!==null&&I("/Encrypt "+Ln.oid+" 0 R"),I("/ID [ <"+Ne+"> <"+Ne+"> ]"),I(">>")},wu=p.__private__.putHeader=function(){I("%PDF-"+E),I("%ºß¬à")},Ic=p.__private__.putXRef=function(){var A="0000000000";I("xref"),I("0 "+(K+1)),I("0000000000 65535 f ");for(var Y=1;Y<=K;Y++)typeof R[Y]=="function"?I((A+R[Y]()).slice(-10)+" 00000 n "):R[Y]!==void 0?I((A+R[Y]).slice(-10)+" 00000 n "):I("0000000000 00000 n ")},gs=p.__private__.buildDocument=function(){D(),se(L),en.publish("buildDocument"),wu(),So(),Ac(),Ec(),m!==null&&xc(),tn(),sl();var A=J;return Ic(),Nc(),I("startxref"),I(""+A),I("%%EOF"),se(V[q]),L.join(`
`)},ha=p.__private__.getBlob=function(A){return new Blob([x(A)],{type:"application/pdf"})},No=p.output=p.__private__.output=Jr(function(A,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",A){case void 0:return gs();case"save":p.save(Y.filename);break;case"arraybuffer":return x(gs());case"blob":return ha(gs());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(ha(gs()))||void 0;En.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Ie=gs();try{Se=P0(Ie)}catch{Se=P0(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+Y.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Fe=Y.pdfObjectUrl,$e="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",ht=Tt.open();return ht!==null&&ht.document.write(et),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Bt=Tt.open();if(Bt!==null){Bt.document.write(St);var Mt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=Y.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Rn=Tt.open();if(Rn!==null&&(Rn.document.write(Gt),Rn.document.title=Y.filename),Rn||typeof safari>"u")return Rn;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",Y);default:return null}}),da=function(A){return Array.isArray(_o)===!0&&_o.indexOf(A)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=da("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var Ln=null;G(),ye();var vs=function(A){return m!==null?Ln.encryptor(A,0):function(Y){return Y}},rs=p.__private__.getPageInfo=p.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[A].objId,pageNumber:A,pageContext:Ot[A]}},Ct=p.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Ot)if(Ot[Y].objId===A)break;return rs(Y)},pa=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ot[q].objId,pageNumber:q,pageContext:Ot[q]}};p.addPage=function(){return vu.apply(this,arguments),this},p.setPage=function(){return Ao.apply(this,arguments),se.call(this,V[q]),this},p.insertPage=function(A){return this.addPage(),this.movePage(q,A),this},p.movePage=function(A,Y){var Se,Ie;if(A>Y){Se=V[A],Ie=Ot[A];for(var Fe=A;Fe>Y;Fe--)V[Fe]=V[Fe-1],Ot[Fe]=Ot[Fe-1];V[Y]=Se,Ot[Y]=Ie,this.setPage(Y)}else if(A<Y){Se=V[A],Ie=Ot[A];for(var $e=A;$e<Y;$e++)V[$e]=V[$e+1],Ot[$e]=Ot[$e+1];V[Y]=Se,Ot[Y]=Ie,this.setPage(Y)}return this},p.deletePage=function(){return yu.apply(this,arguments),this},p.__private__.text=p.text=function(A,Y,Se,Ie,Fe){var $e,et,ht,St,Bt,Mt,Gt,Rn,Un,Kn=(Ie=Ie||{}).scope||this;if(typeof A=="number"&&typeof Y=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Nr=Se;Se=Y,Y=A,A=Nr}if(arguments[3]instanceof xt?(oe("The transform parameter of text() with a Matrix value"),Un=Fe):(ht=arguments[4],St=arguments[5],wn(Gt=arguments[3])==="object"&&Gt!==null||(typeof ht=="string"&&(St=ht,ht=null),typeof Gt=="string"&&(St=Gt,Gt=null),typeof Gt=="number"&&(ht=Gt,Gt=null),Ie={flags:Gt,angle:ht,align:St})),isNaN(Y)||isNaN(Se)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Kn;var gr="",as=!1,_i=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:ma,Oi=Kn.internal.scaleFactor;function Ro(gn){return gn=gn.split("	").join(Array(Ie.TabLen||9).join(" ")),Qr(gn,Gt)}function Nu(gn){for(var ln,qn=gn.concat(),Yn=[],xs=qn.length;xs--;)typeof(ln=qn.shift())=="string"?Yn.push(ln):Array.isArray(gn)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?Yn.push(ln[0]):Yn.push([ln[0],ln[1],ln[2]]);return Yn}function ml(gn,ln){var qn;if(typeof gn=="string")qn=ln(gn)[0];else if(Array.isArray(gn)){for(var Yn,xs,Al=gn.concat(),Na=[],ku=Al.length;ku--;)typeof(Yn=Al.shift())=="string"?Na.push(ln(Yn)[0]):Array.isArray(Yn)&&typeof Yn[0]=="string"&&(xs=ln(Yn[0],Yn[1],Yn[2]),Na.push([xs[0],xs[1],xs[2]]));qn=Na}return qn}var wa=!1,gl=!0;if(typeof A=="string")wa=!0;else if(Array.isArray(A)){var vl=A.concat();et=[];for(var _a,zn=vl.length;zn--;)(typeof(_a=vl.shift())!="string"||Array.isArray(_a)&&typeof _a[0]!="string")&&(gl=!1);wa=gl}if(wa===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var yl=ae/Kn.internal.scaleFactor,wl=yl*(_i-1);switch(Ie.baseline){case"bottom":Se-=wl;break;case"top":Se+=yl-wl;break;case"hanging":Se+=yl-2*wl;break;case"middle":Se+=yl/2-wl}if((Mt=Ie.maxWidth||0)>0&&(typeof A=="string"?A=Kn.splitTextToSize(A,Mt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(gn,ln){return gn.concat(Kn.splitTextToSize(ln,Mt))},[]))),$e={text:A,x:Y,y:Se,options:Ie,mutex:{pdfEscape:Qr,activeFontKey:At,fonts:Zt,activeFontSize:ae}},en.publish("preProcessText",$e),A=$e.text,ht=(Ie=$e.options).angle,!(Un instanceof xt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,Ie.rotationDirection===0&&(ht=-ht),j===T.ADVANCED&&(ht=-ht);var _l=Math.cos(ht),bl=Math.sin(ht);Un=new xt(_l,bl,-bl,_l,0,0)}else ht&&ht instanceof xt&&(Un=ht);j!==T.ADVANCED||Un||(Un=Yr),(Bt=Ie.charSpace||To)!==void 0&&(gr+=ce(B(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rn=Ie.horizontalScale)!==void 0&&(gr+=ce(100*Rn)+` Tz
`),Ie.lang;var Br=-1,ba=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,Us=Kn.internal.getCurrentPageInfo().pageContext;switch(ba){case 0:case!1:case"fill":Br=0;break;case 1:case!0:case"stroke":Br=1;break;case 2:case"fillThenStroke":Br=2;break;case 3:case"invisible":Br=3;break;case 4:case"fillAndAddForClipping":Br=4;break;case 5:case"strokeAndAddPathForClipping":Br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Br=6;break;case 7:case"addToPathForClipping":Br=7}var Pc=Us.usedRenderingMode!==void 0?Us.usedRenderingMode:-1;Br!==-1?gr+=Br+` Tr
`:Pc!==-1&&(gr+=`0 Tr
`),Br!==-1&&(Us.usedRenderingMode=Br),St=Ie.align||"left";var Ur,Sl=ae*_i,Iu=Kn.internal.pageSize.getWidth(),xl=Zt[At];Bt=Ie.charSpace||To,Mt=Ie.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var bs=[],Oo=function(gn){return Kn.getStringUnitWidth(gn,{font:xl,charSpace:Bt,fontSize:ae,doKerning:!1})*ae/Oi};if(Object.prototype.toString.call(A)==="[object Array]"){var zr;et=Nu(A),St!=="left"&&(Ur=et.map(Oo));var Ir,Fo=0;if(St==="right"){Y-=Ur[0],A=[],zn=et.length;for(var zs=0;zs<zn;zs++)zs===0?(Ir=Li(Y),zr=Ri(Se)):(Ir=B(Fo-Ur[zs]),zr=-Sl),A.push([et[zs],Ir,zr]),Fo=Ur[zs]}else if(St==="center"){Y-=Ur[0]/2,A=[],zn=et.length;for(var qs=0;qs<zn;qs++)qs===0?(Ir=Li(Y),zr=Ri(Se)):(Ir=B((Fo-Ur[qs])/2),zr=-Sl),A.push([et[qs],Ir,zr]),Fo=Ur[qs]}else if(St==="left"){A=[],zn=et.length;for(var El=0;El<zn;El++)A.push(et[El])}else if(St==="justify"&&xl.encoding==="Identity-H"){A=[],zn=et.length,Mt=Mt!==0?Mt:Iu;for(var Ws=0,nn=0;nn<zn;nn++)if(zr=nn===0?Ri(Se):-Sl,Ir=nn===0?Li(Y):Ws,nn<zn-1){var Hs=B((Mt-Ur[nn])/(et[nn].split(" ").length-1)),Cr=et[nn].split(" ");A.push([Cr[0]+" ",Ir,zr]),Ws=0;for(var bi=1;bi<Cr.length;bi++){var Sa=(Oo(Cr[bi-1]+" "+Cr[bi])-Oo(Cr[bi]))*Oi+Hs;bi==Cr.length-1?A.push([Cr[bi],Sa,0]):A.push([Cr[bi]+" ",Sa,0]),Ws-=Sa}}else A.push([et[nn],Ir,zr]);A.push(["",Ws,0])}else{if(St!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],zn=et.length,Mt=Mt!==0?Mt:Iu,nn=0;nn<zn;nn++)zr=nn===0?Ri(Se):-Sl,Ir=nn===0?Li(Y):0,nn<zn-1?bs.push(ce(B((Mt-Ur[nn])/(et[nn].split(" ").length-1)))):bs.push(0),A.push([et[nn],Ir,zr])}}var Cu=typeof Ie.R2L=="boolean"?Ie.R2L:Oe;Cu===!0&&(A=ml(A,function(gn,ln,qn){return[gn.split("").reverse().join(""),ln,qn]})),$e={text:A,x:Y,y:Se,options:Ie,mutex:{pdfEscape:Qr,activeFontKey:At,fonts:Zt,activeFontSize:ae}},en.publish("postProcessText",$e),A=$e.text,as=$e.mutex.isHex||!1;var xa=Zt[At].encoding;xa!=="WinAnsiEncoding"&&xa!=="StandardEncoding"||(A=ml(A,function(gn,ln,qn){return[Ro(gn),ln,qn]})),et=Nu(A),A=[];for(var Ea,Aa,Si,Vs=0,Ss=1,$s=Array.isArray(et[0])?Ss:Vs,Gs="",Do=function(gn,ln,qn){var Yn="";return qn instanceof xt?(qn=typeof Ie.angle=="number"?gi(qn,new xt(1,0,0,1,gn,ln)):gi(new xt(1,0,0,1,gn,ln),qn),j===T.ADVANCED&&(qn=gi(new xt(1,0,0,-1,0,0),qn)),Yn=qn.join(" ")+` Tm
`):Yn=ce(gn)+" "+ce(ln)+` Td
`,Yn},_r=0;_r<et.length;_r++){switch(Gs="",$s){case Ss:Si=(as?"<":"(")+et[_r][0]+(as?">":")"),Ea=parseFloat(et[_r][1]),Aa=parseFloat(et[_r][2]);break;case Vs:Si=(as?"<":"(")+et[_r]+(as?">":")"),Ea=Li(Y),Aa=Ri(Se)}bs!==void 0&&bs[_r]!==void 0&&(Gs=bs[_r]+` Tw
`),_r===0?A.push(Gs+Do(Ea,Aa,Un)+Si):$s===Vs?A.push(Gs+Si):$s===Ss&&A.push(Gs+Do(Ea,Aa,Un)+Si)}A=$s===Vs?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ei=`BT
/`;return ei+=At+" "+ae+` Tf
`,ei+=ce(ae*_i)+` TL
`,ei+=rr+`
`,ei+=gr,ei+=A,I(ei+="ET"),y[At]=!0,Kn};var ys=p.__private__.clip=p.clip=function(A){return I(A==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ys("evenodd")},p.__private__.discardPath=p.discardPath=function(){return I("n"),this};var ws=p.__private__.isValidStyle=function(A){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(Y=!0),Y};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(A){return ws(A)&&(h=A),this};var _u=p.__private__.getStyle=p.getStyle=function(A){var Y=h;switch(A){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=A}return Y},Io=p.close=function(){return I("h"),this};p.stroke=function(){return I("S"),this},p.fill=function(A){return ol("f",A),this},p.fillEvenOdd=function(A){return ol("f*",A),this},p.fillStroke=function(A){return ol("B",A),this},p.fillStrokeEvenOdd=function(A){return ol("B*",A),this};var ol=function(A,Y){wn(Y)==="object"?Cc(Y,A):I(A)},al=function(A){A===null||j===T.ADVANCED&&A===void 0||(A=_u(A),I(A))};function ll(A,Y,Se,Ie,Fe){var $e=new cf(Y||this.boundingBox,Se||this.xStep,Ie||this.yStep,this.gState,Fe||this.matrix);$e.stream=this.stream;var et=A+"$$"+this.cloneIndex+++"$$";return Xr(et,$e),$e}var Cc=function(A,Y){var Se=Qi[A.key],Ie=Yt[Se];if(Ie instanceof Qu)I("q"),I(Xf(Y)),Ie.gState&&p.setGState(Ie.gState),I(A.matrix.toString()+" cm"),I("/"+Se+" sh"),I("Q");else if(Ie instanceof cf){var Fe=new xt(1,0,0,-1,0,Lo());A.matrix&&(Fe=Fe.multiply(A.matrix||Yr),Se=ll.call(Ie,A.key,A.boundingBox,A.xStep,A.yStep,Fe).id),I("q"),I("/Pattern cs"),I("/"+Se+" scn"),Ie.gState&&p.setGState(Ie.gState),I(Y),I("Q")}},Xf=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},js=p.moveTo=function(A,Y){return I(ce(B(A))+" "+ce(F(Y))+" m"),this},is=p.lineTo=function(A,Y){return I(ce(B(A))+" "+ce(F(Y))+" l"),this},wi=p.curveTo=function(A,Y,Se,Ie,Fe,$e){return I([ce(B(A)),ce(F(Y)),ce(B(Se)),ce(F(Ie)),ce(B(Fe)),ce(F($e)),"c"].join(" ")),this};p.__private__.line=p.line=function(A,Y,Se,Ie,Fe){if(isNaN(A)||isNaN(Y)||isNaN(Se)||isNaN(Ie)||!ws(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return j===T.COMPAT?this.lines([[Se-A,Ie-Y]],A,Y,[1,1],Fe||"S"):this.lines([[Se-A,Ie-Y]],A,Y,[1,1]).stroke()},p.__private__.lines=p.lines=function(A,Y,Se,Ie,Fe,$e){var et,ht,St,Bt,Mt,Gt,Rn,Un,Kn,Nr,gr,as;if(typeof A=="number"&&(as=Se,Se=Y,Y=A,A=as),Ie=Ie||[1,1],$e=$e||!1,isNaN(Y)||isNaN(Se)||!Array.isArray(A)||!Array.isArray(Ie)||!ws(Fe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(js(Y,Se),et=Ie[0],ht=Ie[1],Bt=A.length,Nr=Y,gr=Se,St=0;St<Bt;St++)(Mt=A[St]).length===2?(Nr=Mt[0]*et+Nr,gr=Mt[1]*ht+gr,is(Nr,gr)):(Gt=Mt[0]*et+Nr,Rn=Mt[1]*ht+gr,Un=Mt[2]*et+Nr,Kn=Mt[3]*ht+gr,Nr=Mt[4]*et+Nr,gr=Mt[5]*ht+gr,wi(Gt,Rn,Un,Kn,Nr,gr));return $e&&Io(),al(Fe),this},p.path=function(A){for(var Y=0;Y<A.length;Y++){var Se=A[Y],Ie=Se.c;switch(Se.op){case"m":js(Ie[0],Ie[1]);break;case"l":is(Ie[0],Ie[1]);break;case"c":wi.apply(this,Ie);break;case"h":Io()}}return this},p.__private__.rect=p.rect=function(A,Y,Se,Ie,Fe){if(isNaN(A)||isNaN(Y)||isNaN(Se)||isNaN(Ie)||!ws(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===T.COMPAT&&(Ie=-Ie),I([ce(B(A)),ce(F(Y)),ce(B(Se)),ce(B(Ie)),"re"].join(" ")),al(Fe),this},p.__private__.triangle=p.triangle=function(A,Y,Se,Ie,Fe,$e,et){if(isNaN(A)||isNaN(Y)||isNaN(Se)||isNaN(Ie)||isNaN(Fe)||isNaN($e)||!ws(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-A,Ie-Y],[Fe-Se,$e-Ie],[A-Fe,Y-$e]],A,Y,[1,1],et,!0),this},p.__private__.roundedRect=p.roundedRect=function(A,Y,Se,Ie,Fe,$e,et){if(isNaN(A)||isNaN(Y)||isNaN(Se)||isNaN(Ie)||isNaN(Fe)||isNaN($e)||!ws(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*Se),$e=Math.min($e,.5*Ie),this.lines([[Se-2*Fe,0],[Fe*ht,0,Fe,$e-$e*ht,Fe,$e],[0,Ie-2*$e],[0,$e*ht,-Fe*ht,$e,-Fe,$e],[2*Fe-Se,0],[-Fe*ht,0,-Fe,-$e*ht,-Fe,-$e],[0,2*$e-Ie],[0,-$e*ht,Fe*ht,-$e,Fe,-$e]],A+Fe,Y,[1,1],et,!0),this},p.__private__.ellipse=p.ellipse=function(A,Y,Se,Ie,Fe){if(isNaN(A)||isNaN(Y)||isNaN(Se)||isNaN(Ie)||!ws(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*Se,et=4/3*(Math.SQRT2-1)*Ie;return js(A+Se,Y),wi(A+Se,Y-et,A+$e,Y-Ie,A,Y-Ie),wi(A-$e,Y-Ie,A-Se,Y-et,A-Se,Y),wi(A-Se,Y+et,A-$e,Y+Ie,A,Y+Ie),wi(A+$e,Y+Ie,A+Se,Y+et,A+Se,Y),al(Fe),this},p.__private__.circle=p.circle=function(A,Y,Se,Ie){if(isNaN(A)||isNaN(Y)||isNaN(Se)||!ws(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,Y,Se,Se,Ie)},p.setFont=function(A,Y,Se){return Se&&(Y=we(Y,Se)),At=il(A,Y,{disableWarning:!1}),this};var ul=p.__private__.getFont=p.getFont=function(){return Zt[il.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var A,Y,Se={};for(A in Wt)if(Wt.hasOwnProperty(A))for(Y in Se[A]=[],Wt[A])Wt[A].hasOwnProperty(Y)&&Se[A].push(Y);return Se},p.addFont=function(A,Y,Se,Ie,Fe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(Se=we(Se,Ie)),Fe=Fe||"Identity-H",Eo.call(this,A,Y,Se,Fe)};var ma,bu=n.lineWidth||.200025,Co=p.__private__.getLineWidth=p.getLineWidth=function(){return bu},ga=p.__private__.setLineWidth=p.setLineWidth=function(A){return bu=A,I(ce(B(A))+" w"),this};p.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(A,Y){if(A=A||[],Y=Y||0,isNaN(Y)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(Se){return ce(B(Se))}).join(" "),Y=ce(B(Y)),I("["+A+"] "+Y+" d"),this};var cl=p.__private__.getLineHeight=p.getLineHeight=function(){return ae*ma};p.__private__.getLineHeight=p.getLineHeight=function(){return ae*ma};var Su=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(ma=A),this},ss=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ma};Su(n.lineHeight);var Li=p.__private__.getHorizontalCoordinate=function(A){return B(A)},Ri=p.__private__.getVerticalCoordinate=function(A){return j===T.ADVANCED?A:Ot[q].mediaBox.topRightY-Ot[q].mediaBox.bottomLeftY-B(A)},kc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(A){return ce(Li(A))},os=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(A){return ce(Ri(A))},Zr=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ts(Zr)},p.__private__.setStrokeColor=p.setDrawColor=function(A,Y,Se,Ie){return Zr=wr({ch1:A,ch2:Y,ch3:Se,ch4:Ie,pdfColorType:"draw",precision:2}),I(Zr),this};var fl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ts(fl)},p.__private__.setFillColor=p.setFillColor=function(A,Y,Se,Ie){return fl=wr({ch1:A,ch2:Y,ch3:Se,ch4:Ie,pdfColorType:"fill",precision:2}),I(fl),this};var rr=n.textColor||"0 g",ko=p.__private__.getTextColor=p.getTextColor=function(){return ts(rr)};p.__private__.setTextColor=p.setTextColor=function(A,Y,Se,Ie){return rr=wr({ch1:A,ch2:Y,ch3:Se,ch4:Ie,pdfColorType:"text",precision:3}),this};var To=n.charSpace,va=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(To||0)};p.__private__.setCharSpace=p.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return To=A,this};var xu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(A){var Y=p.CapJoinStyles[A];if(Y===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xu=Y,I(Y+" J"),this};var ya=0;p.__private__.setLineJoin=p.setLineJoin=function(A){var Y=p.CapJoinStyles[A];if(Y===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ya=Y,I(Y+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return I(ce(B(A))+" M"),this},p.GState=rm,p.setGState=function(A){(A=typeof A=="string"?_n[nr[A]]:hl(null,A)).equals(Gn)||(I("/"+A.id+" gs"),Gn=A)};var hl=function(A,Y){if(!A||!nr[A]){var Se=!1;for(var Ie in _n)if(_n.hasOwnProperty(Ie)&&_n[Ie].equals(Y)){Se=!0;break}if(Se)Y=_n[Ie];else{var Fe="GS"+(Object.keys(_n).length+1).toString(10);_n[Fe]=Y,Y.id=Fe}return A&&(nr[A]=Y.id),en.publish("addGState",Y),Y}};p.addGState=function(A,Y){return hl(A,Y),this},p.saveGraphicsState=function(){return I("q"),jr.push({key:At,size:ae,color:rr}),this},p.restoreGraphicsState=function(){I("Q");var A=jr.pop();return At=A.key,ae=A.size,rr=A.color,Gn=null,this},p.setCurrentTransformationMatrix=function(A){return I(A.toString()+" cm"),this},p.comment=function(A){return I("#"+A),this};var _s=function(A,Y){var Se=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function($e){isNaN($e)||(Se=parseFloat($e))}});var Ie=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function($e){isNaN($e)||(Ie=parseFloat($e))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function($e){Fe=$e.toString()}}),this},Po=function(A,Y,Se,Ie){_s.call(this,A,Y),this.type="rect";var Fe=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(et){isNaN(et)||(Fe=parseFloat(et))}});var $e=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(et){isNaN(et)||($e=parseFloat(et))}}),this},dl=function(){this.page=dn,this.currentPage=q,this.pages=V.slice(0),this.pagesContext=Ot.slice(0),this.x=Bn,this.y=bt,this.matrix=yr,this.width=Bs(q),this.height=Lo(q),this.outputDestination=_e,this.id="",this.objectNumber=-1};dl.prototype.restore=function(){dn=this.page,q=this.currentPage,Ot=this.pagesContext,V=this.pages,Bn=this.x,bt=this.y,yr=this.matrix,Eu(q,this.width),Au(q,this.height),_e=this.outputDestination};var Tc=function(A,Y,Se,Ie,Fe){Zi.push(new dl),dn=q=0,V=[],Bn=A,bt=Y,yr=Fe,fa([Se,Ie])},Jf=function(A){if(Ti[A])Zi.pop().restore();else{var Y=new dl,Se="Xo"+(Object.keys(mr).length+1).toString(10);Y.id=Se,Ti[A]=Se,mr[Se]=Y,en.publish("addFormObject",Y),Zi.pop().restore()}};for(var pl in p.beginFormObject=function(A,Y,Se,Ie,Fe){return Tc(A,Y,Se,Ie,Fe),this},p.endFormObject=function(A){return Jf(A),this},p.doFormObject=function(A,Y){var Se=mr[Ti[A]];return I("q"),I(Y.toString()+" cm"),I("/"+Se.id+" Do"),I("Q"),this},p.getFormObject=function(A){var Y=mr[Ti[A]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},p.save=function(A,Y){return A=A||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Ju(ha(gs()),A),typeof Ju.unload=="function"&&Tt.setTimeout&&setTimeout(Ju.unload,911),this):new Promise(function(Se,Ie){try{var Fe=Ju(ha(gs()),A);typeof Ju.unload=="function"&&Tt.setTimeout&&setTimeout(Ju.unload,911),Se(Fe)}catch($e){Ie($e.message)}})},kt.API)kt.API.hasOwnProperty(pl)&&(pl==="events"&&kt.API.events.length?function(A,Y){var Se,Ie,Fe;for(Fe=Y.length-1;Fe!==-1;Fe--)Se=Y[Fe][0],Ie=Y[Fe][1],A.subscribe.apply(A,[Se].concat(typeof Ie=="function"?[Ie]:Ie))}(en,kt.API.events):p[pl]=kt.API[pl]);var Bs=p.getPageWidth=function(A){return(Ot[A=A||q].mediaBox.topRightX-Ot[A].mediaBox.bottomLeftX)/ot},Eu=p.setPageWidth=function(A,Y){Ot[A].mediaBox.topRightX=Y*ot+Ot[A].mediaBox.bottomLeftX},Lo=p.getPageHeight=function(A){return(Ot[A=A||q].mediaBox.topRightY-Ot[A].mediaBox.bottomLeftY)/ot},Au=p.setPageHeight=function(A,Y){Ot[A].mediaBox.topRightY=Y*ot+Ot[A].mediaBox.bottomLeftY};return p.internal={pdfEscape:Qr,getStyle:_u,getFont:ul,getFontSize:he,getCharSpace:va,getTextColor:ko,getLineHeight:cl,getLineHeightFactor:ss,getLineWidth:Co,write:b,getHorizontalCoordinate:Li,getVerticalCoordinate:Ri,getCoordinateString:kc,getVerticalCoordinateString:os,collections:{},newObject:kn,newAdditionalObject:bo,newObjectDeferred:Tn,newObjectDeferredBegin:Ar,getFilters:ns,putStream:vi,events:en,scaleFactor:ot,pageSize:{getWidth:function(){return Bs(q)},setWidth:function(A){Eu(q,A)},getHeight:function(){return Lo(q)},setHeight:function(A){Au(q,A)}},encryptionOptions:m,encryption:Ln,getEncryptor:vs,output:No,getNumberOfPages:Yf,pages:V,out:I,f2:Ee,f3:Q,getPageInfo:rs,getPageInfoByObjId:Ct,getCurrentPageInfo:pa,getPDFVersion:S,Point:_s,Rectangle:Po,Matrix:xt,hasHotfix:da},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Bs(q)},set:function(A){Eu(q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Lo(q)},set:function(A){Au(q,A)},enumerable:!0,configurable:!0}),ca.call(p,O),At="F1",vu(i,t),en.publish("initialized"),p}of.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},of.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},of.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},of.prototype.processOwnerPassword=function(n,e){return R0(L0(e).substr(0,5),n)},of.prototype.encryptor=function(n,e){var t=L0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return R0(t,r)}},rm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||wn(n)!==wn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},kt.API={events:[]},kt.version="2.5.2";var er=kt.API,my=1,bc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ut=function(n){return n.toFixed(2)},Kl=function(n){return n.toFixed(5)};er.__acroform__={};var Ji=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},x2=function(n){return n*my},Vo=function(n){var e=new YE,t=yt.internal.getHeight(n)||0,r=yt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Ut(r)),Number(Ut(t))],e},nD=er.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},rD=er.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},iD=er.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},cr=er.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iD(n,e-1)},fr=er.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nD(n,e-1)},hr=er.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rD(n,e-1)},sD=er.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],a=n[2],u=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(o+u)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=r(o)||0,[Number(Ut(c.lowerLeft_X)),Number(Ut(c.lowerLeft_Y)),Number(Ut(c.upperRight_X)),Number(Ut(c.upperRight_Y))]},oD=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=O0(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Ut(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Vo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},O0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(Q){return Q.split(`
`)}):i.map(function(Q){return[Q]});var o=t,a=yt.internal.getHeight(n)||0;a=a<0?-a:a;var u=yt.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(Q,B,ee){if(Q+1<i.length){var F=B+" "+i[Q+1][0];return cp(F,n,ee).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var h,m,g=cp("3",n,o).height,y=n.multiline?a-o:(a-g)/2,p=y+=2,E=0,S=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+cp(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var _="",T=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var H=!1;if(i[j].length!==1&&k!==i[j].length-1){if((g+2)*(T+2)+2>a)continue e;_+=i[j][k],H=!0,S=j,j--}else{_=(_+=i[j][k]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var X=parseInt(j),we=c(X,_,o),ce=j>=i.length-1;if(we&&!ce){_+=" ",k=0;continue}if(we||ce){if(ce)S=X;else if(n.multiline&&(g+2)*(T+2)+2>a)continue e}else{if(!n.multiline||(g+2)*(T+2)+2>a)continue e;S=X}}for(var oe="",z=E;z<=S;z++){var Ee=i[z];if(n.multiline){if(z===S){oe+=Ee[k]+" ",k=(k+1)%Ee.length;continue}if(z===E){oe+=Ee[Ee.length-1]+" ";continue}}oe+=Ee[0]+" "}switch(oe=oe.substr(oe.length-1)==" "?oe.substr(0,oe.length-1):oe,m=cp(oe,n,o).width,n.textAlign){case"right":h=u-m-2;break;case"center":h=(u-m)/2;break;case"left":default:h=2}e+=Ut(h)+" "+Ut(p)+` Td
`,e+="("+bc(oe)+`) Tj
`,e+=-Ut(h)+` 0 Td
`,p=-(o+2),m=0,E=H?S:S+1,T++,_=""}break}return r.text=e,r.fontSize=o,r},cp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},aD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lD=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},uD=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),wn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},cD=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(aD)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");my=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new XE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&lD(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var u=r[a],c=[],h=u.Rect;if(u.Rect&&(u.Rect=sD(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=yt.createDefaultAppearanceStream(u),wn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=oD(u);c.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var g="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var p=u.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var E=p[a];typeof E=="function"&&(E=E.call(i,u)),g+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=p)=="function"&&(E=E.call(i,u)),g+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}o&&uD(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},KE=er.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),wn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+bc(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},q1=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+bc(r(n))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:KE(i,this.objId,this.scope)}):i instanceof Jo?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var YE=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ji(YE,Jo);var XE=function(){Jo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+bc(t(n))+")"}},set:function(t){n=t}})};Ji(XE,Jo);var yo=function n(){Jo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cr(e,3)},set:function(_){_?this.F=fr(e,3):this.F=hr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');t=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof im)return;o="FieldObject"+n.FieldNum++}var _=function(T){return T};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+bc(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/my:h},set:function(_){h=_}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(_){m=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof im||this instanceof sc))return q1(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Dr?y:q1(y,this.objId,this.scope)},set:function(_){_=_.toString(),y=this instanceof Dr?_:_.substr(0,1)==="("?nf(_.substr(1,_.length-2)):nf(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dr?nf(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof Dr?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Dr?p:q1(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=this instanceof Dr?_:_.substr(0,1)==="("?nf(_.substr(1,_.length-2)):nf(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dr?nf(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Dr?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(_){_=!!_,S=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(_){E=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,1)},set:function(_){_?this.Ff=fr(this.Ff,1):this.Ff=hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,2)},set:function(_){_?this.Ff=fr(this.Ff,2):this.Ff=hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,3)},set:function(_){_?this.Ff=fr(this.Ff,3):this.Ff=hr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');k=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(k){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Ji(yo,Jo);var Sf=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KE(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,a,u){u||(u=1);for(var c,h=[];c=a.exec(o);)h.push(c[u]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,18)},set:function(t){t?this.Ff=fr(this.Ff,18):this.Ff=hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=fr(this.Ff,19):this.Ff=hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,20)},set:function(t){t?(this.Ff=fr(this.Ff,20),e.sort()):this.Ff=hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,22)},set:function(t){t?this.Ff=fr(this.Ff,22):this.Ff=hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,23)},set:function(t){t?this.Ff=fr(this.Ff,23):this.Ff=hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,27)},set:function(t){t?this.Ff=fr(this.Ff,27):this.Ff=hr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(Sf,yo);var xf=function(){Sf.call(this),this.fontName="helvetica",this.combo=!1};Ji(xf,Sf);var Ef=function(){xf.call(this),this.combo=!0};Ji(Ef,xf);var xp=function(){Ef.call(this),this.edit=!0};Ji(xp,Ef);var Dr=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,15)},set:function(t){t?this.Ff=fr(this.Ff,15):this.Ff=hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,16)},set:function(t){t?this.Ff=fr(this.Ff,16):this.Ff=hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,17)},set:function(t){t?this.Ff=fr(this.Ff,17):this.Ff=hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,26)},set:function(t){t?this.Ff=fr(this.Ff,26):this.Ff=hr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+bc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){wn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ji(Dr,yo);var Ep=function(){Dr.call(this),this.pushButton=!0};Ji(Ep,Dr);var Af=function(){Dr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ji(Af,Dr);var im=function(){var n,e;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+bc(i(r[o]))+")");return a.push(">>"),a.join(`
`)},set:function(i){wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(im,yo),Af.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Af.prototype.createOption=function(n){var e=new im;return e.Parent=this,e.optionName=n,this.Kids.push(e),fD.call(this.scope,e),e};var Ap=function(){Dr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Ji(Ap,Dr);var sc=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,13)},set:function(e){e?this.Ff=fr(this.Ff,13):this.Ff=hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,21)},set:function(e){e?this.Ff=fr(this.Ff,21):this.Ff=hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,23)},set:function(e){e?this.Ff=fr(this.Ff,23):this.Ff=hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,24)},set:function(e){e?this.Ff=fr(this.Ff,24):this.Ff=hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,25)},set:function(e){e?this.Ff=fr(this.Ff,25):this.Ff=hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,26)},set:function(e){e?this.Ff=fr(this.Ff,26):this.Ff=hr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(sc,yo);var Np=function(){sc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cr(this.Ff,14)},set:function(n){n?this.Ff=fr(this.Ff,14):this.Ff=hr(this.Ff,14)}}),this.password=!0};Ji(Np,sc);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=O0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Ut(yt.internal.getWidth(n))+" "+Ut(yt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Ut(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Vo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=yt.internal.getHeight(n),a=yt.internal.getWidth(n),u=O0(n,n.caption);return i.push("1 g"),i.push("0 0 "+Ut(a)+" "+Ut(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ut(a-1)+" "+Ut(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Ut(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ut(yt.internal.getWidth(n))+" "+Ut(yt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=yt.RadioButton.Circle.YesNormal,e.D[n]=yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Vo(n);e.scope=n.scope;var t=[],r=yt.internal.getWidth(n)<=yt.internal.getHeight(n)?yt.internal.getWidth(n)/4:yt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=yt.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Kl(yt.internal.getWidth(n)/2)+" "+Kl(yt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[],r=yt.internal.getWidth(n)<=yt.internal.getHeight(n)?yt.internal.getWidth(n)/4:yt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*yt.internal.Bezier_C).toFixed(5)),a=Number((r*yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Kl(yt.internal.getWidth(n)/2)+" "+Kl(yt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Kl(yt.internal.getWidth(n)/2)+" "+Kl(yt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[],r=yt.internal.getWidth(n)<=yt.internal.getHeight(n)?yt.internal.getWidth(n)/4:yt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Kl(yt.internal.getWidth(n)/2)+" "+Kl(yt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=yt.RadioButton.Cross.YesNormal,e.D[n]=yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Vo(n);e.scope=n.scope;var t=[],r=yt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Ut(yt.internal.getWidth(n)-2)+" "+Ut(yt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Ut(r.x1.x)+" "+Ut(r.x1.y)+" m"),t.push(Ut(r.x2.x)+" "+Ut(r.x2.y)+" l"),t.push(Ut(r.x4.x)+" "+Ut(r.x4.y)+" m"),t.push(Ut(r.x3.x)+" "+Ut(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=yt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ut(yt.internal.getWidth(n))+" "+Ut(yt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ut(yt.internal.getWidth(n)-2)+" "+Ut(yt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Ut(t.x1.x)+" "+Ut(t.x1.y)+" m"),r.push(Ut(t.x2.x)+" "+Ut(t.x2.y)+" l"),r.push(Ut(t.x4.x)+" "+Ut(t.x4.y)+" m"),r.push(Ut(t.x3.x)+" "+Ut(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Vo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ut(yt.internal.getWidth(n))+" "+Ut(yt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};yt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=yt.internal.getWidth(n),t=yt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},yt.internal.getWidth=function(n){var e=0;return wn(n)==="object"&&(e=x2(n.Rect[2])),e},yt.internal.getHeight=function(n){var e=0;return wn(n)==="object"&&(e=x2(n.Rect[3])),e};var fD=er.addField=function(n){if(cD(this,n),!(n instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};er.AcroFormChoiceField=Sf,er.AcroFormListBox=xf,er.AcroFormComboBox=Ef,er.AcroFormEditBox=xp,er.AcroFormButton=Dr,er.AcroFormPushButton=Ep,er.AcroFormRadioButton=Af,er.AcroFormCheckBox=Ap,er.AcroFormTextField=sc,er.AcroFormPasswordField=Np,er.AcroFormAppearance=yt,er.AcroForm={ChoiceField:Sf,ListBox:xf,ComboBox:Ef,EditBox:xp,Button:Dr,PushButton:Ep,RadioButton:Af,CheckBox:Ap,TextField:sc,PasswordField:Np,Appearance:yt},kt.AcroForm={ChoiceField:Sf,ListBox:xf,ComboBox:Ef,EditBox:xp,Button:Dr,PushButton:Ep,RadioButton:Af,CheckBox:Ap,TextField:sc,PasswordField:Np,Appearance:yt};kt.AcroForm;function JE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(Q,B){var ee,F,me,Ne,pe,ye=e;if((B=B||e)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(we(Q))for(pe in t)for(me=t[pe],ee=0;ee<me.length;ee+=1){for(Ne=!0,F=0;F<me[ee].length;F+=1)if(me[ee][F]!==void 0&&me[ee][F]!==Q[F]){Ne=!1;break}if(Ne===!0){ye=pe;break}}else for(pe in t)for(me=t[pe],ee=0;ee<me.length;ee+=1){for(Ne=!0,F=0;F<me[ee].length;F+=1)if(me[ee][F]!==void 0&&me[ee][F]!==Q.charCodeAt(F)){Ne=!1;break}if(Ne===!0){ye=pe;break}}return ye===e&&B!==e&&(ye=B),ye},i=function Q(B){for(var ee=this.internal.write,F=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var Ne=[];if(Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Image"}),Ne.push({key:"Width",value:B.width}),Ne.push({key:"Height",value:B.height}),B.colorSpace===k.INDEXED?Ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(Ne.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===k.DEVICE_CMYK&&Ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ne.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&Ne.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var pe="",ye=0,de=B.transparency.length;ye<de;ye++)pe+=B.transparency[ye]+" "+B.transparency[ye]+" ";Ne.push({key:"Mask",value:"["+pe+"]"})}B.sMask!==void 0&&Ne.push({key:"SMask",value:B.objectId+1+" 0 R"});var xe=B.filter!==void 0?["/"+B.filter]:void 0;if(F({data:B.data,additionalKeyValues:Ne,alreadyAppliedFilters:xe,objectId:B.objectId}),ee("endobj"),"sMask"in B&&B.sMask!==void 0){var G="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,N={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:G,data:B.sMask};"filter"in B&&(N.filter=B.filter),Q.call(this,N)}if(B.colorSpace===k.INDEXED){var q=this.internal.newObject();F({data:oe(new Uint8Array(B.palette)),objectId:q}),ee("endobj")}},o=function(){var Q=this.internal.collections.addImage_images;for(var B in Q)i.call(this,Q[B])},a=function(){var Q,B=this.internal.collections.addImage_images,ee=this.internal.write;for(var F in B)ee("/I"+(Q=B[F]).index,Q.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var Q=this.internal.collections.addImage_images;return u.call(this),Q},h=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(Q){return typeof n["process"+Q.toUpperCase()]=="function"},g=function(Q){return wn(Q)==="object"&&Q.nodeType===1},y=function(Q,B){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var ee=""+Q.getAttribute("src");if(ee.indexOf("data:image/")===0)return Mh(unescape(ee).split("base64,").pop());var F=n.loadFile(ee,!0);if(F!==void 0)return F}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var me;switch(B){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return Mh(Q.toDataURL(me,1).split("base64,").pop())}},p=function(Q){var B=this.internal.collections.addImage_images;if(B){for(var ee in B)if(Q===B[ee].alias)return B[ee]}},E=function(Q,B,ee){return Q||B||(Q=-96,B=-96),Q<0&&(Q=-1*ee.width*72/Q/this.internal.scaleFactor),B<0&&(B=-1*ee.height*72/B/this.internal.scaleFactor),Q===0&&(Q=B*ee.width/ee.height),B===0&&(B=Q*ee.height/ee.width),[Q,B]},S=function(Q,B,ee,F,me,Ne){var pe=E.call(this,ee,F,me),ye=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,xe=c.call(this);if(ee=pe[0],F=pe[1],xe[me.index]=me,Ne){Ne*=Math.PI/180;var G=Math.cos(Ne),N=Math.sin(Ne),q=function(ne){return ne.toFixed(4)},W=[q(G),q(N),q(-1*N),q(G),0,0,"cm"]}this.internal.write("q"),Ne?(this.internal.write([1,"0","0",1,ye(Q),de(B+F),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([ye(ee),"0","0",ye(F),"0","0","cm"].join(" "))):this.internal.write([ye(ee),"0","0",ye(F),ye(Q),de(B+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=n.__addimage__.sHashCode=function(Q){var B,ee,F=0;if(typeof Q=="string")for(ee=Q.length,B=0;B<ee;B++)F=(F<<5)-F+Q.charCodeAt(B),F|=0;else if(we(Q))for(ee=Q.byteLength/2,B=0;B<ee;B++)F=(F<<5)-F+Q[B],F|=0;return F},j=n.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var B=!0;return Q.length===0&&(B=!1),Q.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(B=!1),B},H=n.__addimage__.extractImageFromDataUrl=function(Q){var B=(Q=Q||"").split("base64,"),ee=null;if(B.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(F)&&(ee={mimeType:F[1],charset:F[2],data:B[1]})}return ee},X=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(Q){return X()&&Q instanceof ArrayBuffer};var we=n.__addimage__.isArrayBufferView=function(Q){return X()&&typeof Uint32Array<"u"&&(Q instanceof Int8Array||Q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)},ce=n.__addimage__.binaryStringToUint8Array=function(Q){for(var B=Q.length,ee=new Uint8Array(B),F=0;F<B;F++)ee[F]=Q.charCodeAt(F);return ee},oe=n.__addimage__.arrayBufferToBinaryString=function(Q){for(var B="",ee=we(Q)?Q:new Uint8Array(Q),F=0;F<ee.length;F+=8192)B+=String.fromCharCode.apply(null,ee.subarray(F,F+8192));return B};n.addImage=function(){var Q,B,ee,F,me,Ne,pe,ye,de;if(typeof arguments[1]=="number"?(B=e,ee=arguments[1],F=arguments[2],me=arguments[3],Ne=arguments[4],pe=arguments[5],ye=arguments[6],de=arguments[7]):(B=arguments[1],ee=arguments[2],F=arguments[3],me=arguments[4],Ne=arguments[5],pe=arguments[6],ye=arguments[7],de=arguments[8]),wn(Q=arguments[0])==="object"&&!g(Q)&&"imageData"in Q){var xe=Q;Q=xe.imageData,B=xe.format||B||e,ee=xe.x||ee||0,F=xe.y||F||0,me=xe.w||xe.width||me,Ne=xe.h||xe.height||Ne,pe=xe.alias||pe,ye=xe.compression||ye,de=xe.rotation||xe.angle||de}var G=this.internal.getFilters();if(ye===void 0&&G.indexOf("FlateEncode")!==-1&&(ye="SLOW"),isNaN(ee)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=z.call(this,Q,B,pe,ye);return S.call(this,ee,F,me,Ne,N,de),this};var z=function(Q,B,ee,F){var me,Ne,pe;if(typeof Q=="string"&&r(Q)===e){Q=unescape(Q);var ye=Ee(Q,!1);(ye!==""||(ye=n.loadFile(Q,!0))!==void 0)&&(Q=ye)}if(g(Q)&&(Q=y(Q,B)),B=r(Q,B),!m(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((pe=ee)==null||pe.length===0)&&(ee=function(de){return typeof de=="string"||we(de)?T(de):we(de.data)?T(de.data):null}(Q)),(me=p.call(this,ee))||(X()&&(Q instanceof Uint8Array||B==="RGBA"||(Ne=Q,Q=ce(Q))),me=this["process"+B.toUpperCase()](Q,h.call(this),ee,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:_.NONE}(F),Ne)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},Ee=n.__addimage__.convertBase64ToBinaryString=function(Q,B){var ee;B=typeof B!="boolean"||B;var F,me="";if(typeof Q=="string"){F=(ee=H(Q))!==null?ee.data:Q;try{me=Mh(F)}catch(Ne){if(B)throw j(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};n.getImageProperties=function(Q){var B,ee,F="";if(g(Q)&&(Q=y(Q)),typeof Q=="string"&&r(Q)===e&&((F=Ee(Q,!1))===""&&(F=n.loadFile(Q)||""),Q=F),ee=r(Q),!m(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!X()||Q instanceof Uint8Array||(Q=ce(Q)),!(B=this["process"+ee.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=ee,B}})(kt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};kt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,m=!1,g=0;g<h.length&&!m;g++)switch((r=h[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var p=this.internal.pdfEscape,E=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(S.objId),T=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+p(_(r.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+p(_(T))+") >>",S.content=o;var j=S.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+u(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(E(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var we=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+we+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,a){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+o)},options:a,type:"link"})},n.textWithLink=function(t,r,i,o){var a,u,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var m=this.splitTextToSize(t,u).length;a=Math.ceil(h*m)}else u=c,a=h;return this.text(t,r,i,o),i+=.2*h,o.align==="center"&&(r-=c/2),o.align==="right"&&(r-=c),this.link(r,i-h,u,a,o),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(kt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},u=n.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&o(S)&&e[S.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&o(S)&&e[S.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&o(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&o(S)&&e[S.charCodeAt(0)].length>=3};var m=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&o(S)&&e[S.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(S){var k=0,_=t,T="",j=0;for(k=0;k<S.length;k+=1)_[S.charCodeAt(k)]!==void 0?(j++,typeof(_=_[S.charCodeAt(k)])=="number"&&(T+=String.fromCharCode(_),_=t,j=0),k===S.length-1&&(_=t,T+=S.charAt(k-(j-1)),k-=j-1,j=0)):(_=t,T+=S.charAt(k-j),k-=j,j=0);return T};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var y=n.__arabicParser__.getCorrectForm=function(S,k,_){return a(S)?o(S)===!1?-1:!h(S)||!a(k)&&!a(_)||!a(_)&&u(k)||u(S)&&!a(k)||u(S)&&c(k)||u(S)&&u(k)?0:m(S)&&a(k)&&!u(k)&&a(_)&&h(_)?3:u(S)||!a(_)?1:2:-1},p=function(S){var k=0,_=0,T=0,j="",H="",X="",we=(S=S||"").split("\\s+"),ce=[];for(k=0;k<we.length;k+=1){for(ce.push(""),_=0;_<we[k].length;_+=1)j=we[k][_],H=we[k][_-1],X=we[k][_+1],a(j)?(T=y(j,H,X),ce[k]+=T!==-1?String.fromCharCode(e[j.charCodeAt(0)][T]):j):ce[k]+=j;ce[k]=g(ce[k])}return ce.join(" ")},E=n.__arabicParser__.processArabic=n.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(k)){var T=0;for(_=[],T=0;T<k.length;T+=1)Array.isArray(k[T])?_.push([p(k[T][0]),k[T][1],k[T][2]]):_.push([p(k[T])]);S=_}else S=p(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",E])}(kt.API),kt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(kt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(S){E=S}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,p=0,E=0,S=0,k=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=h.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,H){return j.concat(k.splitTextToSize(H,_))},[])):c=Array.isArray(c)?c:[c];for(var T=0;T<c.length;T++)p<(S=this.getStringUnitWidth(c[T],{font:g})*m)&&(p=S);return p!==0&&(E=c.length),{w:p/=y,h:Math.max((E*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/y,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-m,c.y+m,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+m,{align:"center",baseline:"top",maxWidth:c.width-m-m}):this.text(c.text,c.x+m,c.y+m,{align:"left",baseline:"top",maxWidth:c.width-m-m})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,m,g,y){if(r.call(this),!m)throw new Error("No data for PDF table.");var p,E,S,k,_=[],T=[],j=[],H={},X={},we=[],ce=[],oe=(y=y||{}).autoSize||!1,z=y.printHeaders!==!1,Ee=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,Q=y.margins||Object.assign({width:this.getPageWidth()},e),B=typeof y.padding=="number"?y.padding:3,ee=y.headerBackgroundColor||"#c8c8c8",F=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=Ee,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=F,this.setFontSize(Ee),g==null)T=_=Object.keys(m[0]),j=_.map(function(){return"left"});else if(Array.isArray(g)&&wn(g[0])==="object")for(_=g.map(function(xe){return xe.name}),T=g.map(function(xe){return xe.prompt||xe.name||""}),j=g.map(function(xe){return xe.align||"left"}),p=0;p<g.length;p+=1)X[g[p].name]=g[p].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(T=_=g,j=_.map(function(){return"left"}));if(oe||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<_.length;p+=1){for(H[k=_[p]]=m.map(function(xe){return xe[k]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(T[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=H[k],this.setFont(void 0,"normal"),S=0;S<E.length;S+=1)we.push(this.getTextDimensions(E[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[k]=Math.max.apply(null,we)+B+B,we=[]}if(z){var me={};for(p=0;p<_.length;p+=1)me[_[p]]={},me[_[p]].text=T[p],me[_[p]].align=j[p];var Ne=u.call(this,me,X);ce=_.map(function(xe){return new o(c,h,X[xe],Ne,me[xe].text,void 0,me[xe].align)}),this.setTableHeaderRow(ce),this.printHeaderRow(1,!1)}var pe=g.reduce(function(xe,G){return xe[G.name]=G.align,xe},{});for(p=0;p<m.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:m[p]},this);var ye=u.call(this,m[p],X);for(S=0;S<_.length;S+=1){var de=m[p][_[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:S,data:de},this),a.call(this,new o(c,h,X[_[S]],ye,de,p+2,pe[_[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var m=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var E=c[p];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,h[p]-m-m)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/y+m+m},this).reduce(function(p,E){return Math.max(p,E)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){m=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,y.push(m)),m.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,m),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}}(kt.API);var QE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F0=JE(ZE),e4=[100,200,300,400,500,600,700,800,900],hD=JE(e4);function D0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return QE[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof F0[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function E2(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var dD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function N2(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function pD(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},dD,t.genericFontFamilies||{}),o=null,a=null,u=0;u<e.length;++u)if(i[(o=D0(e[u])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){a=n[o.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+N2(o)+"' and default family '"+r+"'.");if(a=function(c,h){if(h[c])return h[c];var m=F0[c],g=m<=F0.normal?-1:1,y=E2(h,ZE,m,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(o.stretch,a),a=function(c,h){if(h[c])return h[c];for(var m=QE[c],g=0;g<m.length;++g)if(h[m[g]])return h[m[g]];throw new Error("Could not find a matching font-style for "+c)}(o.style,a),!(a=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var m=hD[c],g=E2(h,e4,m,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+N2(o)+"'.");return a}function I2(n){return n.trimLeft()}function mD(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function gD(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var fp,C2,k2,W1=["times"];(function(n){var e,t,r,i,o,a,u,c,h,m=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new c,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new a,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new a,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new m}]);var g=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=N;Object.defineProperty(this,"pdf",{get:function(){return q}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(se){W=!!se}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(se){ne=!!se}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(se){isNaN(se)||(K=se)}});var R=0;Object.defineProperty(this,"posY",{get:function(){return R},set:function(se){isNaN(se)||(R=se)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(se){var I;typeof se=="number"?I=[se,se,se,se]:((I=new Array(4))[0]=se[0],I[1]=se.length>=2?se[1]:I[0],I[2]=se.length>=3?se[2]:I[0],I[3]=se.length>=4?se[3]:I[1]),h.margin=I}});var L=!1;Object.defineProperty(this,"autoPaging",{get:function(){return L},set:function(se){L=se}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(se){J=se}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(se){le=se}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(se){se instanceof m&&(h=se)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(se){h.path=se}});var V=[];Object.defineProperty(this,"ctxStack",{get:function(){return V},set:function(se){V=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var I;I=y(se),this.ctx.fillStyle=I.style,this.ctx.isFillTransparent=I.a===0,this.ctx.fillOpacity=I.a,this.pdf.setFillColor(I.r,I.g,I.b,{a:I.a}),this.pdf.setTextColor(I.r,I.g,I.b,{a:I.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var I=y(se);this.ctx.strokeStyle=I.style,this.ctx.isStrokeTransparent=I.a===0,this.ctx.strokeOpacity=I.a,I.a===0?this.pdf.setDrawColor(255,255,255):(I.a,this.pdf.setDrawColor(I.r,I.g,I.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var ie=null;function _e(se,I){if(ie===null){var b=function(x){var O=[];return Object.keys(x).forEach(function(ae){x[ae].forEach(function(ve){var he=null;switch(ve){case"bold":he={family:ae,weight:"bold"};break;case"italic":he={family:ae,style:"italic"};break;case"bolditalic":he={family:ae,weight:"bold",style:"italic"};break;case"":case"normal":he={family:ae}}he!==null&&(he.ref={name:ae,style:ve},O.push(he))})}),O}(se.getFontList());ie=function(x){for(var O={},ae=0;ae<x.length;++ae){var ve=D0(x[ae]),he=ve.family,Oe=ve.stretch,qe=ve.style,Ue=ve.weight;O[he]=O[he]||{},O[he][Oe]=O[he][Oe]||{},O[he][Oe][qe]=O[he][Oe][qe]||{},O[he][Oe][qe][Ue]=ve}return O}(b.concat(I))}return ie}var D=null;Object.defineProperty(this,"fontFaces",{get:function(){return D},set:function(se){ie=null,D=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var I;if(this.ctx.font=se,(I=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(se))!==null){var b=I[1],x=(I[2],I[3]),O=I[4],ae=(I[5],I[6]),ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(O)[2];O=Math.floor(ve==="px"?parseFloat(O)*this.pdf.internal.scaleFactor:ve==="em"?parseFloat(O)*this.pdf.getFontSize():parseFloat(O)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(O);var he=function(mt){var At,ot,Bn=[],bt=mt.trim();if(bt==="")return W1;if(bt in A2)return[A2[bt]];for(;bt!=="";){switch(ot=null,At=(bt=I2(bt)).charAt(0)){case'"':case"'":ot=mD(bt.substring(1),At);break;default:ot=gD(bt)}if(ot===null||(Bn.push(ot[0]),(bt=I2(ot[1]))!==""&&bt.charAt(0)!==","))return W1;bt=bt.replace(/^,/,"")}return Bn}(ae);if(this.fontFaces){var Oe=pD(_e(this.pdf,this.fontFaces),he.map(function(mt){return{family:mt,stretch:"normal",weight:x,style:b}}));this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var qe="";(x==="bold"||parseInt(x,10)>=700||b==="bold")&&(qe="bold"),b==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Ue="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<he.length;st++){if(this.pdf.internal.getFont(he[st],qe,{noFallback:!0,disableWarning:!0})!==void 0){Ue=he[st];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(he[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=he[st],qe="bold";else if(this.pdf.internal.getFont(he[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=he[st],qe="normal";break}}if(Ue===""){for(var ct=0;ct<he.length;ct++)if(Xe[he[ct]]){Ue=Xe[he[ct]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};g.prototype.setLineDash=function(N){this.lineDash=N},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){H.call(this,"fill",!1)},g.prototype.stroke=function(){H.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(N,q){if(isNaN(N)||isNaN(q))throw En.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(N,q));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(N,q)},g.prototype.closePath=function(){var N=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&wn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){N=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(N.x,N.y)},g.prototype.lineTo=function(N,q){if(isNaN(N)||isNaN(q))throw En.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(N,q));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},g.prototype.quadraticCurveTo=function(N,q,W,ne){if(isNaN(W)||isNaN(ne)||isNaN(N)||isNaN(q))throw En.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new a(W,ne)),R=this.ctx.transform.applyToPoint(new a(N,q));this.path.push({type:"qct",x1:R.x,y1:R.y,x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},g.prototype.bezierCurveTo=function(N,q,W,ne,K,R){if(isNaN(K)||isNaN(R)||isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne))throw En.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var L=this.ctx.transform.applyToPoint(new a(K,R)),J=this.ctx.transform.applyToPoint(new a(N,q)),le=this.ctx.transform.applyToPoint(new a(W,ne));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:le.x,y2:le.y,x:L.x,y:L.y}),this.ctx.lastPoint=new a(L.x,L.y)},g.prototype.arc=function(N,q,W,ne,K,R){if(isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne)||isNaN(K))throw En.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(R=!!R,!this.ctx.transform.isIdentity){var L=this.ctx.transform.applyToPoint(new a(N,q));N=L.x,q=L.y;var J=this.ctx.transform.applyToPoint(new a(0,W)),le=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(J.x-le.x,2)+Math.pow(J.y-le.y,2))}Math.abs(K-ne)>=2*Math.PI&&(ne=0,K=2*Math.PI),this.path.push({type:"arc",x:N,y:q,radius:W,startAngle:ne,endAngle:K,counterclockwise:R})},g.prototype.arcTo=function(N,q,W,ne,K){throw new Error("arcTo not implemented.")},g.prototype.rect=function(N,q,W,ne){if(isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne))throw En.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,q),this.lineTo(N+W,q),this.lineTo(N+W,q+ne),this.lineTo(N,q+ne),this.lineTo(N,q),this.lineTo(N+W,q),this.lineTo(N,q)},g.prototype.fillRect=function(N,q,W,ne){if(isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne))throw En.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,q,W,ne),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},g.prototype.strokeRect=function(N,q,W,ne){if(isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne))throw En.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(N,q,W,ne),this.stroke())},g.prototype.clearRect=function(N,q,W,ne){if(isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne))throw En.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,q,W,ne))},g.prototype.save=function(N){N=typeof N!="boolean"||N;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},g.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(q),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(N){var q,W,ne,K;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))q=0,W=0,ne=0,K=0;else{var R=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(R!==null)q=parseInt(R[1]),W=parseInt(R[2]),ne=parseInt(R[3]),K=1;else if((R=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)q=parseInt(R[1]),W=parseInt(R[2]),ne=parseInt(R[3]),K=parseFloat(R[4]);else{if(K=1,typeof N=="string"&&N.charAt(0)!=="#"){var L=new VE(N);N=L.ok?L.toHex():"#000000"}N.length===4?(q=N.substring(1,2),q+=q,W=N.substring(2,3),W+=W,ne=N.substring(3,4),ne+=ne):(q=N.substring(1,3),W=N.substring(3,5),ne=N.substring(5,7)),q=parseInt(q,16),W=parseInt(W,16),ne=parseInt(ne,16)}}return{r:q,g:W,b:ne,a:K,style:N}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(N,q,W,ne){if(isNaN(q)||isNaN(W)||typeof N!="string")throw En.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var K=ye(this.ctx.transform.rotation),R=this.ctx.transform.scaleX;B.call(this,{text:N,x:q,y:W,scale:R,angle:K,align:this.textAlign,maxWidth:ne})}},g.prototype.strokeText=function(N,q,W,ne){if(isNaN(q)||isNaN(W)||typeof N!="string")throw En.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){ne=isNaN(ne)?void 0:ne;var K=ye(this.ctx.transform.rotation),R=this.ctx.transform.scaleX;B.call(this,{text:N,x:q,y:W,scale:R,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:ne})}},g.prototype.measureText=function(N){if(typeof N!="string")throw En.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,W=this.pdf.internal.scaleFactor,ne=q.internal.getFontSize(),K=q.getStringUnitWidth(N)*ne/q.internal.scaleFactor,R=function(L){var J=(L=L||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new R({width:K*=Math.round(96*W/72*1e4)/1e4})},g.prototype.scale=function(N,q){if(isNaN(N)||isNaN(q))throw En.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(N,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.rotate=function(N){if(isNaN(N))throw En.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(N,q){if(isNaN(N)||isNaN(q))throw En.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,N,q);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.transform=function(N,q,W,ne,K,R){if(isNaN(N)||isNaN(q)||isNaN(W)||isNaN(ne)||isNaN(K)||isNaN(R))throw En.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var L=new c(N,q,W,ne,K,R);this.ctx.transform=this.ctx.transform.multiply(L)},g.prototype.setTransform=function(N,q,W,ne,K,R){N=isNaN(N)?1:N,q=isNaN(q)?0:q,W=isNaN(W)?0:W,ne=isNaN(ne)?1:ne,K=isNaN(K)?0:K,R=isNaN(R)?0:R,this.ctx.transform=new c(N,q,W,ne,K,R)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(N,q,W,ne,K,R,L,J,le){var V=this.pdf.getImageProperties(N),ie=1,_e=1,D=1,se=1;ne!==void 0&&J!==void 0&&(D=J/ne,se=le/K,ie=V.width/ne*J/ne,_e=V.height/K*le/K),R===void 0&&(R=q,L=W,q=0,W=0),ne!==void 0&&J===void 0&&(J=ne,le=K),ne===void 0&&J===void 0&&(J=V.width,le=V.height);for(var I,b=this.ctx.transform.decompose(),x=ye(b.rotate.shx),O=new c,ae=(O=(O=(O=O.multiply(b.translate)).multiply(b.skew)).multiply(b.scale)).applyToRectangle(new u(R-q*D,L-W*se,ne*ie,K*_e)),ve=k.call(this,ae),he=[],Oe=0;Oe<ve.length;Oe+=1)he.indexOf(ve[Oe])===-1&&he.push(ve[Oe]);if(j(he),this.autoPaging)for(var qe=he[0],Ue=he[he.length-1],Xe=qe;Xe<Ue+1;Xe++){this.pdf.setPage(Xe);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Xe===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Xe===1?0:mt+(Xe-2)*At;if(this.ctx.clip_path.length!==0){var Bn=this.path;I=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(I,this.posX+this.margin[3],-ot+ct+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Bn}var bt=JSON.parse(JSON.stringify(ae));bt=T([bt],this.posX+this.margin[3],-ot+ct+this.ctx.prevPageLastElemOffset)[0];var yr=(Xe>qe||Xe<Ue)&&S.call(this);yr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,At,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,x),yr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,x)};var k=function(N,q,W){var ne=[];q=q||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":ne.push(Math.floor((N.y+K)/W)+1);break;case"arc":ne.push(Math.floor((N.y+K-N.radius)/W)+1),ne.push(Math.floor((N.y+K+N.radius)/W)+1);break;case"qct":var R=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);ne.push(Math.floor((R.y+K)/W)+1),ne.push(Math.floor((R.y+R.h+K)/W)+1);break;case"bct":var L=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);ne.push(Math.floor((L.y+K)/W)+1),ne.push(Math.floor((L.y+L.h+K)/W)+1);break;case"rect":ne.push(Math.floor((N.y+K)/W)+1),ne.push(Math.floor((N.y+N.h+K)/W)+1)}for(var J=0;J<ne.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<ne[J];)_.call(this);return ne},_=function(){var N=this.fillStyle,q=this.strokeStyle,W=this.font,ne=this.lineCap,K=this.lineWidth,R=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=q,this.font=W,this.lineCap=ne,this.lineWidth=K,this.lineJoin=R},T=function(N,q,W){for(var ne=0;ne<N.length;ne++)switch(N[ne].type){case"bct":N[ne].x2+=q,N[ne].y2+=W;case"qct":N[ne].x1+=q,N[ne].y1+=W;case"mt":case"lt":case"arc":default:N[ne].x+=q,N[ne].y+=W}return N},j=function(N){return N.sort(function(q,W){return q-W})},H=function(N,q){for(var W,ne,K=this.fillStyle,R=this.strokeStyle,L=this.lineCap,J=this.lineWidth,le=Math.abs(J*this.ctx.transform.scaleX),V=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),D=[],se=0;se<_e.length;se++)if(_e[se].x!==void 0)for(var I=k.call(this,_e[se]),b=0;b<I.length;b+=1)D.indexOf(I[b])===-1&&D.push(I[b]);for(var x=0;x<D.length;x++)for(;this.pdf.internal.getNumberOfPages()<D[x];)_.call(this);if(j(D),this.autoPaging)for(var O=D[0],ae=D[D.length-1],ve=O;ve<ae+1;ve++){this.pdf.setPage(ve),this.fillStyle=K,this.strokeStyle=R,this.lineCap=L,this.lineWidth=le,this.lineJoin=V;var he=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=ve===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=ve===1?0:qe+(ve-2)*Ue;if(this.ctx.clip_path.length!==0){var st=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(W,this.posX+this.margin[3],-Xe+Oe+this.ctx.prevPageLastElemOffset),X.call(this,N,!0),this.path=st}if(ne=JSON.parse(JSON.stringify(ie)),this.path=T(ne,this.posX+this.margin[3],-Xe+Oe+this.ctx.prevPageLastElemOffset),q===!1||ve===0){var ct=(ve>O||ve<ae)&&S.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],he,Ue,null).clip().discardPath()),X.call(this,N,q),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=le,X.call(this,N,q),this.lineWidth=J;this.path=ie},X=function(N,q){if((N!=="stroke"||q||!E.call(this))&&(N==="stroke"||q||!p.call(this))){for(var W,ne,K=[],R=this.path,L=0;L<R.length;L++){var J=R[L];switch(J.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:J,deltas:[],abs:[]});break;case"lt":var le=K.length;if(R[L-1]&&!isNaN(R[L-1].x)&&(W=[J.x-R[L-1].x,J.y-R[L-1].y],le>0)){for(;le>=0;le--)if(K[le-1].close!==!0&&K[le-1].begin!==!0){K[le-1].deltas.push(W),K[le-1].abs.push(J);break}}break;case"bct":W=[J.x1-R[L-1].x,J.y1-R[L-1].y,J.x2-R[L-1].x,J.y2-R[L-1].y,J.x-R[L-1].x,J.y-R[L-1].y],K[K.length-1].deltas.push(W);break;case"qct":var V=R[L-1].x+2/3*(J.x1-R[L-1].x),ie=R[L-1].y+2/3*(J.y1-R[L-1].y),_e=J.x+2/3*(J.x1-J.x),D=J.y+2/3*(J.y1-J.y),se=J.x,I=J.y;W=[V-R[L-1].x,ie-R[L-1].y,_e-R[L-1].x,D-R[L-1].y,se-R[L-1].x,I-R[L-1].y],K[K.length-1].deltas.push(W);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(J)}}ne=q?null:N==="stroke"?"stroke":"fill";for(var b=!1,x=0;x<K.length;x++)if(K[x].arc)for(var O=K[x].abs,ae=0;ae<O.length;ae++){var ve=O[ae];ve.type==="arc"?oe.call(this,ve.x,ve.y,ve.radius,ve.startAngle,ve.endAngle,ve.counterclockwise,void 0,q,!b):ee.call(this,ve.x,ve.y),b=!0}else if(K[x].close===!0)this.pdf.internal.out("h"),b=!1;else if(K[x].begin!==!0){var he=K[x].start.x,Oe=K[x].start.y;F.call(this,K[x].deltas,he,Oe),b=!0}ne&&z.call(this,ne),q&&Ee.call(this)}},we=function(N){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-W;case"top":return N+q-W;case"hanging":return N+q-2*W;case"middle":return N+q/2-W;case"ideographic":return N;case"alphabetic":default:return N}},ce=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(q,W){this.colorStops.push([q,W])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var oe=function(N,q,W,ne,K,R,L,J,le){for(var V=Ne.call(this,W,ne,K,R),ie=0;ie<V.length;ie++){var _e=V[ie];ie===0&&(le?Q.call(this,_e.x1+N,_e.y1+q):ee.call(this,_e.x1+N,_e.y1+q)),me.call(this,N,q,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}J?Ee.call(this):z.call(this,L)},z=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ee=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(N,q){this.pdf.internal.out(t(N)+" "+r(q)+" m")},B=function(N){var q;switch(N.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var W=this.pdf.getTextDimensions(N.text),ne=we.call(this,N.y),K=ce.call(this,ne)-W.h,R=this.ctx.transform.applyToPoint(new a(N.x,ne)),L=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(L.translate)).multiply(L.skew)).multiply(L.scale);for(var le,V,ie,_e=this.ctx.transform.applyToRectangle(new u(N.x,ne,W.w,W.h)),D=J.applyToRectangle(new u(N.x,K,W.w,W.h)),se=k.call(this,D),I=[],b=0;b<se.length;b+=1)I.indexOf(se[b])===-1&&I.push(se[b]);if(j(I),this.autoPaging)for(var x=I[0],O=I[I.length-1],ae=x;ae<O+1;ae++){this.pdf.setPage(ae);var ve=ae===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],qe=Oe-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],Xe=Ue-this.margin[3],st=ae===1?0:he+(ae-2)*qe;if(this.ctx.clip_path.length!==0){var ct=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(le,this.posX+this.margin[3],-1*st+ve),X.call(this,"fill",!0),this.path=ct}var mt=T([JSON.parse(JSON.stringify(D))],this.posX+this.margin[3],-st+ve+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*N.scale),ie=this.lineWidth,this.lineWidth=ie*N.scale);var At=this.autoPaging!=="text";if(At||mt.y+mt.h<=Oe){if(At||mt.y>=ve&&mt.x<=Ue){var ot=At?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ue-mt.x)[0],Bn=T([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-st+ve+this.ctx.prevPageLastElemOffset)[0],bt=At&&(ae>x||ae<O)&&S.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,qe,null).clip().discardPath()),this.pdf.text(ot,Bn.x,Bn.y,{angle:N.angle,align:q,renderingMode:N.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else mt.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-mt.y);N.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=ie)}else N.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*N.scale),ie=this.lineWidth,this.lineWidth=ie*N.scale),this.pdf.text(N.text,R.x+this.posX,R.y+this.posY,{angle:N.angle,align:q,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=ie)},ee=function(N,q,W,ne){W=W||0,ne=ne||0,this.pdf.internal.out(t(N+W)+" "+r(q+ne)+" l")},F=function(N,q,W){return this.pdf.lines(N,q,W,null,null)},me=function(N,q,W,ne,K,R,L,J){this.pdf.internal.out([e(i(W+N)),e(o(ne+q)),e(i(K+N)),e(o(R+q)),e(i(L+N)),e(o(J+q)),"c"].join(" "))},Ne=function(N,q,W,ne){for(var K=2*Math.PI,R=Math.PI/2;q>W;)q-=K;var L=Math.abs(W-q);L<K&&ne&&(L=K-L);for(var J=[],le=ne?-1:1,V=q;L>1e-5;){var ie=V+le*Math.min(L,R);J.push(pe.call(this,N,V,ie)),L-=Math.abs(ie-V),V=ie}return J},pe=function(N,q,W){var ne=(W-q)/2,K=N*Math.cos(ne),R=N*Math.sin(ne),L=K,J=-R,le=L*L+J*J,V=le+L*K+J*R,ie=4/3*(Math.sqrt(2*le*V)-V)/(L*R-J*K),_e=L-ie*J,D=J+ie*L,se=_e,I=-D,b=ne+q,x=Math.cos(b),O=Math.sin(b);return{x1:N*Math.cos(q),y1:N*Math.sin(q),x2:_e*x-D*O,y2:_e*O+D*x,x3:se*x-I*O,y3:se*O+I*x,x4:N*Math.cos(W),y4:N*Math.sin(W)}},ye=function(N){return 180*N/Math.PI},de=function(N,q,W,ne,K,R){var L=N+.5*(W-N),J=q+.5*(ne-q),le=K+.5*(W-K),V=R+.5*(ne-R),ie=Math.min(N,K,L,le),_e=Math.max(N,K,L,le),D=Math.min(q,R,J,V),se=Math.max(q,R,J,V);return new u(ie,D,_e-ie,se-D)},xe=function(N,q,W,ne,K,R,L,J){var le,V,ie,_e,D,se,I,b,x,O,ae,ve,he,Oe,qe=W-N,Ue=ne-q,Xe=K-W,st=R-ne,ct=L-K,mt=J-R;for(V=0;V<41;V++)x=(I=(ie=N+(le=V/40)*qe)+le*((D=W+le*Xe)-ie))+le*(D+le*(K+le*ct-D)-I),O=(b=(_e=q+le*Ue)+le*((se=ne+le*st)-_e))+le*(se+le*(R+le*mt-se)-b),V==0?(ae=x,ve=O,he=x,Oe=O):(ae=Math.min(ae,x),ve=Math.min(ve,O),he=Math.max(he,x),Oe=Math.max(Oe,O));return new u(Math.round(ae),Math.round(ve),Math.round(he-ae),Math.round(Oe-ve))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,q,W=(N=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:q}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(kt.API),function(n){var e=function(o){var a,u,c,h,m,g,y,p,E,S;for(u=[],c=0,h=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;h>c;c+=4)(m=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(g=(m=((m=((m=((m=(m-(S=m%85))/85)-(E=m%85))/85)-(p=m%85))/85)-(y=m%85))/85)%85,u.push(g+33,y+33,p+33,E+33,S+33)):u.push(122);return function(k,_){for(var T=_;T>0;T--)k.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var a,u,c,h,m,g=String,y="length",p=255,E="charCodeAt",S="slice",k="replace";for(o[S](-2),o=o[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),c=[],h=0,m=(o+=a="uuuuu"[S](o[y]%5||5))[y];m>h;h+=5)u=52200625*(o[E](h)-33)+614125*(o[E](h+1)-33)+7225*(o[E](h+2)-33)+85*(o[E](h+3)-33)+(o[E](h+4)-33),c.push(p&u>>24,p&u>>16,p&u>>8,p&u);return function(_,T){for(var j=T;j>0;j--)_.pop()}(c,a[y]),g.fromCharCode.apply(g,c)},r=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var u="",c=0;c<o.length;c+=2)u+=String.fromCharCode("0x"+(o[c]+o[c+1]));return u},i=function(o){for(var a=new Uint8Array(o.length),u=o.length;u--;)a[u]=o.charCodeAt(u);return o=(a=T0(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};n.processDataByFilters=function(o,a){var u=0,c=o||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(kt.API),function(n){n.loadFile=function(e,t,r){return function(i,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var u=void 0;try{u=function(c,h,m){var g=new XMLHttpRequest,y=0,p=function(E){var S=E.length,k=[],_=String.fromCharCode;for(y=0;y<S;y+=1)k.push(_(255&E.charCodeAt(y)));return k.join("")};if(g.open("GET",c,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?m(p(this.responseText)):m(void 0)}),g.send(null),h&&g.status===200)return p(g.responseText)}(i,o,a)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(kt.API),function(n){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):A0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):A0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var u=wn(a);return u==="undefined"?"undefined":u==="string"||a instanceof String?"string":u==="number"||a instanceof Number?"number":u==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(a,u){var c=document.createElement(a);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},o=function a(u){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,a,1,[a])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,u){return a.__proto__=u||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,m){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)m!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(c(y,m));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var p=h[y],E=p.src.find(function(S){return S.format==="truetype"});E&&c.addFont(E.url,p.ref.name,p.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,u):this.outputPdf(a,u)},o.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var u=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(a,u){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return u?u(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,u,c,h){return a!=null&&(this.progress.val=a),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,u,c,h){return this.setProgress(a?this.progress.val+a:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(a,u){var c=this;return this.thenCore(a,u,function(h,m){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,m).then(function(g){return c.updateProgress(1),g})})},o.prototype.thenCore=function(a,u,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),m=c.call(h,a,u);return o.convert(m,this.__proto__)},o.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},o.prototype.thenList=function(a){var u=this;return a.forEach(function(c){u=u.thenCore(c)}),u},o.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return o.convert(u,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,kt.getPageSize=function(a,u,c){if(wn(a)==="object"){var h=a;a=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var m,g=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var p,E=0,S=0;if(y.hasOwnProperty(g))E=y[g][1]/m,S=y[g][0]/m;else try{E=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",S>E&&(p=S,S=E,E=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>S&&(p=S,S=E,E=p)}return{width:S,height:E,unit:u,k:m,orientation:a}},n.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(D0):null;var c=new o(u);return u.worker?c:c.from(a).doCallback()}}(kt.API),kt.API.addJS=function(n){return k2=n,this.internal.events.subscribe("postPutResources",function(){fp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),C2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+k2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fp!==void 0&&C2!==void 0&&this.internal.out("/Names <</JavaScript "+fp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var a=i[o],u=r.exec(a);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(o=0;o<h;o++){var g=t.internal.newObject();m.push(g);var y=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var a={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var a=r.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(kt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,a,u){var c,h=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var y,p=256*g.charCodeAt(4)+g.charCodeAt(5),E=g.length,S={width:0,height:0,numcomponents:1},k=4;k<E;k+=2){if(k+=p,e.indexOf(g.charCodeAt(k+1))!==-1){y=256*g.charCodeAt(k+5)+g.charCodeAt(k+6),S={width:256*g.charCodeAt(k+7)+g.charCodeAt(k+8),height:y,numcomponents:g.charCodeAt(k+9)};break}p=256*g.charCodeAt(k+2)+g.charCodeAt(k+3)}return S}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:r,alias:i}}return m}}(kt.API);var rf,hp,T2,P2,L2,vD=function(){var n,e,t;function r(o){var a,u,c,h,m,g,y,p,E,S,k,_,T,j;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(a=this.readUInt32(),E=(function(){var H,X;for(X=[],H=0;H<4;++H)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*m/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,a-=4),o=(g!=null?g.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(T=0;0<=S?T<S:T>S;0<=S?++T:--T)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(k=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,k.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,k.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var a,u;for(u=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),c=0,h=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function m(g,y,p,E){var S,k,_,T,j,H,X,we,ce,oe,z,Ee,Q,B,ee,F,me,Ne,pe,ye,de,xe=Math.ceil((h.width-g)/p),G=Math.ceil((h.height-y)/E),N=h.width==xe&&h.height==G;for(B=a*xe,Ee=N?u:new Uint8Array(B*G),H=o.length,Q=0,k=0;Q<G&&c<H;){switch(o[c++]){case 0:for(T=me=0;me<B;T=me+=1)Ee[k++]=o[c++];break;case 1:for(T=Ne=0;Ne<B;T=Ne+=1)S=o[c++],j=T<a?0:Ee[k-a],Ee[k++]=(S+j)%256;break;case 2:for(T=pe=0;pe<B;T=pe+=1)S=o[c++],_=(T-T%a)/a,ee=Q&&Ee[(Q-1)*B+_*a+T%a],Ee[k++]=(ee+S)%256;break;case 3:for(T=ye=0;ye<B;T=ye+=1)S=o[c++],_=(T-T%a)/a,j=T<a?0:Ee[k-a],ee=Q&&Ee[(Q-1)*B+_*a+T%a],Ee[k++]=(S+Math.floor((j+ee)/2))%256;break;case 4:for(T=de=0;de<B;T=de+=1)S=o[c++],_=(T-T%a)/a,j=T<a?0:Ee[k-a],Q===0?ee=F=0:(ee=Ee[(Q-1)*B+_*a+T%a],F=_&&Ee[(Q-1)*B+(_-1)*a+T%a]),X=j+ee-F,we=Math.abs(X-j),oe=Math.abs(X-ee),z=Math.abs(X-F),ce=we<=oe&&we<=z?j:oe<=z?ee:F,Ee[k++]=(S+ce)%256;break;default:throw new Error("Invalid filter algorithm: "+o[c-1])}if(!N){var q=((y+Q*E)*h.width+g)*a,W=Q*B;for(T=0;T<xe;T+=1){for(var ne=0;ne<a;ne+=1)u[q++]=Ee[W++];q+=(p-1)*a}}Q++}}return o=Y7(o),h.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},r.prototype.decodePalette=function(){var o,a,u,c,h,m,g,y,p;for(u=this.palette,m=this.transparency.indexed||[],h=new Uint8Array((m.length||0)+u.length),c=0,o=0,a=g=0,y=u.length;g<y;a=g+=3)h[c++]=u[a],h[c++]=u[a+1],h[c++]=u[a+2],h[c++]=(p=m[o++])!=null?p:255;return h},r.prototype.copyToImageData=function(o,a){var u,c,h,m,g,y,p,E,S,k,_;if(c=this.colors,S=null,u=this.hasAlphaChannel,this.palette.length&&(S=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,u=!0),E=(h=o.data||o).length,g=S||a,m=y=0,c===1)for(;m<E;)p=S?4*a[m/4]:y,k=g[p++],h[m++]=k,h[m++]=k,h[m++]=k,h[m++]=u?g[p++]:255,y=p;else for(;m<E;)p=S?4*a[m/4]:y,h[m++]=g[p++],h[m++]=g[p++],h[m++]=g[p++],h[m++]=u?g[p++]:255,y=p},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(Tt)==="[object Window]"){try{e=Tt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var a;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var a,u,c,h,m,g,y,p;if(this.animation){for(p=[],u=m=0,g=(y=this.animation.frames).length;m<g;u=++m)a=y[u],c=o.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,h),a.imageData=c,p.push(a.image=n(c));return p}},r.prototype.renderFrame=function(o,a){var u,c,h;return u=(c=this.animation.frames)[a],h=c[a-1],a===0&&o.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?o.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&o.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(o){var a,u,c,h,m,g,y=this;return u=0,g=this.animation,h=g.numFrames,c=g.frames,m=g.numPlays,(a=function(){var p,E;if(p=u++%h,E=c[p],y.renderFrame(o,p),h>1&&u/h<m)return y.animation._timeout=setTimeout(a,E.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var a,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function yD(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var u=null,c=null;o&&(u=e,c=a,e+=3*a);var h=!0,m=[],g=0,y=null,p=0,E=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,E=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((Q=n[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];g=n[e++]|n[e++]<<8,y=n[e++],(1&S)==0&&(y=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((Q=n[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,H=n[e++],X=H>>6&1,we=1<<(7&H)+1,ce=u,oe=c,z=!1;H>>7&&(z=!0,ce=e,oe=we,e+=3*we);var Ee=e;for(e++;;){var Q;if(!((Q=n[e++])>=0))throw Error("Invalid block size");if(Q===0)break;e+=Q}m.push({x:k,y:_,width:T,height:j,has_local_palette:z,palette_offset:ce,palette_size:oe,data_offset:Ee,data_length:e-Ee,transparent_index:y,interlaced:!!X,delay:g,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return E},this.frameInfo=function(B){if(B<0||B>=m.length)throw new Error("Frame index out of range.");return m[B]},this.decodeAndBlitFrameBGRA=function(B,ee){var F=this.frameInfo(B),me=F.width*F.height,Ne=new Uint8Array(me);R2(n,F.data_offset,Ne,me);var pe=F.palette_offset,ye=F.transparent_index;ye===null&&(ye=256);var de=F.width,xe=t-de,G=de,N=4*(F.y*t+F.x),q=4*((F.y+F.height)*t+F.x),W=N,ne=4*xe;F.interlaced===!0&&(ne+=4*t*7);for(var K=8,R=0,L=Ne.length;R<L;++R){var J=Ne[R];if(G===0&&(G=de,(W+=ne)>=q&&(ne=4*xe+4*t*(K-1),W=N+(de+xe)*(K<<1),K>>=1)),J===ye)W+=4;else{var le=n[pe+3*J],V=n[pe+3*J+1],ie=n[pe+3*J+2];ee[W++]=ie,ee[W++]=V,ee[W++]=le,ee[W++]=255}--G}},this.decodeAndBlitFrameRGBA=function(B,ee){var F=this.frameInfo(B),me=F.width*F.height,Ne=new Uint8Array(me);R2(n,F.data_offset,Ne,me);var pe=F.palette_offset,ye=F.transparent_index;ye===null&&(ye=256);var de=F.width,xe=t-de,G=de,N=4*(F.y*t+F.x),q=4*((F.y+F.height)*t+F.x),W=N,ne=4*xe;F.interlaced===!0&&(ne+=4*t*7);for(var K=8,R=0,L=Ne.length;R<L;++R){var J=Ne[R];if(G===0&&(G=de,(W+=ne)>=q&&(ne=4*xe+4*t*(K-1),W=N+(de+xe)*(K<<1),K>>=1)),J===ye)W+=4;else{var le=n[pe+3*J],V=n[pe+3*J+1],ie=n[pe+3*J+2];ee[W++]=le,ee[W++]=V,ee[W++]=ie,ee[W++]=255}--G}}}function R2(n,e,t,r){for(var i=n[e++],o=1<<i,a=o+1,u=a+1,c=i+1,h=(1<<c)-1,m=0,g=0,y=0,p=n[e++],E=new Int32Array(4096),S=null;;){for(;m<16&&p!==0;)g|=n[e++]<<m,m+=8,p===1?p=n[e++]:--p;if(m<c)break;var k=g&h;if(g>>=c,m-=c,k!==o){if(k===a)break;for(var _=k<u?k:S,T=0,j=_;j>o;)j=E[j]>>8,++T;var H=j;if(y+T+(_!==k?1:0)>r)return void En.log("Warning, gif stream longer than expected.");t[y++]=H;var X=y+=T;for(_!==k&&(t[y++]=H),j=_;T--;)j=E[j],t[--X]=255&j,j>>=8;S!==null&&u<4096&&(E[u++]=S<<8|H,u>=h+1&&c<12&&(++c,h=h<<1|1)),S=k}else u=a+1,h=(1<<(c=i+1))-1,S=null}return y!==r&&En.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H1(n){var e,t,r,i,o,a=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),m=new Array(64),g=new Array(65535),y=new Array(65535),p=new Array(64),E=new Array(64),S=[],k=0,_=7,T=new Array(64),j=new Array(64),H=new Array(64),X=new Array(256),we=new Array(2048),ce=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],oe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],Ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ne(N,q){for(var W=0,ne=0,K=new Array,R=1;R<=16;R++){for(var L=1;L<=N[R];L++)K[q[ne]]=[],K[q[ne]][0]=W,K[q[ne]][1]=R,ne++,W++;W*=2}return K}function pe(N){for(var q=N[0],W=N[1]-1;W>=0;)q&1<<W&&(k|=1<<_),W--,--_<0&&(k==255?(ye(255),ye(0)):ye(k),_=7,k=0)}function ye(N){S.push(N)}function de(N){ye(N>>8&255),ye(255&N)}function xe(N,q,W,ne,K){for(var R,L=K[0],J=K[240],le=function(O,ae){var ve,he,Oe,qe,Ue,Xe,st,ct,mt,At,ot=0;for(mt=0;mt<8;++mt){ve=O[ot],he=O[ot+1],Oe=O[ot+2],qe=O[ot+3],Ue=O[ot+4],Xe=O[ot+5],st=O[ot+6];var Bn=ve+(ct=O[ot+7]),bt=ve-ct,yr=he+st,Zt=he-st,Wt=Oe+Xe,jr=Oe-Xe,Yt=qe+Ue,Qi=qe-Ue,_n=Bn+Yt,nr=Bn-Yt,Gn=yr+Wt,dn=yr-Wt;O[ot]=_n+Gn,O[ot+4]=_n-Gn;var Ot=.707106781*(dn+nr);O[ot+2]=nr+Ot,O[ot+6]=nr-Ot;var en=.382683433*((_n=Qi+jr)-(dn=Zt+bt)),_o=.5411961*_n+en,mr=1.306562965*dn+en,Ti=.707106781*(Gn=jr+Zt),Zi=bt+Ti,xt=bt-Ti;O[ot+5]=xt+_o,O[ot+3]=xt-_o,O[ot+1]=Zi+mr,O[ot+7]=Zi-mr,ot+=8}for(ot=0,mt=0;mt<8;++mt){ve=O[ot],he=O[ot+8],Oe=O[ot+16],qe=O[ot+24],Ue=O[ot+32],Xe=O[ot+40],st=O[ot+48];var gi=ve+(ct=O[ot+56]),Yr=ve-ct,Xr=he+st,kn=he-st,Tn=Oe+Xe,Ar=Oe-Xe,bo=qe+Ue,Ms=qe-Ue,es=gi+bo,ts=gi-bo,wr=Xr+Tn,ns=Xr-Tn;O[ot]=es+wr,O[ot+32]=es-wr;var vi=.707106781*(ns+ts);O[ot+16]=ts+vi,O[ot+48]=ts-vi;var ms=.382683433*((es=Ms+Ar)-(ns=kn+Yr)),So=.5411961*es+ms,sa=1.306562965*ns+ms,oa=.707106781*(wr=Ar+kn),aa=Yr+oa,el=Yr-oa;O[ot+40]=el+So,O[ot+24]=el-So,O[ot+8]=aa+sa,O[ot+56]=aa-sa,ot++}for(mt=0;mt<64;++mt)At=O[mt]*ae[mt],p[mt]=At>0?At+.5|0:At-.5|0;return p}(N,q),V=0;V<64;++V)E[ce[V]]=le[V];var ie=E[0]-W;W=E[0],ie==0?pe(ne[0]):(pe(ne[y[R=32767+ie]]),pe(g[R]));for(var _e=63;_e>0&&E[_e]==0;)_e--;if(_e==0)return pe(L),W;for(var D,se=1;se<=_e;){for(var I=se;E[se]==0&&se<=_e;)++se;var b=se-I;if(b>=16){D=b>>4;for(var x=1;x<=D;++x)pe(J);b&=15}R=32767+E[se],pe(K[(b<<4)+y[R]]),pe(g[R]),se++}return _e!=63&&pe(L),W}function G(N){N=Math.min(Math.max(N,1),100),o!=N&&(function(q){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var K=a((W[ne]*q+50)/100);K=Math.min(Math.max(K,1),255),u[ce[ne]]=K}for(var R=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],L=0;L<64;L++){var J=a((R[L]*q+50)/100);J=Math.min(Math.max(J,1),255),c[ce[L]]=J}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],V=0,ie=0;ie<8;ie++)for(var _e=0;_e<8;_e++)h[V]=1/(u[ce[V]]*le[ie]*le[_e]*8),m[V]=1/(c[ce[V]]*le[ie]*le[_e]*8),V++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),o=N)}this.encode=function(N,q){q&&G(q),S=new Array,k=0,_=7,de(65496),de(65504),de(16),ye(74),ye(70),ye(73),ye(70),ye(0),ye(1),ye(1),ye(0),de(1),de(1),ye(0),ye(0),function(){de(65499),de(132),ye(0);for(var he=0;he<64;he++)ye(u[he]);ye(1);for(var Oe=0;Oe<64;Oe++)ye(c[Oe])}(),function(he,Oe){de(65472),de(17),ye(8),de(Oe),de(he),ye(3),ye(1),ye(17),ye(0),ye(2),ye(17),ye(1),ye(3),ye(17),ye(1)}(N.width,N.height),function(){de(65476),de(418),ye(0);for(var he=0;he<16;he++)ye(oe[he+1]);for(var Oe=0;Oe<=11;Oe++)ye(z[Oe]);ye(16);for(var qe=0;qe<16;qe++)ye(Ee[qe+1]);for(var Ue=0;Ue<=161;Ue++)ye(Q[Ue]);ye(1);for(var Xe=0;Xe<16;Xe++)ye(B[Xe+1]);for(var st=0;st<=11;st++)ye(ee[st]);ye(17);for(var ct=0;ct<16;ct++)ye(F[ct+1]);for(var mt=0;mt<=161;mt++)ye(me[mt])}(),de(65498),de(12),ye(3),ye(1),ye(0),ye(2),ye(17),ye(3),ye(17),ye(0),ye(63),ye(0);var W=0,ne=0,K=0;k=0,_=7,this.encode.displayName="_encode_";for(var R,L,J,le,V,ie,_e,D,se,I=N.data,b=N.width,x=N.height,O=4*b,ae=0;ae<x;){for(R=0;R<O;){for(V=O*ae+R,_e=-1,D=0,se=0;se<64;se++)ie=V+(D=se>>3)*O+(_e=4*(7&se)),ae+D>=x&&(ie-=O*(ae+1+D-x)),R+_e>=O&&(ie-=R+_e-O+4),L=I[ie++],J=I[ie++],le=I[ie++],T[se]=(we[L]+we[J+256>>0]+we[le+512>>0]>>16)-128,j[se]=(we[L+768>>0]+we[J+1024>>0]+we[le+1280>>0]>>16)-128,H[se]=(we[L+1280>>0]+we[J+1536>>0]+we[le+1792>>0]>>16)-128;W=xe(T,h,W,e,r),ne=xe(j,m,ne,t,i),K=xe(H,m,K,t,i),R+=32}ae+=8}if(_>=0){var ve=[];ve[1]=_+1,ve[0]=(1<<_+1)-1,pe(ve)}return de(65497),new Uint8Array(S)},n=n||50,function(){for(var N=String.fromCharCode,q=0;q<256;q++)X[q]=N(q)}(),e=Ne(oe,z),t=Ne(B,ee),r=Ne(Ee,Q),i=Ne(F,me),function(){for(var N=1,q=2,W=1;W<=15;W++){for(var ne=N;ne<q;ne++)y[32767+ne]=W,g[32767+ne]=[],g[32767+ne][1]=W,g[32767+ne][0]=ne;for(var K=-(q-1);K<=-N;K++)y[32767+K]=W,g[32767+K]=[],g[32767+K][1]=W,g[32767+K][0]=q-1+K;N<<=1,q<<=1}}(),function(){for(var N=0;N<256;N++)we[N]=19595*N,we[N+256>>0]=38470*N,we[N+512>>0]=7471*N+32768,we[N+768>>0]=-11059*N,we[N+1024>>0]=-21709*N,we[N+1280>>0]=32768*N+8421375,we[N+1536>>0]=-27439*N,we[N+1792>>0]=-5329*N}(),G(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ao(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function O2(n){function e(oe){if(!oe)throw Error("assert :P")}function t(oe,z,Ee){for(var Q=0;4>Q;Q++)if(oe[z+Q]!=Ee.charCodeAt(Q))return!0;return!1}function r(oe,z,Ee,Q,B){for(var ee=0;ee<B;ee++)oe[z+ee]=Ee[Q+ee]}function i(oe,z,Ee,Q){for(var B=0;B<Q;B++)oe[z+B]=Ee}function o(oe){return new Int32Array(oe)}function a(oe,z){for(var Ee=[],Q=0;Q<oe;Q++)Ee.push(new z);return Ee}function u(oe,z){var Ee=[];return function Q(B,ee,F){for(var me=F[ee],Ne=0;Ne<me&&(B.push(F.length>ee+1?[]:new z),!(F.length<ee+1));Ne++)Q(B[Ne],ee+1,F)}(Ee,0,oe),Ee}var c=function(){var oe=this;function z(d,w){for(var P=1<<w-1>>>0;d&P;)P>>>=1;return P?(d&P-1)+P:d}function Ee(d,w,P,U,$){e(!(U%P));do d[w+(U-=P)]=$;while(0<U)}function Q(d,w,P,U,$){if(e(2328>=$),512>=$)var Z=o(512);else if((Z=o($))==null)return 0;return function(re,ue,fe,ge,Ce,Me){var je,Re,Je=ue,He=1<<fe,Te=o(16),Pe=o(16);for(e(Ce!=0),e(ge!=null),e(re!=null),e(0<fe),Re=0;Re<Ce;++Re){if(15<ge[Re])return 0;++Te[ge[Re]]}if(Te[0]==Ce)return 0;for(Pe[1]=0,je=1;15>je;++je){if(Te[je]>1<<je)return 0;Pe[je+1]=Pe[je]+Te[je]}for(Re=0;Re<Ce;++Re)je=ge[Re],0<ge[Re]&&(Me[Pe[je]++]=Re);if(Pe[15]==1)return(ge=new B).g=0,ge.value=Me[0],Ee(re,Je,1,He,ge),He;var Ke,Ge=-1,Ye=He-1,dt=0,ut=1,Et=1,ft=1<<fe;for(Re=0,je=1,Ce=2;je<=fe;++je,Ce<<=1){if(ut+=Et<<=1,0>(Et-=Te[je]))return 0;for(;0<Te[je];--Te[je])(ge=new B).g=je,ge.value=Me[Re++],Ee(re,Je+dt,Ce,ft,ge),dt=z(dt,je)}for(je=fe+1,Ce=2;15>=je;++je,Ce<<=1){if(ut+=Et<<=1,0>(Et-=Te[je]))return 0;for(;0<Te[je];--Te[je]){if(ge=new B,(dt&Ye)!=Ge){for(Je+=ft,Ke=1<<(Ge=je)-fe;15>Ge&&!(0>=(Ke-=Te[Ge]));)++Ge,Ke<<=1;He+=ft=1<<(Ke=Ge-fe),re[ue+(Ge=dt&Ye)].g=Ke+fe,re[ue+Ge].value=Je-ue-Ge}ge.g=je-fe,ge.value=Me[Re++],Ee(re,Je+(dt>>fe),Ce,ft,ge),dt=z(dt,je)}}return ut!=2*Pe[15]-1?0:He}(d,w,P,U,$,Z)}function B(){this.value=this.g=0}function ee(){this.value=this.g=0}function F(){this.G=a(5,B),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(zn,ee)}function me(d,w,P,U){e(d!=null),e(w!=null),e(2147483648>U),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=w,d.pa=P,d.Jd=w,d.Yc=P+U,d.Zc=4<=U?P+U-4+1:P,R(d)}function Ne(d,w){for(var P=0;0<w--;)P|=J(d,128)<<w;return P}function pe(d,w){var P=Ne(d,w);return L(d)?-P:P}function ye(d,w,P,U){var $,Z=0;for(e(d!=null),e(w!=null),e(4294967288>U),d.Sb=U,d.Ra=0,d.u=0,d.h=0,4<U&&(U=4),$=0;$<U;++$)Z+=w[P+$]<<8*$;d.Ra=Z,d.bb=U,d.oa=w,d.pa=P}function de(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<_l-8>>>0,++d.bb,d.u-=8;W(d)&&(d.h=1,d.u=0)}function xe(d,w){if(e(0<=w),!d.h&&w<=wl){var P=q(d)&yl[w];return d.u+=w,de(d),P}return d.h=1,d.u=0}function G(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(d){return d.Ra>>>(d.u&_l-1)>>>0}function W(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>_l}function ne(d,w){d.u=w,d.h=W(d)}function K(d){d.u>=bl&&(e(d.u>=bl),de(d))}function R(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function L(d){return Ne(d,1)}function J(d,w){var P=d.Ca;0>d.b&&R(d);var U=d.b,$=P*w>>>8,Z=(d.I>>>U>$)+0;for(Z?(P-=$,d.I-=$+1<<U>>>0):P=$+1,U=P,$=0;256<=U;)$+=8,U>>=8;return U=7^$+Br[U],d.b-=U,d.Ca=(P<<U)-1,Z}function le(d,w,P){d[w+0]=P>>24&255,d[w+1]=P>>16&255,d[w+2]=P>>8&255,d[w+3]=P>>0&255}function V(d,w){return d[w+0]<<0|d[w+1]<<8}function ie(d,w){return V(d,w)|d[w+2]<<16}function _e(d,w){return V(d,w)|V(d,w+2)<<16}function D(d,w){var P=1<<w;return e(d!=null),e(0<w),d.X=o(P),d.X==null?0:(d.Mb=32-w,d.Xa=w,1)}function se(d,w){e(d!=null),e(w!=null),e(d.Xa==w.Xa),r(w.X,0,d.X,0,1<<w.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function b(d,w,P,U){e(P!=null),e(U!=null);var $=P[0],Z=U[0];return $==0&&($=(d*Z+w/2)/w),Z==0&&(Z=(w*$+d/2)/d),0>=$||0>=Z?0:(P[0]=$,U[0]=Z,1)}function x(d,w){return d+(1<<w)-1>>>w}function O(d,w){return((4278255360&d)+(4278255360&w)>>>0&4278255360)+((16711935&d)+(16711935&w)>>>0&16711935)>>>0}function ae(d,w){oe[w]=function(P,U,$,Z,re,ue,fe){var ge;for(ge=0;ge<re;++ge){var Ce=oe[d](ue[fe+ge-1],$,Z+ge);ue[fe+ge]=O(P[U+ge],Ce)}}}function ve(){this.ud=this.hd=this.jd=0}function he(d,w){return((4278124286&(d^w))>>>1)+(d&w)>>>0}function Oe(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function qe(d,w){return Oe(d+(d-w+.5>>1))}function Ue(d,w,P){return Math.abs(w-P)-Math.abs(d-P)}function Xe(d,w,P,U,$,Z,re){for(U=Z[re-1],P=0;P<$;++P)Z[re+P]=U=O(d[w+P],U)}function st(d,w,P,U,$){var Z;for(Z=0;Z<P;++Z){var re=d[w+Z],ue=re>>8&255,fe=16711935&(fe=(fe=16711935&re)+((ue<<16)+ue));U[$+Z]=(4278255360&re)+fe>>>0}}function ct(d,w){w.jd=d>>0&255,w.hd=d>>8&255,w.ud=d>>16&255}function mt(d,w,P,U,$,Z){var re;for(re=0;re<U;++re){var ue=w[P+re],fe=ue>>>8,ge=ue,Ce=255&(Ce=(Ce=ue>>>16)+((d.jd<<24>>24)*(fe<<24>>24)>>>5));ge=255&(ge=(ge=ge+((d.hd<<24>>24)*(fe<<24>>24)>>>5))+((d.ud<<24>>24)*(Ce<<24>>24)>>>5)),$[Z+re]=(4278255360&ue)+(Ce<<16)+ge}}function At(d,w,P,U,$){oe[w]=function(Z,re,ue,fe,ge,Ce,Me,je,Re){for(fe=Me;fe<je;++fe)for(Me=0;Me<Re;++Me)ge[Ce++]=$(ue[U(Z[re++])])},oe[d]=function(Z,re,ue,fe,ge,Ce,Me){var je=8>>Z.b,Re=Z.Ea,Je=Z.K[0],He=Z.w;if(8>je)for(Z=(1<<Z.b)-1,He=(1<<je)-1;re<ue;++re){var Te,Pe=0;for(Te=0;Te<Re;++Te)Te&Z||(Pe=U(fe[ge++])),Ce[Me++]=$(Je[Pe&He]),Pe>>=je}else oe["VP8LMapColor"+P](fe,ge,Je,He,Ce,Me,re,ue,Re)}}function ot(d,w,P,U,$){for(P=w+P;w<P;){var Z=d[w++];U[$++]=Z>>16&255,U[$++]=Z>>8&255,U[$++]=Z>>0&255}}function Bn(d,w,P,U,$){for(P=w+P;w<P;){var Z=d[w++];U[$++]=Z>>16&255,U[$++]=Z>>8&255,U[$++]=Z>>0&255,U[$++]=Z>>24&255}}function bt(d,w,P,U,$){for(P=w+P;w<P;){var Z=(re=d[w++])>>16&240|re>>12&15,re=re>>0&240|re>>28&15;U[$++]=Z,U[$++]=re}}function yr(d,w,P,U,$){for(P=w+P;w<P;){var Z=(re=d[w++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;U[$++]=Z,U[$++]=re}}function Zt(d,w,P,U,$){for(P=w+P;w<P;){var Z=d[w++];U[$++]=Z>>0&255,U[$++]=Z>>8&255,U[$++]=Z>>16&255}}function Wt(d,w,P,U,$,Z){if(Z==0)for(P=w+P;w<P;)le(U,((Z=d[w++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),$+=32;else r(U,$,d,w,P)}function jr(d,w){oe[w][0]=oe[d+"0"],oe[w][1]=oe[d+"1"],oe[w][2]=oe[d+"2"],oe[w][3]=oe[d+"3"],oe[w][4]=oe[d+"4"],oe[w][5]=oe[d+"5"],oe[w][6]=oe[d+"6"],oe[w][7]=oe[d+"7"],oe[w][8]=oe[d+"8"],oe[w][9]=oe[d+"9"],oe[w][10]=oe[d+"10"],oe[w][11]=oe[d+"11"],oe[w][12]=oe[d+"12"],oe[w][13]=oe[d+"13"],oe[w][14]=oe[d+"0"],oe[w][15]=oe[d+"0"]}function Yt(d){return d==Il||d==Ia||d==Lu||d==Ru}function Qi(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qi,this.f.kb=new _n,this.sd=null}function Gn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function en(d,w){var P=d.T,U=w.ba.f.RGBA,$=U.eb,Z=U.fb+d.ka*U.A,re=ni[w.ba.S],ue=d.y,fe=d.O,ge=d.f,Ce=d.N,Me=d.ea,je=d.W,Re=w.cc,Je=w.dc,He=w.Mc,Te=w.Nc,Pe=d.ka,Ke=d.ka+d.T,Ge=d.U,Ye=Ge+1>>1;for(Pe==0?re(ue,fe,null,null,ge,Ce,Me,je,ge,Ce,Me,je,$,Z,null,null,Ge):(re(w.ec,w.fc,ue,fe,Re,Je,He,Te,ge,Ce,Me,je,$,Z-U.A,$,Z,Ge),++P);Pe+2<Ke;Pe+=2)Re=ge,Je=Ce,He=Me,Te=je,Ce+=d.Rc,je+=d.Rc,Z+=2*U.A,re(ue,(fe+=2*d.fa)-d.fa,ue,fe,Re,Je,He,Te,ge,Ce,Me,je,$,Z-U.A,$,Z,Ge);return fe+=d.fa,d.j+Ke<d.o?(r(w.ec,w.fc,ue,fe,Ge),r(w.cc,w.dc,ge,Ce,Ye),r(w.Mc,w.Nc,Me,je,Ye),P--):1&Ke||re(ue,fe,null,null,ge,Ce,Me,je,ge,Ce,Me,je,$,Z+U.A,null,null,Ge),P}function _o(d,w,P){var U=d.F,$=[d.J];if(U!=null){var Z=d.U,re=w.ba.S,ue=re==Pu||re==Lu;w=w.ba.f.RGBA;var fe=[0],ge=d.ka;fe[0]=d.T,d.Kb&&(ge==0?--fe[0]:(--ge,$[0]-=d.width),d.j+d.ka+d.T==d.o&&(fe[0]=d.o-d.j-ge));var Ce=w.eb;ge=w.fb+ge*w.A,d=ln(U,$[0],d.width,Z,fe,Ce,ge+(ue?0:3),w.A),e(P==fe),d&&Yt(re)&&ei(Ce,ge,ue,Z,fe,w.A)}return 0}function mr(d){var w=d.ma,P=w.ba.S,U=11>P,$=P==Mo||P==Tu||P==Pu||P==vn||P==12||Yt(P);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!gl(w.Oa,d,$?11:12))return 0;if($&&Yt(P)&&et(),d.da)alert("todo:use_scaling");else{if(U){if(w.Ib=Ot,d.Kb){if(P=d.U+1>>1,w.memory=o(d.U+2*P),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+d.U,w.Mc=w.cc,w.Nc=w.dc+P,w.Ib=en,et()}}else alert("todo:EmitYUV");$&&(w.Jb=_o,U&&Fe())}if(U&&!br){for(d=0;256>d;++d)ri[d]=89858*(d-128)+ls>>Ks,ii[d]=-22014*(d-128)+ls,Pl[d]=-45773*(d-128),Pa[d]=113618*(d-128)+ls>>Ks;for(d=un;d<pn;++d)w=76283*(d-16)+ls>>Ks,Dc[d-un]=_i(w,255),yd[d-un]=_i(w+8>>4,15);br=1}return 1}function Ti(d){var w=d.ma,P=d.U,U=d.T;return e(!(1&d.ka)),0>=P||0>=U?0:(P=w.Ib(d,w),w.Jb!=null&&w.Jb(d,w,P),w.Dc+=P,1)}function Zi(d){d.ma.memory=null}function xt(d,w,P,U){return xe(d,8)!=47?0:(w[0]=xe(d,14)+1,P[0]=xe(d,14)+1,U[0]=xe(d,1),xe(d,3)!=0?0:!d.h)}function gi(d,w){if(4>d)return d+1;var P=d-2>>1;return(2+(1&d)<<P)+xe(w,P)+1}function Yr(d,w){return 120<w?w-120:1<=(P=((P=Fm[w-1])>>4)*d+(8-(15&P)))?P:1;var P}function Xr(d,w,P){var U=q(P),$=d[w+=255&U].g-8;return 0<$&&(ne(P,P.u+8),U=q(P),w+=d[w].value,w+=U&(1<<$)-1),ne(P,P.u+d[w].g),d[w].value}function kn(d,w,P){return P.g+=d.g,P.value+=d.value<<w>>>0,e(8>=P.g),d.g}function Tn(d,w,P){var U=d.xc;return e((w=U==0?0:d.vc[d.md*(P>>U)+(w>>U)])<d.Wb),d.Ya[w]}function Ar(d,w,P,U){var $=d.ab,Z=d.c*w,re=d.C;w=re+w;var ue=P,fe=U;for(U=d.Ta,P=d.Ua;0<$--;){var ge=d.gc[$],Ce=re,Me=w,je=ue,Re=fe,Je=(fe=U,ue=P,ge.Ea);switch(e(Ce<Me),e(Me<=ge.nc),ge.hc){case 2:Pc(je,Re,(Me-Ce)*Je,fe,ue);break;case 0:var He=Ce,Te=Me,Pe=fe,Ke=ue,Ge=(ft=ge).Ea;He==0&&(ba(je,Re,null,null,1,Pe,Ke),Xe(je,Re+1,0,0,Ge-1,Pe,Ke+1),Re+=Ge,Ke+=Ge,++He);for(var Ye=1<<ft.b,dt=Ye-1,ut=x(Ge,ft.b),Et=ft.K,ft=ft.w+(He>>ft.b)*ut;He<Te;){var Jt=Et,Qt=ft,Xt=1;for(Us(je,Re,Pe,Ke-Ge,1,Pe,Ke);Xt<Ge;){var zt=(Xt&~dt)+Ye;zt>Ge&&(zt=Ge),(0,bs[Jt[Qt++]>>8&15])(je,Re+ +Xt,Pe,Ke+Xt-Ge,zt-Xt,Pe,Ke+Xt),Xt=zt}Re+=Ge,Ke+=Ge,++He&dt||(ft+=ut)}Me!=ge.nc&&r(fe,ue-Je,fe,ue+(Me-Ce-1)*Je,Je);break;case 1:for(Je=je,Te=Re,Ge=(je=ge.Ea)-(Ke=je&~(Pe=(Re=1<<ge.b)-1)),He=x(je,ge.b),Ye=ge.K,ge=ge.w+(Ce>>ge.b)*He;Ce<Me;){for(dt=Ye,ut=ge,Et=new ve,ft=Te+Ke,Jt=Te+je;Te<ft;)ct(dt[ut++],Et),Oo(Et,Je,Te,Re,fe,ue),Te+=Re,ue+=Re;Te<Jt&&(ct(dt[ut++],Et),Oo(Et,Je,Te,Ge,fe,ue),Te+=Ge,ue+=Ge),++Ce&Pe||(ge+=He)}break;case 3:if(je==fe&&Re==ue&&0<ge.b){for(Te=fe,je=Je=ue+(Me-Ce)*Je-(Ke=(Me-Ce)*x(ge.Ea,ge.b)),Re=fe,Pe=ue,He=[],Ke=(Ge=Ke)-1;0<=Ke;--Ke)He[Ke]=Re[Pe+Ke];for(Ke=Ge-1;0<=Ke;--Ke)Te[je+Ke]=He[Ke];Ur(ge,Ce,Me,fe,Je,fe,ue)}else Ur(ge,Ce,Me,je,Re,fe,ue)}ue=U,fe=P}fe!=P&&r(U,P,ue,fe,Z)}function bo(d,w){var P=d.V,U=d.Ba+d.c*d.C,$=w-d.C;if(e(w<=d.l.o),e(16>=$),0<$){var Z=d.l,re=d.Ta,ue=d.Ua,fe=Z.width;if(Ar(d,$,P,U),$=ue=[ue],e((P=d.C)<(U=w)),e(Z.v<Z.va),U>Z.o&&(U=Z.o),P<Z.j){var ge=Z.j-P;P=Z.j,$[0]+=ge*fe}if(P>=U?P=0:($[0]+=4*Z.v,Z.ka=P-Z.j,Z.U=Z.va-Z.v,Z.T=U-P,P=1),P){if(ue=ue[0],11>(P=d.ca).S){var Ce=P.f.RGBA,Me=(U=P.S,$=Z.U,Z=Z.T,ge=Ce.eb,Ce.A),je=Z;for(Ce=Ce.fb+d.Ma*Ce.A;0<je--;){var Re=re,Je=ue,He=$,Te=ge,Pe=Ce;switch(U){case Lc:zr(Re,Je,He,Te,Pe);break;case Mo:Ir(Re,Je,He,Te,Pe);break;case Il:Ir(Re,Je,He,Te,Pe),ei(Te,Pe,0,He,1,0);break;case dd:qs(Re,Je,He,Te,Pe);break;case Tu:Wt(Re,Je,He,Te,Pe,1);break;case Ia:Wt(Re,Je,He,Te,Pe,1),ei(Te,Pe,0,He,1,0);break;case Pu:Wt(Re,Je,He,Te,Pe,0);break;case Lu:Wt(Re,Je,He,Te,Pe,0),ei(Te,Pe,1,He,1,0);break;case vn:Fo(Re,Je,He,Te,Pe);break;case Ru:Fo(Re,Je,He,Te,Pe),gn(Te,Pe,He,1,0);break;case Rc:zs(Re,Je,He,Te,Pe);break;default:e(0)}ue+=fe,Ce+=Me}d.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=P.height)}}d.C=w,e(d.C<=d.i)}function Ms(d){var w;if(0<d.ua)return 0;for(w=0;w<d.Wb;++w){var P=d.Ya[w].G,U=d.Ya[w].H;if(0<P[1][U[1]+0].g||0<P[2][U[2]+0].g||0<P[3][U[3]+0].g)return 0}return 1}function es(d,w,P,U,$,Z){if(d.Z!=0){var re=d.qd,ue=d.rd;for(e(kr[d.Z]!=null);w<P;++w)kr[d.Z](re,ue,U,$,U,$,Z),re=U,ue=$,$+=Z;d.qd=re,d.rd=ue}}function ts(d,w){var P=d.l.ma,U=P.Z==0||P.Z==1?d.l.j:d.C;if(U=d.C<U?U:d.C,e(w<=d.l.o),w>U){var $=d.l.width,Z=P.ca,re=P.tb+$*U,ue=d.V,fe=d.Ba+d.c*U,ge=d.gc;e(d.ab==1),e(ge[0].hc==3),Iu(ge[0],U,w,ue,fe,Z,re),es(P,U,w,Z,re,$)}d.C=d.Ma=w}function wr(d,w,P,U,$,Z,re){var ue=d.$/U,fe=d.$%U,ge=d.m,Ce=d.s,Me=P+d.$,je=Me;$=P+U*$;var Re=P+U*Z,Je=280+Ce.ua,He=d.Pb?ue:16777216,Te=0<Ce.ua?Ce.Wa:null,Pe=Ce.wc,Ke=Me<Re?Tn(Ce,fe,ue):null;e(d.C<Z),e(Re<=$);var Ge=!1;e:for(;;){for(;Ge||Me<Re;){var Ye=0;if(ue>=He){var dt=Me-P;e((He=d).Pb),He.wd=He.m,He.xd=dt,0<He.s.ua&&se(He.s.Wa,He.s.vb),He=ue+Fc}if(fe&Pe||(Ke=Tn(Ce,fe,ue)),e(Ke!=null),Ke.Qb&&(w[Me]=Ke.qb,Ge=!0),!Ge)if(K(ge),Ke.jc){Ye=ge,dt=w;var ut=Me,Et=Ke.pd[q(Ye)&zn-1];e(Ke.jc),256>Et.g?(ne(Ye,Ye.u+Et.g),dt[ut]=Et.value,Ye=0):(ne(Ye,Ye.u+Et.g-256),e(256<=Et.value),Ye=Et.value),Ye==0&&(Ge=!0)}else Ye=Xr(Ke.G[0],Ke.H[0],ge);if(ge.h)break;if(Ge||256>Ye){if(!Ge)if(Ke.nd)w[Me]=(Ke.qb|Ye<<8)>>>0;else{if(K(ge),Ge=Xr(Ke.G[1],Ke.H[1],ge),K(ge),dt=Xr(Ke.G[2],Ke.H[2],ge),ut=Xr(Ke.G[3],Ke.H[3],ge),ge.h)break;w[Me]=(ut<<24|Ge<<16|Ye<<8|dt)>>>0}if(Ge=!1,++Me,++fe>=U&&(fe=0,++ue,re!=null&&ue<=Z&&!(ue%16)&&re(d,ue),Te!=null))for(;je<Me;)Ye=w[je++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye}else if(280>Ye){if(Ye=gi(Ye-256,ge),dt=Xr(Ke.G[4],Ke.H[4],ge),K(ge),dt=Yr(U,dt=gi(dt,ge)),ge.h)break;if(Me-P<dt||$-Me<Ye)break e;for(ut=0;ut<Ye;++ut)w[Me+ut]=w[Me+ut-dt];for(Me+=Ye,fe+=Ye;fe>=U;)fe-=U,++ue,re!=null&&ue<=Z&&!(ue%16)&&re(d,ue);if(e(Me<=$),fe&Pe&&(Ke=Tn(Ce,fe,ue)),Te!=null)for(;je<Me;)Ye=w[je++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye}else{if(!(Ye<Je))break e;for(Ge=Ye-280,e(Te!=null);je<Me;)Ye=w[je++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye;Ye=Me,e(!(Ge>>>(dt=Te).Xa)),w[Ye]=dt.X[Ge],Ge=!0}Ge||e(ge.h==W(ge))}if(d.Pb&&ge.h&&Me<$)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&se(d.s.vb,d.s.Wa);else{if(ge.h)break e;re!=null&&re(d,ue>Z?Z:ue),d.a=0,d.$=Me-P}return 1}return d.a=3,0}function ns(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var w=d.Wa;w!=null&&(w.X=null),d.vb=null,e(d!=null)}function vi(){var d=new Jf;return d==null?null:(d.a=0,d.xb=kl,jr("Predictor","VP8LPredictors"),jr("Predictor","VP8LPredictors_C"),jr("PredictorAdd","VP8LPredictorsAdd"),jr("PredictorAdd","VP8LPredictorsAdd_C"),Pc=st,Oo=mt,zr=ot,Ir=Bn,Fo=bt,zs=yr,qs=Zt,oe.VP8LMapColor32b=Sl,oe.VP8LMapColor8b=xl,d)}function ms(d,w,P,U,$){var Z=1,re=[d],ue=[w],fe=U.m,ge=U.s,Ce=null,Me=0;e:for(;;){if(P)for(;Z&&xe(fe,1);){var je=re,Re=ue,Je=U,He=1,Te=Je.m,Pe=Je.gc[Je.ab],Ke=xe(Te,2);if(Je.Oc&1<<Ke)Z=0;else{switch(Je.Oc|=1<<Ke,Pe.hc=Ke,Pe.Ea=je[0],Pe.nc=Re[0],Pe.K=[null],++Je.ab,e(4>=Je.ab),Ke){case 0:case 1:Pe.b=xe(Te,3)+2,He=ms(x(Pe.Ea,Pe.b),x(Pe.nc,Pe.b),0,Je,Pe.K),Pe.K=Pe.K[0];break;case 3:var Ge,Ye=xe(Te,8)+1,dt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(je[0]=x(Pe.Ea,dt),Pe.b=dt,Ge=He=ms(Ye,1,0,Je,Pe.K)){var ut,Et=Ye,ft=Pe,Jt=1<<(8>>ft.b),Qt=o(Jt);if(Qt==null)Ge=0;else{var Xt=ft.K[0],zt=ft.w;for(Qt[0]=ft.K[0][0],ut=1;ut<1*Et;++ut)Qt[ut]=O(Xt[zt+ut],Qt[ut-1]);for(;ut<4*Jt;++ut)Qt[ut]=0;ft.K[0]=null,ft.K[0]=Qt,Ge=1}}He=Ge;break;case 2:break;default:e(0)}Z=He}}if(re=re[0],ue=ue[0],Z&&xe(fe,1)&&!(Z=1<=(Me=xe(fe,4))&&11>=Me)){U.a=3;break e}var cn;if(cn=Z)t:{var mn,Lt,On,Hr=U,Vn=re,ir=ue,sn=Me,Tr=P,Pr=Hr.m,Fn=Hr.s,sr=[null],Sr=1,si=0,Mi=md[sn];n:for(;;){if(Tr&&xe(Pr,1)){var Dn=xe(Pr,3)+2,Xn=x(Vn,Dn),xi=x(ir,Dn),Uo=Xn*xi;if(!ms(Xn,xi,0,Hr,sr))break n;for(sr=sr[0],Fn.xc=Dn,mn=0;mn<Uo;++mn){var Xs=sr[mn]>>8&65535;sr[mn]=Xs,Xs>=Sr&&(Sr=Xs+1)}}if(Pr.h)break n;for(Lt=0;5>Lt;++Lt){var on=Ca[Lt];!Lt&&0<sn&&(on+=1<<sn),si<on&&(si=on)}var Ns=a(Sr*Mi,B),Mc=Sr,rh=a(Mc,F);if(rh==null)var ji=null;else e(65536>=Mc),ji=rh;var Bi=o(si);if(ji==null||Bi==null||Ns==null){Hr.a=1;break n}var Ra=Ns;for(mn=On=0;mn<Sr;++mn){var Ui=ji[mn],Js=Ui.G,Oa=Ui.H,Ll=0,Ei=1,Rl=0;for(Lt=0;5>Lt;++Lt){on=Ca[Lt],Js[Lt]=Ra,Oa[Lt]=On,!Lt&&0<sn&&(on+=1<<sn);i:{var zo,Qs=on,Ol=Hr,Is=Bi,_d=Ra,ih=On,xn=0,us=Ol.m,sh=xe(us,1);if(i(Is,0,0,Qs),sh){var oh=xe(us,1)+1,jc=xe(us,1),Bc=xe(us,jc==0?1:8);Is[Bc]=1,oh==2&&(Is[Bc=xe(us,8)]=1);var Cs=1}else{var Nn=o(19),Jn=xe(us,4)+4;if(19<Jn){Ol.a=3;var $n=0;break i}for(zo=0;zo<Jn;++zo)Nn[Om[zo]]=xe(us,3);var Fl=void 0,Zs=void 0,Dl=Ol,Um=Nn,or=Qs,Uc=Is,ju=0,ks=Dl.m,cs=8,Ai=a(128,B);r:for(;Q(Ai,0,7,Um,19);){if(xe(ks,1)){var Bu=2+2*xe(ks,3);if((Fl=2+xe(ks,Bu))>or)break r}else Fl=or;for(Zs=0;Zs<or&&Fl--;){K(ks);var zc=Ai[0+(127&q(ks))];ne(ks,ks.u+zc.g);var qo=zc.value;if(16>qo)Uc[Zs++]=qo,qo!=0&&(cs=qo);else{var bd=qo==16,ah=qo-16,Sd=Oc[ah],lh=xe(ks,Ou[ah])+Sd;if(Zs+lh>or)break r;for(var xd=bd?cs:0;0<lh--;)Uc[Zs++]=xd}}ju=1;break r}ju||(Dl.a=3),Cs=ju}(Cs=Cs&&!us.h)&&(xn=Q(_d,ih,8,Is,Qs)),Cs&&xn!=0?$n=xn:(Ol.a=3,$n=0)}if($n==0)break n;if(Ei&&pd[Lt]==1&&(Ei=Ra[On].g==0),Ll+=Ra[On].g,On+=$n,3>=Lt){var Ml,qc=Bi[0];for(Ml=1;Ml<on;++Ml)Bi[Ml]>qc&&(qc=Bi[Ml]);Rl+=qc}}if(Ui.nd=Ei,Ui.Qb=0,Ei&&(Ui.qb=(Js[3][Oa[3]+0].value<<24|Js[1][Oa[1]+0].value<<16|Js[2][Oa[2]+0].value)>>>0,Ll==0&&256>Js[0][Oa[0]+0].value&&(Ui.Qb=1,Ui.qb+=Js[0][Oa[0]+0].value<<8)),Ui.jc=!Ui.Qb&&6>Rl,Ui.jc){var Uu,Ni=Ui;for(Uu=0;Uu<zn;++Uu){var eo=Uu,fs=Ni.pd[eo],Fa=Ni.G[0][Ni.H[0]+eo];256<=Fa.value?(fs.g=Fa.g+256,fs.value=Fa.value):(fs.g=0,fs.value=0,eo>>=kn(Fa,8,fs),eo>>=kn(Ni.G[1][Ni.H[1]+eo],16,fs),eo>>=kn(Ni.G[2][Ni.H[2]+eo],0,fs),kn(Ni.G[3][Ni.H[3]+eo],24,fs))}}}Fn.vc=sr,Fn.Wb=Sr,Fn.Ya=ji,Fn.yc=Ns,cn=1;break t}cn=0}if(!(Z=cn)){U.a=3;break e}if(0<Me){if(ge.ua=1<<Me,!D(ge.Wa,Me)){U.a=1,Z=0;break e}}else ge.ua=0;var Wc=U,Hc=re,Ed=ue,Vc=Wc.s,$c=Vc.xc;if(Wc.c=Hc,Wc.i=Ed,Vc.md=x(Hc,$c),Vc.wc=$c==0?-1:(1<<$c)-1,P){U.xb=As;break e}if((Ce=o(re*ue))==null){U.a=1,Z=0;break e}Z=(Z=wr(U,Ce,0,re,ue,ue,null))&&!fe.h;break e}return Z?($!=null?$[0]=Ce:(e(Ce==null),e(P)),U.$=0,P||ns(ge)):ns(ge),Z}function So(d,w){var P=d.c*d.i,U=P+w+16*w;return e(d.c<=w),d.V=o(U),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+P+w,1)}function sa(d,w){var P=d.C,U=w-P,$=d.V,Z=d.Ba+d.c*P;for(e(w<=d.l.o);0<U;){var re=16<U?16:U,ue=d.l.ma,fe=d.l.width,ge=fe*re,Ce=ue.ca,Me=ue.tb+fe*P,je=d.Ta,Re=d.Ua;Ar(d,re,$,Z),qn(je,Re,Ce,Me,ge),es(ue,P,P+re,Ce,Me,fe),U-=re,$+=re*d.c,P+=re}e(P==w),d.C=d.Ma=w}function oa(){this.ub=this.yd=this.td=this.Rb=0}function aa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Sc(){this.Yb=function(){var d=[];return function w(P,U,$){for(var Z=$[U],re=0;re<Z&&(P.push($.length>U+1?[]:0),!($.length<U+1));re++)w(P[re],U+1,$)}(d,0,[3,11]),d}()}function Pn(){this.jb=o(3),this.Wc=u([4,8],Sc),this.Xc=u([4,17],Sc)}function Kf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function xo(){this.ld=this.La=this.dd=this.tc=0}function mu(){this.Na=this.la=0}function tl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gu(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xc(){this.uc=this.M=this.Nb=0,this.wa=Array(new xo),this.Y=0,this.ya=Array(new gu),this.aa=0,this.l=new nl}function la(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Pi(){this.cb=this.a=0,this.sc="",this.m=new G,this.Od=new oa,this.Kc=new aa,this.ed=new Kf,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new xc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,G),this.ia=0,this.pb=a(4,tl),this.Pa=new Pn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new la),this.Hd=0,this.rb=Array(new mu),this.sb=0,this.wa=Array(new xo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gu),this.L=this.aa=0,this.gd=u([4,2],xo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yi(){var d=new Pi;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,ka||(ka=ua)),d}function Hn(d,w,P){return d.a==0&&(d.a=w,d.sc=P,d.cb=0),0}function Ec(d,w,P){return 3<=P&&d[w+0]==157&&d[w+1]==1&&d[w+2]==42}function Ac(d,w){if(d==null)return 0;if(d.a=0,d.sc="OK",w==null)return Hn(d,2,"null VP8Io passed to VP8GetHeaders()");var P=w.data,U=w.w,$=w.ha;if(4>$)return Hn(d,7,"Truncated header.");var Z=P[U+0]|P[U+1]<<8|P[U+2]<<16,re=d.Od;if(re.Rb=!(1&Z),re.td=Z>>1&7,re.yd=Z>>4&1,re.ub=Z>>5,3<re.td)return Hn(d,3,"Incorrect keyframe parameters.");if(!re.yd)return Hn(d,4,"Frame not displayable.");U+=3,$-=3;var ue=d.Kc;if(re.Rb){if(7>$)return Hn(d,7,"cannot parse picture header");if(!Ec(P,U,$))return Hn(d,3,"Bad code word");ue.c=16383&(P[U+4]<<8|P[U+3]),ue.Td=P[U+4]>>6,ue.i=16383&(P[U+6]<<8|P[U+5]),ue.Ud=P[U+6]>>6,U+=7,$-=7,d.za=ue.c+15>>4,d.Ub=ue.i+15>>4,w.width=ue.c,w.height=ue.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((Z=d.Pa).jb,0,255,Z.jb.length),e((Z=d.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(re.ub>$)return Hn(d,7,"bad partition length");me(Z=d.m,P,U,re.ub),U+=re.ub,$-=re.ub,re.Rb&&(ue.Ld=L(Z),ue.Kd=L(Z)),ue=d.Qa;var fe,ge=d.Pa;if(e(Z!=null),e(ue!=null),ue.Cb=L(Z),ue.Cb){if(ue.Bb=L(Z),L(Z)){for(ue.Fb=L(Z),fe=0;4>fe;++fe)ue.Zb[fe]=L(Z)?pe(Z,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=L(Z)?pe(Z,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)ge.jb[fe]=L(Z)?Ne(Z,8):255}else ue.Bb=0;if(Z.Ka)return Hn(d,3,"cannot parse segment header");if((ue=d.ed).zd=L(Z),ue.Tb=Ne(Z,6),ue.wb=Ne(Z,3),ue.Pc=L(Z),ue.Pc&&L(Z)){for(ge=0;4>ge;++ge)L(Z)&&(ue.vd[ge]=pe(Z,6));for(ge=0;4>ge;++ge)L(Z)&&(ue.od[ge]=pe(Z,6))}if(d.L=ue.Tb==0?0:ue.zd?1:2,Z.Ka)return Hn(d,3,"cannot parse filter header");var Ce=$;if($=fe=U,U=fe+Ce,ue=Ce,d.Xb=(1<<Ne(d.m,2))-1,Ce<3*(ge=d.Xb))P=7;else{for(fe+=3*ge,ue-=3*ge,Ce=0;Ce<ge;++Ce){var Me=P[$+0]|P[$+1]<<8|P[$+2]<<16;Me>ue&&(Me=ue),me(d.Jc[+Ce],P,fe,Me),fe+=Me,ue-=Me,$+=3}me(d.Jc[+ge],P,fe,ue),P=fe<U?0:5}if(P!=0)return Hn(d,P,"cannot parse partitions");for(P=Ne(fe=d.m,7),$=L(fe)?pe(fe,4):0,U=L(fe)?pe(fe,4):0,ue=L(fe)?pe(fe,4):0,ge=L(fe)?pe(fe,4):0,fe=L(fe)?pe(fe,4):0,Ce=d.Qa,Me=0;4>Me;++Me){if(Ce.Cb){var je=Ce.Zb[Me];Ce.Fb||(je+=P)}else{if(0<Me){d.pb[Me]=d.pb[0];continue}je=P}var Re=d.pb[Me];Re.Sc[0]=Cl[_i(je+$,127)],Re.Sc[1]=Fu[_i(je+0,127)],Re.Eb[0]=2*Cl[_i(je+U,127)],Re.Eb[1]=101581*Fu[_i(je+ue,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=Cl[_i(je+ge,117)],Re.Qc[1]=Fu[_i(je+fe,127)],Re.lc=je+fe}if(!re.Rb)return Hn(d,4,"Not a key frame.");for(L(Z),re=d.Pa,P=0;4>P;++P){for($=0;8>$;++$)for(U=0;3>U;++U)for(ue=0;11>ue;++ue)ge=J(Z,Mm[P][$][U][ue])?Ne(Z,8):vd[P][$][U][ue],re.Wc[P][$].Yb[U][ue]=ge;for($=0;17>$;++$)re.Xc[P][$]=re.Wc[P][eh[$]]}return d.kc=L(Z),d.kc&&(d.Bd=Ne(Z,8)),d.cb=1}function ua(d,w,P,U,$,Z,re){var ue=w[$].Yb[P];for(P=0;16>$;++$){if(!J(d,ue[P+0]))return $;for(;!J(d,ue[P+1]);)if(ue=w[++$].Yb[0],P=0,$==16)return 16;var fe=w[$+1].Yb;if(J(d,ue[P+2])){var ge=d,Ce=0;if(J(ge,(je=ue)[(Me=P)+3]))if(J(ge,je[Me+6])){for(ue=0,Me=2*(Ce=J(ge,je[Me+8]))+(je=J(ge,je[Me+9+Ce])),Ce=0,je=Qf[Me];je[ue];++ue)Ce+=Ce+J(ge,je[ue]);Ce+=3+(8<<Me)}else J(ge,je[Me+7])?(Ce=7+2*J(ge,165),Ce+=J(ge,145)):Ce=5+J(ge,159);else Ce=J(ge,je[Me+4])?3+J(ge,je[Me+5]):2;ue=fe[2]}else Ce=1,ue=fe[1];fe=re+Zf[$],0>(ge=d).b&&R(ge);var Me,je=ge.b,Re=(Me=ge.Ca>>1)-(ge.I>>je)>>31;--ge.b,ge.Ca+=Re,ge.Ca|=1,ge.I-=(Me+1&Re)<<je,Z[fe]=((Ce^Re)-Re)*U[(0<$)+0]}return 16}function Eo(d){var w=d.rb[d.sb-1];w.la=0,w.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function ca(d,w){if(d==null)return 0;if(w==null)return Hn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Ac(d,w))return 0;if(e(d.cb),w.ac==null||w.ac(w)){w.ob&&(d.L=0);var P=La[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=w.v-P>>4,d.zb=w.j-P>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=w.o+15+P>>4,d.Hb=w.va+15+P>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var U=d.ed;for(P=0;4>P;++P){var $;if(d.Qa.Cb){var Z=d.Qa.Lb[P];d.Qa.Fb||(Z+=U.Tb)}else Z=U.Tb;for($=0;1>=$;++$){var re=d.gd[P][$],ue=Z;if(U.Pc&&(ue+=U.vd[0],$&&(ue+=U.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var fe=ue;0<U.wb&&(fe=4<U.wb?fe>>2:fe>>1)>9-U.wb&&(fe=9-U.wb),1>fe&&(fe=1),re.dd=fe,re.tc=2*ue+fe,re.ld=40<=ue?2:15<=ue?1:0}else re.tc=0;re.La=$}}}P=0}else Hn(d,6,"Frame setup failed"),P=d.a;if(P=P==0){if(P){d.$c=0,0<d.Aa||(d.Ic=Ys);e:{P=d.Ic,U=4*(fe=d.za);var ge=32*fe,Ce=fe+1,Me=0<d.L?fe*(0<d.Aa?2:1):0,je=(d.Aa==2?2:1)*fe;if((re=U+832+($=3*(16*P+La[d.L])/2*ge)+(Z=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=re)P=0;else{if(re>d.Vb){if(d.Vb=0,d.Ec=o(re),d.Fc=0,d.Ec==null){P=Hn(d,1,"no memory during frame initialization.");break e}d.Vb=re}re=d.Ec,ue=d.Fc,d.Ac=re,d.Bc=ue,ue+=U,d.Gd=a(ge,la),d.Hd=0,d.rb=a(Ce+1,mu),d.sb=1,d.wa=Me?a(Me,xo):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=fe),e(!0),d.oc=re,d.pc=ue,ue+=832,d.ya=a(je,gu),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=fe),d.R=16*fe,d.B=8*fe,fe=(ge=La[d.L])*d.R,ge=ge/2*d.B,d.sa=re,d.ta=ue+fe,d.qa=d.sa,d.ra=d.ta+16*P*d.R+ge,d.Ha=d.qa,d.Ia=d.ra+8*P*d.B+ge,d.$c=0,ue+=$,d.mb=Z?re:null,d.nb=Z?ue:null,e(ue+Z<=d.Fc+d.Vb),Eo(d),i(d.Ac,d.Bc,0,U),P=1}}if(P){if(w.ka=0,w.y=d.sa,w.O=d.ta,w.f=d.qa,w.N=d.ra,w.ea=d.Ha,w.Vd=d.Ia,w.fa=d.R,w.Rc=d.B,w.F=null,w.J=0,!ku){for(P=-255;255>=P;++P)Yn[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)xs[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Al[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Na[255+P]=0>P?0:255<P?255:P;ku=1}El=tn,Ws=yu,Hs=Ao,Cr=Yf,bi=il,nn=vu,Sa=fl,Cu=rr,xa=va,Ea=xu,Aa=ko,Si=To,Vs=ya,Ss=hl,$s=ss,Gs=Li,Do=Ri,_r=kc,Di[0]=ws,Di[1]=Nc,Di[2]=pa,Di[3]=ys,Di[4]=_u,Di[5]=ol,Di[6]=Io,Di[7]=al,Di[8]=Cc,Di[9]=ll,Wr[0]=da,Wr[1]=Ic,Wr[2]=gs,Wr[3]=ha,Wr[4]=Ln,Wr[5]=vs,Wr[6]=rs,ti[0]=wi,ti[1]=wu,ti[2]=Xf,ti[3]=js,ti[4]=ma,ti[5]=ul,ti[6]=bu,P=1}else P=0}P&&(P=function(Re,Je){for(Re.M=0;Re.M<Re.Va;++Re.M){var He,Te=Re.Jc[Re.M&Re.Xb],Pe=Re.m,Ke=Re;for(He=0;He<Ke.za;++He){var Ge=Pe,Ye=Ke,dt=Ye.Ac,ut=Ye.Bc+4*He,Et=Ye.zc,ft=Ye.ya[Ye.aa+He];if(Ye.Qa.Bb?ft.$b=J(Ge,Ye.Pa.jb[0])?2+J(Ge,Ye.Pa.jb[2]):J(Ge,Ye.Pa.jb[1]):ft.$b=0,Ye.kc&&(ft.Ad=J(Ge,Ye.Bd)),ft.Za=!J(Ge,145)+0,ft.Za){var Jt=ft.Ob,Qt=0;for(Ye=0;4>Ye;++Ye){var Xt,zt=Et[0+Ye];for(Xt=0;4>Xt;++Xt){zt=Dm[dt[ut+Xt]][zt];for(var cn=gd[J(Ge,zt[0])];0<cn;)cn=gd[2*cn+J(Ge,zt[cn])];zt=-cn,dt[ut+Xt]=zt}r(Jt,Qt,dt,ut,4),Qt+=4,Et[0+Ye]=zt}}else zt=J(Ge,156)?J(Ge,128)?1:3:J(Ge,163)?2:0,ft.Ob[0]=zt,i(dt,ut,zt,4),i(Et,0,zt,4);ft.Dd=J(Ge,142)?J(Ge,114)?J(Ge,183)?1:3:2:0}if(Ke.m.Ka)return Hn(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(Ke=Te,Ge=(Pe=Re).rb[Pe.sb-1],dt=Pe.rb[Pe.sb+Pe.ja],He=Pe.ya[Pe.aa+Pe.ja],ut=Pe.kc?He.Ad:0)Ge.la=dt.la=0,He.Za||(Ge.Na=dt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var mn,Lt;if(Ge=dt,dt=Ke,ut=Pe.Pa.Xc,Et=Pe.ya[Pe.aa+Pe.ja],ft=Pe.pb[Et.$b],Ye=Et.ad,Jt=0,Qt=Pe.rb[Pe.sb-1],zt=Xt=0,i(Ye,Jt,0,384),Et.Za)var On=0,Hr=ut[3];else{cn=o(16);var Vn=Ge.Na+Qt.Na;if(Vn=ka(dt,ut[1],Vn,ft.Eb,0,cn,0),Ge.Na=Qt.Na=(0<Vn)+0,1<Vn)El(cn,0,Ye,Jt);else{var ir=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Ye[Jt+cn]=ir}On=1,Hr=ut[0]}var sn=15&Ge.la,Tr=15&Qt.la;for(cn=0;4>cn;++cn){var Pr=1&Tr;for(ir=Lt=0;4>ir;++ir)sn=sn>>1|(Pr=(Vn=ka(dt,Hr,Vn=Pr+(1&sn),ft.Sc,On,Ye,Jt))>On)<<7,Lt=Lt<<2|(3<Vn?3:1<Vn?2:Ye[Jt+0]!=0),Jt+=16;sn>>=4,Tr=Tr>>1|Pr<<7,Xt=(Xt<<8|Lt)>>>0}for(Hr=sn,On=Tr>>4,mn=0;4>mn;mn+=2){for(Lt=0,sn=Ge.la>>4+mn,Tr=Qt.la>>4+mn,cn=0;2>cn;++cn){for(Pr=1&Tr,ir=0;2>ir;++ir)Vn=Pr+(1&sn),sn=sn>>1|(Pr=0<(Vn=ka(dt,ut[2],Vn,ft.Qc,0,Ye,Jt)))<<3,Lt=Lt<<2|(3<Vn?3:1<Vn?2:Ye[Jt+0]!=0),Jt+=16;sn>>=2,Tr=Tr>>1|Pr<<5}zt|=Lt<<4*mn,Hr|=sn<<4<<mn,On|=(240&Tr)<<mn}Ge.la=Hr,Qt.la=On,Et.Hc=Xt,Et.Gc=zt,Et.ia=43690&zt?0:ft.ia,ut=!(Xt|zt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[He.$b][He.Za],Pe.wa[Pe.Y+Pe.ja].La|=!ut),Ke.Ka)return Hn(Re,7,"Premature end-of-file encountered.")}if(Eo(Re),Pe=Je,Ke=1,He=(Te=Re).D,Ge=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(He.M=Te.M,He.uc=Ge,ml(Te,He),Ke=1,He=(Lt=Te.D).Nb,Ge=(zt=La[Te.L])*Te.R,dt=zt/2*Te.B,cn=16*He*Te.R,ir=8*He*Te.B,ut=Te.sa,Et=Te.ta-Ge+cn,ft=Te.qa,Ye=Te.ra-dt+ir,Jt=Te.Ha,Qt=Te.Ia-dt+ir,Tr=(sn=Lt.M)==0,Xt=sn>=Te.Va-1,Te.Aa==2&&ml(Te,Lt),Lt.uc)for(Pr=(Vn=Te).D.M,e(Vn.D.uc),Lt=Vn.yb;Lt<Vn.Hb;++Lt){On=Lt,Hr=Pr;var Fn=(sr=(on=Vn).D).Nb;mn=on.R;var sr=sr.wa[sr.Y+On],Sr=on.sa,si=on.ta+16*Fn*mn+16*On,Mi=sr.dd,Dn=sr.tc;if(Dn!=0)if(e(3<=Dn),on.L==1)0<On&&Gs(Sr,si,mn,Dn+4),sr.La&&_r(Sr,si,mn,Dn),0<Hr&&$s(Sr,si,mn,Dn+4),sr.La&&Do(Sr,si,mn,Dn);else{var Xn=on.B,xi=on.qa,Uo=on.ra+8*Fn*Xn+8*On,Xs=on.Ha,on=on.Ia+8*Fn*Xn+8*On;Fn=sr.ld,0<On&&(Cu(Sr,si,mn,Dn+4,Mi,Fn),Ea(xi,Uo,Xs,on,Xn,Dn+4,Mi,Fn)),sr.La&&(Si(Sr,si,mn,Dn,Mi,Fn),Ss(xi,Uo,Xs,on,Xn,Dn,Mi,Fn)),0<Hr&&(Sa(Sr,si,mn,Dn+4,Mi,Fn),xa(xi,Uo,Xs,on,Xn,Dn+4,Mi,Fn)),sr.La&&(Aa(Sr,si,mn,Dn,Mi,Fn),Vs(xi,Uo,Xs,on,Xn,Dn,Mi,Fn))}}if(Te.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Lt=16*sn,sn=16*(sn+1),Tr?(Pe.y=Te.sa,Pe.O=Te.ta+cn,Pe.f=Te.qa,Pe.N=Te.ra+ir,Pe.ea=Te.Ha,Pe.W=Te.Ia+ir):(Lt-=zt,Pe.y=ut,Pe.O=Et,Pe.f=ft,Pe.N=Ye,Pe.ea=Jt,Pe.W=Qt),Xt||(sn-=zt),sn>Pe.o&&(sn=Pe.o),Pe.F=null,Pe.J=null,Te.Fa!=null&&0<Te.Fa.length&&Lt<sn&&(Pe.J=Au(Te,Pe,Lt,sn-Lt),Pe.F=Te.mb,Pe.F==null&&Pe.F.length==0)){Ke=Hn(Te,3,"Could not decode alpha data.");break e}Lt<Pe.j&&(zt=Pe.j-Lt,Lt=Pe.j,e(!(1&zt)),Pe.O+=Te.R*zt,Pe.N+=Te.B*(zt>>1),Pe.W+=Te.B*(zt>>1),Pe.F!=null&&(Pe.J+=Pe.width*zt)),Lt<sn&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Lt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=sn-Lt,Ke=Pe.put(Pe))}He+1!=Te.Ic||Xt||(r(Te.sa,Te.ta-Ge,ut,Et+16*Te.R,Ge),r(Te.qa,Te.ra-dt,ft,Ye+8*Te.B,dt),r(Te.Ha,Te.Ia-dt,Jt,Qt+8*Te.B,dt))}if(!Ke)return Hn(Re,6,"Output aborted.")}return 1}(d,w)),w.bc!=null&&w.bc(w),P&=1}return P?(d.cb=0,P):0}function Jr(d,w,P,U,$){$=d[w+P+32*U]+($>>3),d[w+P+32*U]=-256&$?0>$?0:255:$}function rl(d,w,P,U,$,Z){Jr(d,w,0,P,U+$),Jr(d,w,1,P,U+Z),Jr(d,w,2,P,U-Z),Jr(d,w,3,P,U-$)}function Qr(d){return(20091*d>>16)+d}function fa(d,w,P,U){var $,Z=0,re=o(16);for($=0;4>$;++$){var ue=d[w+0]+d[w+8],fe=d[w+0]-d[w+8],ge=(35468*d[w+4]>>16)-Qr(d[w+12]),Ce=Qr(d[w+4])+(35468*d[w+12]>>16);re[Z+0]=ue+Ce,re[Z+1]=fe+ge,re[Z+2]=fe-ge,re[Z+3]=ue-Ce,Z+=4,w++}for($=Z=0;4>$;++$)ue=(d=re[Z+0]+4)+re[Z+8],fe=d-re[Z+8],ge=(35468*re[Z+4]>>16)-Qr(re[Z+12]),Jr(P,U,0,0,ue+(Ce=Qr(re[Z+4])+(35468*re[Z+12]>>16))),Jr(P,U,1,0,fe+ge),Jr(P,U,2,0,fe-ge),Jr(P,U,3,0,ue-Ce),Z++,U+=32}function vu(d,w,P,U){var $=d[w+0]+4,Z=35468*d[w+4]>>16,re=Qr(d[w+4]),ue=35468*d[w+1]>>16;rl(P,U,0,$+re,d=Qr(d[w+1]),ue),rl(P,U,1,$+Z,d,ue),rl(P,U,2,$-Z,d,ue),rl(P,U,3,$-re,d,ue)}function yu(d,w,P,U,$){fa(d,w,P,U),$&&fa(d,w+16,P,U+4)}function Ao(d,w,P,U){Ws(d,w+0,P,U,1),Ws(d,w+32,P,U+128,1)}function Yf(d,w,P,U){var $;for(d=d[w+0]+4,$=0;4>$;++$)for(w=0;4>w;++w)Jr(P,U,w,$,d)}function il(d,w,P,U){d[w+0]&&Cr(d,w+0,P,U),d[w+16]&&Cr(d,w+16,P,U+4),d[w+32]&&Cr(d,w+32,P,U+128),d[w+48]&&Cr(d,w+48,P,U+128+4)}function tn(d,w,P,U){var $,Z=o(16);for($=0;4>$;++$){var re=d[w+0+$]+d[w+12+$],ue=d[w+4+$]+d[w+8+$],fe=d[w+4+$]-d[w+8+$],ge=d[w+0+$]-d[w+12+$];Z[0+$]=re+ue,Z[8+$]=re-ue,Z[4+$]=ge+fe,Z[12+$]=ge-fe}for($=0;4>$;++$)re=(d=Z[0+4*$]+3)+Z[3+4*$],ue=Z[1+4*$]+Z[2+4*$],fe=Z[1+4*$]-Z[2+4*$],ge=d-Z[3+4*$],P[U+0]=re+ue>>3,P[U+16]=ge+fe>>3,P[U+32]=re-ue>>3,P[U+48]=ge-fe>>3,U+=64}function sl(d,w,P){var U,$=w-32,Z=qr,re=255-d[$-1];for(U=0;U<P;++U){var ue,fe=Z,ge=re+d[w-1];for(ue=0;ue<P;++ue)d[w+ue]=fe[ge+d[$+ue]];w+=32}}function Nc(d,w){sl(d,w,4)}function wu(d,w){sl(d,w,8)}function Ic(d,w){sl(d,w,16)}function gs(d,w){var P;for(P=0;16>P;++P)r(d,w+32*P,d,w-32,16)}function ha(d,w){var P;for(P=16;0<P;--P)i(d,w,d[w-1],16),w+=32}function No(d,w,P){var U;for(U=0;16>U;++U)i(w,P+32*U,d,16)}function da(d,w){var P,U=16;for(P=0;16>P;++P)U+=d[w-1+32*P]+d[w+P-32];No(U>>5,d,w)}function Ln(d,w){var P,U=8;for(P=0;16>P;++P)U+=d[w-1+32*P];No(U>>4,d,w)}function vs(d,w){var P,U=8;for(P=0;16>P;++P)U+=d[w+P-32];No(U>>4,d,w)}function rs(d,w){No(128,d,w)}function Ct(d,w,P){return d+2*w+P+2>>2}function pa(d,w){var P,U=w-32;for(U=new Uint8Array([Ct(d[U-1],d[U+0],d[U+1]),Ct(d[U+0],d[U+1],d[U+2]),Ct(d[U+1],d[U+2],d[U+3]),Ct(d[U+2],d[U+3],d[U+4])]),P=0;4>P;++P)r(d,w+32*P,U,0,U.length)}function ys(d,w){var P=d[w-1],U=d[w-1+32],$=d[w-1+64],Z=d[w-1+96];le(d,w+0,16843009*Ct(d[w-1-32],P,U)),le(d,w+32,16843009*Ct(P,U,$)),le(d,w+64,16843009*Ct(U,$,Z)),le(d,w+96,16843009*Ct($,Z,Z))}function ws(d,w){var P,U=4;for(P=0;4>P;++P)U+=d[w+P-32]+d[w-1+32*P];for(U>>=3,P=0;4>P;++P)i(d,w+32*P,U,4)}function _u(d,w){var P=d[w-1+0],U=d[w-1+32],$=d[w-1+64],Z=d[w-1-32],re=d[w+0-32],ue=d[w+1-32],fe=d[w+2-32],ge=d[w+3-32];d[w+0+96]=Ct(U,$,d[w-1+96]),d[w+1+96]=d[w+0+64]=Ct(P,U,$),d[w+2+96]=d[w+1+64]=d[w+0+32]=Ct(Z,P,U),d[w+3+96]=d[w+2+64]=d[w+1+32]=d[w+0+0]=Ct(re,Z,P),d[w+3+64]=d[w+2+32]=d[w+1+0]=Ct(ue,re,Z),d[w+3+32]=d[w+2+0]=Ct(fe,ue,re),d[w+3+0]=Ct(ge,fe,ue)}function Io(d,w){var P=d[w+1-32],U=d[w+2-32],$=d[w+3-32],Z=d[w+4-32],re=d[w+5-32],ue=d[w+6-32],fe=d[w+7-32];d[w+0+0]=Ct(d[w+0-32],P,U),d[w+1+0]=d[w+0+32]=Ct(P,U,$),d[w+2+0]=d[w+1+32]=d[w+0+64]=Ct(U,$,Z),d[w+3+0]=d[w+2+32]=d[w+1+64]=d[w+0+96]=Ct($,Z,re),d[w+3+32]=d[w+2+64]=d[w+1+96]=Ct(Z,re,ue),d[w+3+64]=d[w+2+96]=Ct(re,ue,fe),d[w+3+96]=Ct(ue,fe,fe)}function ol(d,w){var P=d[w-1+0],U=d[w-1+32],$=d[w-1+64],Z=d[w-1-32],re=d[w+0-32],ue=d[w+1-32],fe=d[w+2-32],ge=d[w+3-32];d[w+0+0]=d[w+1+64]=Z+re+1>>1,d[w+1+0]=d[w+2+64]=re+ue+1>>1,d[w+2+0]=d[w+3+64]=ue+fe+1>>1,d[w+3+0]=fe+ge+1>>1,d[w+0+96]=Ct($,U,P),d[w+0+64]=Ct(U,P,Z),d[w+0+32]=d[w+1+96]=Ct(P,Z,re),d[w+1+32]=d[w+2+96]=Ct(Z,re,ue),d[w+2+32]=d[w+3+96]=Ct(re,ue,fe),d[w+3+32]=Ct(ue,fe,ge)}function al(d,w){var P=d[w+0-32],U=d[w+1-32],$=d[w+2-32],Z=d[w+3-32],re=d[w+4-32],ue=d[w+5-32],fe=d[w+6-32],ge=d[w+7-32];d[w+0+0]=P+U+1>>1,d[w+1+0]=d[w+0+64]=U+$+1>>1,d[w+2+0]=d[w+1+64]=$+Z+1>>1,d[w+3+0]=d[w+2+64]=Z+re+1>>1,d[w+0+32]=Ct(P,U,$),d[w+1+32]=d[w+0+96]=Ct(U,$,Z),d[w+2+32]=d[w+1+96]=Ct($,Z,re),d[w+3+32]=d[w+2+96]=Ct(Z,re,ue),d[w+3+64]=Ct(re,ue,fe),d[w+3+96]=Ct(ue,fe,ge)}function ll(d,w){var P=d[w-1+0],U=d[w-1+32],$=d[w-1+64],Z=d[w-1+96];d[w+0+0]=P+U+1>>1,d[w+2+0]=d[w+0+32]=U+$+1>>1,d[w+2+32]=d[w+0+64]=$+Z+1>>1,d[w+1+0]=Ct(P,U,$),d[w+3+0]=d[w+1+32]=Ct(U,$,Z),d[w+3+32]=d[w+1+64]=Ct($,Z,Z),d[w+3+64]=d[w+2+64]=d[w+0+96]=d[w+1+96]=d[w+2+96]=d[w+3+96]=Z}function Cc(d,w){var P=d[w-1+0],U=d[w-1+32],$=d[w-1+64],Z=d[w-1+96],re=d[w-1-32],ue=d[w+0-32],fe=d[w+1-32],ge=d[w+2-32];d[w+0+0]=d[w+2+32]=P+re+1>>1,d[w+0+32]=d[w+2+64]=U+P+1>>1,d[w+0+64]=d[w+2+96]=$+U+1>>1,d[w+0+96]=Z+$+1>>1,d[w+3+0]=Ct(ue,fe,ge),d[w+2+0]=Ct(re,ue,fe),d[w+1+0]=d[w+3+32]=Ct(P,re,ue),d[w+1+32]=d[w+3+64]=Ct(U,P,re),d[w+1+64]=d[w+3+96]=Ct($,U,P),d[w+1+96]=Ct(Z,$,U)}function Xf(d,w){var P;for(P=0;8>P;++P)r(d,w+32*P,d,w-32,8)}function js(d,w){var P;for(P=0;8>P;++P)i(d,w,d[w-1],8),w+=32}function is(d,w,P){var U;for(U=0;8>U;++U)i(w,P+32*U,d,8)}function wi(d,w){var P,U=8;for(P=0;8>P;++P)U+=d[w+P-32]+d[w-1+32*P];is(U>>4,d,w)}function ul(d,w){var P,U=4;for(P=0;8>P;++P)U+=d[w+P-32];is(U>>3,d,w)}function ma(d,w){var P,U=4;for(P=0;8>P;++P)U+=d[w-1+32*P];is(U>>3,d,w)}function bu(d,w){is(128,d,w)}function Co(d,w,P){var U=d[w-P],$=d[w+0],Z=3*($-U)+Es[1020+d[w-2*P]-d[w+P]],re=Nl[112+(Z+4>>3)];d[w-P]=qr[255+U+Nl[112+(Z+3>>3)]],d[w+0]=qr[255+$-re]}function ga(d,w,P,U){var $=d[w+0],Z=d[w+P];return Fi[255+d[w-2*P]-d[w-P]]>U||Fi[255+Z-$]>U}function cl(d,w,P,U){return 4*Fi[255+d[w-P]-d[w+0]]+Fi[255+d[w-2*P]-d[w+P]]<=U}function Su(d,w,P,U,$){var Z=d[w-3*P],re=d[w-2*P],ue=d[w-P],fe=d[w+0],ge=d[w+P],Ce=d[w+2*P],Me=d[w+3*P];return 4*Fi[255+ue-fe]+Fi[255+re-ge]>U?0:Fi[255+d[w-4*P]-Z]<=$&&Fi[255+Z-re]<=$&&Fi[255+re-ue]<=$&&Fi[255+Me-Ce]<=$&&Fi[255+Ce-ge]<=$&&Fi[255+ge-fe]<=$}function ss(d,w,P,U){var $=2*U+1;for(U=0;16>U;++U)cl(d,w+U,P,$)&&Co(d,w+U,P)}function Li(d,w,P,U){var $=2*U+1;for(U=0;16>U;++U)cl(d,w+U*P,1,$)&&Co(d,w+U*P,1)}function Ri(d,w,P,U){var $;for($=3;0<$;--$)ss(d,w+=4*P,P,U)}function kc(d,w,P,U){var $;for($=3;0<$;--$)Li(d,w+=4,P,U)}function os(d,w,P,U,$,Z,re,ue){for(Z=2*Z+1;0<$--;){if(Su(d,w,P,Z,re))if(ga(d,w,P,ue))Co(d,w,P);else{var fe=d,ge=w,Ce=P,Me=fe[ge-2*Ce],je=fe[ge-Ce],Re=fe[ge+0],Je=fe[ge+Ce],He=fe[ge+2*Ce],Te=27*(Ke=Es[1020+3*(Re-je)+Es[1020+Me-Je]])+63>>7,Pe=18*Ke+63>>7,Ke=9*Ke+63>>7;fe[ge-3*Ce]=qr[255+fe[ge-3*Ce]+Ke],fe[ge-2*Ce]=qr[255+Me+Pe],fe[ge-Ce]=qr[255+je+Te],fe[ge+0]=qr[255+Re-Te],fe[ge+Ce]=qr[255+Je-Pe],fe[ge+2*Ce]=qr[255+He-Ke]}w+=U}}function Zr(d,w,P,U,$,Z,re,ue){for(Z=2*Z+1;0<$--;){if(Su(d,w,P,Z,re))if(ga(d,w,P,ue))Co(d,w,P);else{var fe=d,ge=w,Ce=P,Me=fe[ge-Ce],je=fe[ge+0],Re=fe[ge+Ce],Je=Nl[112+((He=3*(je-Me))+4>>3)],He=Nl[112+(He+3>>3)],Te=Je+1>>1;fe[ge-2*Ce]=qr[255+fe[ge-2*Ce]+Te],fe[ge-Ce]=qr[255+Me+He],fe[ge+0]=qr[255+je-Je],fe[ge+Ce]=qr[255+Re-Te]}w+=U}}function fl(d,w,P,U,$,Z){os(d,w,P,1,16,U,$,Z)}function rr(d,w,P,U,$,Z){os(d,w,1,P,16,U,$,Z)}function ko(d,w,P,U,$,Z){var re;for(re=3;0<re;--re)Zr(d,w+=4*P,P,1,16,U,$,Z)}function To(d,w,P,U,$,Z){var re;for(re=3;0<re;--re)Zr(d,w+=4,1,P,16,U,$,Z)}function va(d,w,P,U,$,Z,re,ue){os(d,w,$,1,8,Z,re,ue),os(P,U,$,1,8,Z,re,ue)}function xu(d,w,P,U,$,Z,re,ue){os(d,w,1,$,8,Z,re,ue),os(P,U,1,$,8,Z,re,ue)}function ya(d,w,P,U,$,Z,re,ue){Zr(d,w+4*$,$,1,8,Z,re,ue),Zr(P,U+4*$,$,1,8,Z,re,ue)}function hl(d,w,P,U,$,Z,re,ue){Zr(d,w+4,1,$,8,Z,re,ue),Zr(P,U+4,1,$,8,Z,re,ue)}function _s(){this.ba=new nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Po(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tc(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new B}function Jf(){this.xb=this.a=0,this.l=new nl,this.ca=new nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tc,this.ab=0,this.gc=a(4,dl),this.Oc=0}function pl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bs(d,w,P,U,$,Z,re){for(d=d==null?0:d[w+0],w=0;w<re;++w)$[Z+w]=d+P[U+w]&255,d=$[Z+w]}function Eu(d,w,P,U,$,Z,re){var ue;if(d==null)Bs(null,null,P,U,$,Z,re);else for(ue=0;ue<re;++ue)$[Z+ue]=d[w+ue]+P[U+ue]&255}function Lo(d,w,P,U,$,Z,re){if(d==null)Bs(null,null,P,U,$,Z,re);else{var ue,fe=d[w+0],ge=fe,Ce=fe;for(ue=0;ue<re;++ue)ge=Ce+(fe=d[w+ue])-ge,Ce=P[U+ue]+(-256&ge?0>ge?0:255:ge)&255,ge=fe,$[Z+ue]=Ce}}function Au(d,w,P,U){var $=w.width,Z=w.o;if(e(d!=null&&w!=null),0>P||0>=U||P+U>Z)return null;if(!d.Cc){if(d.ga==null){var re;if(d.ga=new pl,(re=d.ga==null)||(re=w.width*w.o,e(d.Gb.length==0),d.Gb=o(re),d.Uc=0,d.Gb==null?re=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,re=1),re=!re),!re){re=d.ga;var ue=d.Fa,fe=d.P,ge=d.qc,Ce=d.mb,Me=d.nb,je=fe+1,Re=ge-1,Je=re.l;if(e(ue!=null&&Ce!=null&&w!=null),kr[0]=null,kr[1]=Bs,kr[2]=Eu,kr[3]=Lo,re.ca=Ce,re.tb=Me,re.c=w.width,re.i=w.height,e(0<re.c&&0<re.i),1>=ge)w=0;else if(re.$a=ue[fe+0]>>0&3,re.Z=ue[fe+0]>>2&3,re.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||fe)w=0;else if(Je.put=Ti,Je.ac=mr,Je.bc=Zi,Je.ma=re,Je.width=w.width,Je.height=w.height,Je.Da=w.Da,Je.v=w.v,Je.va=w.va,Je.j=w.j,Je.o=w.o,re.$a)e:{e(re.$a==1),w=vi();t:for(;;){if(w==null){w=0;break e}if(e(re!=null),re.mc=w,w.c=re.c,w.i=re.i,w.l=re.l,w.l.ma=re,w.l.width=re.c,w.l.height=re.i,w.a=0,ye(w.m,ue,je,Re),!ms(re.c,re.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Ms(w.s)?(re.ic=1,ue=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(ue),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(re.ic=0,w=So(w,re.c)),!w))break t;w=1;break e}re.mc=null,w=0}else w=Re>=re.c*re.i;re=!w}if(re)return null;d.ga.Lc!=1?d.Ga=0:U=Z-P}e(d.ga!=null),e(P+U<=Z);e:{if(w=(ue=d.ga).c,Z=ue.l.o,ue.$a==0){if(je=d.rc,Re=d.Vc,Je=d.Fa,fe=d.P+1+P*w,ge=d.mb,Ce=d.nb+P*w,e(fe<=d.P+d.qc),ue.Z!=0)for(e(kr[ue.Z]!=null),re=0;re<U;++re)kr[ue.Z](je,Re,Je,fe,ge,Ce,w),je=ge,Re=Ce,Ce+=w,fe+=w;else for(re=0;re<U;++re)r(ge,Ce,Je,fe,w),je=ge,Re=Ce,Ce+=w,fe+=w;d.rc=je,d.Vc=Re}else{if(e(ue.mc!=null),w=P+U,e((re=ue.mc)!=null),e(w<=re.i),re.C>=w)w=1;else if(ue.ic||Fe(),ue.ic){ue=re.V,je=re.Ba,Re=re.c;var He=re.i,Te=(Je=1,fe=re.$/Re,ge=re.$%Re,Ce=re.m,Me=re.s,re.$),Pe=Re*He,Ke=Re*w,Ge=Me.wc,Ye=Te<Ke?Tn(Me,ge,fe):null;e(Te<=Pe),e(w<=He),e(Ms(Me));t:for(;;){for(;!Ce.h&&Te<Ke;){if(ge&Ge||(Ye=Tn(Me,ge,fe)),e(Ye!=null),K(Ce),256>(He=Xr(Ye.G[0],Ye.H[0],Ce)))ue[je+Te]=He,++Te,++ge>=Re&&(ge=0,++fe<=w&&!(fe%16)&&ts(re,fe));else{if(!(280>He)){Je=0;break t}He=gi(He-256,Ce);var dt,ut=Xr(Ye.G[4],Ye.H[4],Ce);if(K(Ce),!(Te>=(ut=Yr(Re,ut=gi(ut,Ce)))&&Pe-Te>=He)){Je=0;break t}for(dt=0;dt<He;++dt)ue[je+Te+dt]=ue[je+Te+dt-ut];for(Te+=He,ge+=He;ge>=Re;)ge-=Re,++fe<=w&&!(fe%16)&&ts(re,fe);Te<Ke&&ge&Ge&&(Ye=Tn(Me,ge,fe))}e(Ce.h==W(Ce))}ts(re,fe>w?w:fe);break t}!Je||Ce.h&&Te<Pe?(Je=0,re.a=Ce.h?5:3):re.$=Te,w=Je}else w=wr(re,re.V,re.Ba,re.c,re.i,w,sa);if(!w){U=0;break e}}P+U>=Z&&(d.Cc=1),U=1}if(!U)return null;if(d.Cc&&((U=d.ga)!=null&&(U.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+P*$}function A(d,w,P,U,$,Z){for(;0<$--;){var re,ue=d,fe=w+(P?1:0),ge=d,Ce=w+(P?0:3);for(re=0;re<U;++re){var Me=ge[Ce+4*re];Me!=255&&(Me*=32897,ue[fe+4*re+0]=ue[fe+4*re+0]*Me>>23,ue[fe+4*re+1]=ue[fe+4*re+1]*Me>>23,ue[fe+4*re+2]=ue[fe+4*re+2]*Me>>23)}w+=Z}}function Y(d,w,P,U,$){for(;0<U--;){var Z;for(Z=0;Z<P;++Z){var re=d[w+2*Z+0],ue=15&(ge=d[w+2*Z+1]),fe=4369*ue,ge=(240&ge|ge>>4)*fe>>16;d[w+2*Z+0]=(240&re|re>>4)*fe>>16&240|(15&re|re<<4)*fe>>16>>4&15,d[w+2*Z+1]=240&ge|ue}w+=$}}function Se(d,w,P,U,$,Z,re,ue){var fe,ge,Ce=255;for(ge=0;ge<$;++ge){for(fe=0;fe<U;++fe){var Me=d[w+fe];Z[re+4*fe]=Me,Ce&=Me}w+=P,re+=ue}return Ce!=255}function Ie(d,w,P,U,$){var Z;for(Z=0;Z<$;++Z)P[U+Z]=d[w+Z]>>8}function Fe(){ei=A,gn=Y,ln=Se,qn=Ie}function $e(d,w,P){oe[d]=function(U,$,Z,re,ue,fe,ge,Ce,Me,je,Re,Je,He,Te,Pe,Ke,Ge){var Ye,dt=Ge-1>>1,ut=ue[fe+0]|ge[Ce+0]<<16,Et=Me[je+0]|Re[Je+0]<<16;e(U!=null);var ft=3*ut+Et+131074>>2;for(w(U[$+0],255&ft,ft>>16,He,Te),Z!=null&&(ft=3*Et+ut+131074>>2,w(Z[re+0],255&ft,ft>>16,Pe,Ke)),Ye=1;Ye<=dt;++Ye){var Jt=ue[fe+Ye]|ge[Ce+Ye]<<16,Qt=Me[je+Ye]|Re[Je+Ye]<<16,Xt=ut+Jt+Et+Qt+524296,zt=Xt+2*(Jt+Et)>>3;ft=zt+ut>>1,ut=(Xt=Xt+2*(ut+Qt)>>3)+Jt>>1,w(U[$+2*Ye-1],255&ft,ft>>16,He,Te+(2*Ye-1)*P),w(U[$+2*Ye-0],255&ut,ut>>16,He,Te+(2*Ye-0)*P),Z!=null&&(ft=Xt+Et>>1,ut=zt+Qt>>1,w(Z[re+2*Ye-1],255&ft,ft>>16,Pe,Ke+(2*Ye-1)*P),w(Z[re+2*Ye+0],255&ut,ut>>16,Pe,Ke+(2*Ye+0)*P)),ut=Jt,Et=Qt}1&Ge||(ft=3*ut+Et+131074>>2,w(U[$+Ge-1],255&ft,ft>>16,He,Te+(Ge-1)*P),Z!=null&&(ft=3*Et+ut+131074>>2,w(Z[re+Ge-1],255&ft,ft>>16,Pe,Ke+(Ge-1)*P)))}}function et(){ni[Lc]=jm,ni[Mo]=jo,ni[dd]=Bm,ni[Tu]=Tl,ni[Pu]=Ta,ni[vn]=Du,ni[Rc]=th,ni[Il]=jo,ni[Ia]=Tl,ni[Lu]=Ta,ni[Ru]=Du}function ht(d){return d&-16384?0>d?0:255:d>>Bo}function St(d,w){return ht((19077*d>>8)+(26149*w>>8)-14234)}function Bt(d,w,P){return ht((19077*d>>8)-(6419*w>>8)-(13320*P>>8)+8708)}function Mt(d,w){return ht((19077*d>>8)+(33050*w>>8)-17685)}function Gt(d,w,P,U,$){U[$+0]=St(d,P),U[$+1]=Bt(d,w,P),U[$+2]=Mt(d,w)}function Rn(d,w,P,U,$){U[$+0]=Mt(d,w),U[$+1]=Bt(d,w,P),U[$+2]=St(d,P)}function Un(d,w,P,U,$){var Z=Bt(d,w,P);w=Z<<3&224|Mt(d,w)>>3,U[$+0]=248&St(d,P)|Z>>5,U[$+1]=w}function Kn(d,w,P,U,$){var Z=240&Mt(d,w)|15;U[$+0]=240&St(d,P)|Bt(d,w,P)>>4,U[$+1]=Z}function Nr(d,w,P,U,$){U[$+0]=255,Gt(d,w,P,U,$+1)}function gr(d,w,P,U,$){Rn(d,w,P,U,$),U[$+3]=255}function as(d,w,P,U,$){Gt(d,w,P,U,$),U[$+3]=255}function _i(d,w){return 0>d?0:d>w?w:d}function Oi(d,w,P){oe[d]=function(U,$,Z,re,ue,fe,ge,Ce,Me){for(var je=Ce+(-2&Me)*P;Ce!=je;)w(U[$+0],Z[re+0],ue[fe+0],ge,Ce),w(U[$+1],Z[re+0],ue[fe+0],ge,Ce+P),$+=2,++re,++fe,Ce+=2*P;1&Me&&w(U[$+0],Z[re+0],ue[fe+0],ge,Ce)}}function Ro(d,w,P){return P==0?d==0?w==0?6:5:w==0?4:0:P}function Nu(d,w,P,U,$){switch(d>>>30){case 3:Ws(w,P,U,$,0);break;case 2:nn(w,P,U,$);break;case 1:Cr(w,P,U,$)}}function ml(d,w){var P,U,$=w.M,Z=w.Nb,re=d.oc,ue=d.pc+40,fe=d.oc,ge=d.pc+584,Ce=d.oc,Me=d.pc+600;for(P=0;16>P;++P)re[ue+32*P-1]=129;for(P=0;8>P;++P)fe[ge+32*P-1]=129,Ce[Me+32*P-1]=129;for(0<$?re[ue-1-32]=fe[ge-1-32]=Ce[Me-1-32]=129:(i(re,ue-32-1,127,21),i(fe,ge-32-1,127,9),i(Ce,Me-32-1,127,9)),U=0;U<d.za;++U){var je=w.ya[w.aa+U];if(0<U){for(P=-1;16>P;++P)r(re,ue+32*P-4,re,ue+32*P+12,4);for(P=-1;8>P;++P)r(fe,ge+32*P-4,fe,ge+32*P+4,4),r(Ce,Me+32*P-4,Ce,Me+32*P+4,4)}var Re=d.Gd,Je=d.Hd+U,He=je.ad,Te=je.Hc;if(0<$&&(r(re,ue-32,Re[Je].y,0,16),r(fe,ge-32,Re[Je].f,0,8),r(Ce,Me-32,Re[Je].ea,0,8)),je.Za){var Pe=re,Ke=ue-32+16;for(0<$&&(U>=d.za-1?i(Pe,Ke,Re[Je].y[15],4):r(Pe,Ke,Re[Je+1].y,0,4)),P=0;4>P;P++)Pe[Ke+128+P]=Pe[Ke+256+P]=Pe[Ke+384+P]=Pe[Ke+0+P];for(P=0;16>P;++P,Te<<=2)Pe=re,Ke=ue+nh[P],Di[je.Ob[P]](Pe,Ke),Nu(Te,He,16*+P,Pe,Ke)}else if(Pe=Ro(U,$,je.Ob[0]),Wr[Pe](re,ue),Te!=0)for(P=0;16>P;++P,Te<<=2)Nu(Te,He,16*+P,re,ue+nh[P]);for(P=je.Gc,Pe=Ro(U,$,je.Dd),ti[Pe](fe,ge),ti[Pe](Ce,Me),Te=He,Pe=fe,Ke=ge,255&(je=P>>0)&&(170&je?Hs(Te,256,Pe,Ke):bi(Te,256,Pe,Ke)),je=Ce,Te=Me,255&(P>>=8)&&(170&P?Hs(He,320,je,Te):bi(He,320,je,Te)),$<d.Ub-1&&(r(Re[Je].y,0,re,ue+480,16),r(Re[Je].f,0,fe,ge+224,8),r(Re[Je].ea,0,Ce,Me+224,8)),P=8*Z*d.B,Re=d.sa,Je=d.ta+16*U+16*Z*d.R,He=d.qa,je=d.ra+8*U+P,Te=d.Ha,Pe=d.Ia+8*U+P,P=0;16>P;++P)r(Re,Je+P*d.R,re,ue+32*P,16);for(P=0;8>P;++P)r(He,je+P*d.B,fe,ge+32*P,8),r(Te,Pe+P*d.B,Ce,Me+32*P,8)}}function wa(d,w,P,U,$,Z,re,ue,fe){var ge=[0],Ce=[0],Me=0,je=fe!=null?fe.kd:0,Re=fe??new Po;if(d==null||12>P)return 7;Re.data=d,Re.w=w,Re.ha=P,w=[w],P=[P],Re.gb=[Re.gb];e:{var Je=w,He=P,Te=Re.gb;if(e(d!=null),e(He!=null),e(Te!=null),Te[0]=0,12<=He[0]&&!t(d,Je[0],"RIFF")){if(t(d,Je[0]+8,"WEBP")){Te=3;break e}var Pe=_e(d,Je[0]+4);if(12>Pe||4294967286<Pe){Te=3;break e}if(je&&Pe>He[0]-8){Te=7;break e}Te[0]=Pe,Je[0]+=12,He[0]-=12}Te=0}if(Te!=0)return Te;for(Pe=0<Re.gb[0],P=P[0];;){e:{var Ke=d;He=w,Te=P;var Ge=ge,Ye=Ce,dt=Je=[0];if((ft=Me=[Me])[0]=0,8>Te[0])Te=7;else{if(!t(Ke,He[0],"VP8X")){if(_e(Ke,He[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ut=_e(Ke,He[0]+8),Et=1+ie(Ke,He[0]+12);if(2147483648<=Et*(Ke=1+ie(Ke,He[0]+15))){Te=3;break e}dt!=null&&(dt[0]=ut),Ge!=null&&(Ge[0]=Et),Ye!=null&&(Ye[0]=Ke),He[0]+=18,Te[0]-=18,ft[0]=1}Te=0}}if(Me=Me[0],Je=Je[0],Te!=0)return Te;if(He=!!(2&Je),!Pe&&Me)return 3;if(Z!=null&&(Z[0]=!!(16&Je)),re!=null&&(re[0]=He),ue!=null&&(ue[0]=0),re=ge[0],Je=Ce[0],Me&&He&&fe==null){Te=0;break}if(4>P){Te=7;break}if(Pe&&Me||!Pe&&!Me&&!t(d,w[0],"ALPH")){P=[P],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{ut=d,Te=w,Pe=P;var ft=Re.gb;Ge=Re.na,Ye=Re.P,dt=Re.Sa,Et=22,e(ut!=null),e(Pe!=null),Ke=Te[0];var Jt=Pe[0];for(e(Ge!=null),e(dt!=null),Ge[0]=null,Ye[0]=null,dt[0]=0;;){if(Te[0]=Ke,Pe[0]=Jt,8>Jt){Te=7;break e}var Qt=_e(ut,Ke+4);if(4294967286<Qt){Te=3;break e}var Xt=8+Qt+1&-2;if(Et+=Xt,0<ft&&Et>ft){Te=3;break e}if(!t(ut,Ke,"VP8 ")||!t(ut,Ke,"VP8L")){Te=0;break e}if(Jt[0]<Xt){Te=7;break e}t(ut,Ke,"ALPH")||(Ge[0]=ut,Ye[0]=Ke+8,dt[0]=Qt),Ke+=Xt,Jt-=Xt}}if(P=P[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Te!=0)break}P=[P],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(ft=d,Te=w,Pe=P,Ge=Re.gb[0],Ye=Re.Ja,dt=Re.xa,ut=Te[0],Ke=!t(ft,ut,"VP8 "),Et=!t(ft,ut,"VP8L"),e(ft!=null),e(Pe!=null),e(Ye!=null),e(dt!=null),8>Pe[0])Te=7;else{if(Ke||Et){if(ft=_e(ft,ut+4),12<=Ge&&ft>Ge-12){Te=3;break e}if(je&&ft>Pe[0]-8){Te=7;break e}Ye[0]=ft,Te[0]+=8,Pe[0]-=8,dt[0]=Et}else dt[0]=5<=Pe[0]&&ft[ut+0]==47&&!(ft[ut+4]>>5),Ye[0]=Pe[0];Te=0}if(P=P[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],w=w[0],Te!=0)break;if(4294967286<Re.Ja)return 3;if(ue==null||He||(ue[0]=Re.xa?2:1),re=[re],Je=[Je],Re.xa){if(5>P){Te=7;break}ue=re,je=Je,He=Z,d==null||5>P?d=0:5<=P&&d[w+0]==47&&!(d[w+4]>>5)?(Pe=[0],ft=[0],Ge=[0],ye(Ye=new N,d,w,P),xt(Ye,Pe,ft,Ge)?(ue!=null&&(ue[0]=Pe[0]),je!=null&&(je[0]=ft[0]),He!=null&&(He[0]=Ge[0]),d=1):d=0):d=0}else{if(10>P){Te=7;break}ue=Je,d==null||10>P||!Ec(d,w+3,P-3)?d=0:(je=d[w+0]|d[w+1]<<8|d[w+2]<<16,He=16383&(d[w+7]<<8|d[w+6]),d=16383&(d[w+9]<<8|d[w+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=Re.Ja||!He||!d?d=0:(re&&(re[0]=He),ue&&(ue[0]=d),d=1))}if(!d||(re=re[0],Je=Je[0],Me&&(ge[0]!=re||Ce[0]!=Je)))return 3;fe!=null&&(fe[0]=Re,fe.offset=w-fe.w,e(4294967286>w-fe.w),e(fe.offset==fe.ha-P));break}return Te==0||Te==7&&Me&&fe==null?(Z!=null&&(Z[0]|=Re.na!=null&&0<Re.na.length),U!=null&&(U[0]=re),$!=null&&($[0]=Je),0):Te}function gl(d,w,P){var U=w.width,$=w.height,Z=0,re=0,ue=U,fe=$;if(w.Da=d!=null&&0<d.Da,w.Da&&(ue=d.cd,fe=d.bd,Z=d.v,re=d.j,11>P||(Z&=-2,re&=-2),0>Z||0>re||0>=ue||0>=fe||Z+ue>U||re+fe>$))return 0;if(w.v=Z,w.j=re,w.va=Z+ue,w.o=re+fe,w.U=ue,w.T=fe,w.da=d!=null&&0<d.da,w.da){if(!b(ue,fe,P=[d.ib],Z=[d.hb]))return 0;w.ib=P[0],w.hb=Z[0]}return w.ob=d!=null&&d.ob,w.Kb=d==null||!d.Sd,w.da&&(w.ob=w.ib<3*U/4&&w.hb<3*$/4,w.Kb=0),1}function vl(d){if(d==null)return 2;if(11>d.S){var w=d.f.RGBA;w.fb+=(d.height-1)*w.A,w.A=-w.A}else w=d.f.kb,d=d.height,w.O+=(d-1)*w.fa,w.fa=-w.fa,w.N+=(d-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(d-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(d-1)*w.lb,w.lb=-w.lb);return 0}function _a(d,w,P,U){if(U==null||0>=d||0>=w)return 2;if(P!=null){if(P.Da){var $=P.cd,Z=P.bd,re=-2&P.v,ue=-2&P.j;if(0>re||0>ue||0>=$||0>=Z||re+$>d||ue+Z>w)return 2;d=$,w=Z}if(P.da){if(!b(d,w,$=[P.ib],Z=[P.hb]))return 2;d=$[0],w=Z[0]}}U.width=d,U.height=w;e:{var fe=U.width,ge=U.height;if(d=U.S,0>=fe||0>=ge||!(d>=Lc&&13>d))d=2;else{if(0>=U.Rd&&U.sd==null){re=Z=$=w=0;var Ce=(ue=fe*Mu[d])*ge;if(11>d||(Z=(ge+1)/2*(w=(fe+1)/2),d==12&&(re=($=fe)*ge)),(ge=o(Ce+2*Z+re))==null){d=1;break e}U.sd=ge,11>d?((fe=U.f.RGBA).eb=ge,fe.fb=0,fe.A=ue,fe.size=Ce):((fe=U.f.kb).y=ge,fe.O=0,fe.fa=ue,fe.Fd=Ce,fe.f=ge,fe.N=0+Ce,fe.Ab=w,fe.Cd=Z,fe.ea=ge,fe.W=0+Ce+Z,fe.Db=w,fe.Ed=Z,d==12&&(fe.F=ge,fe.J=0+Ce+2*Z),fe.Tc=re,fe.lb=$)}if(w=1,$=U.S,Z=U.width,re=U.height,$>=Lc&&13>$)if(11>$)d=U.f.RGBA,w&=(ue=Math.abs(d.A))*(re-1)+Z<=d.size,w&=ue>=Z*Mu[$],w&=d.eb!=null;else{d=U.f.kb,ue=(Z+1)/2,Ce=(re+1)/2,fe=Math.abs(d.fa),ge=Math.abs(d.Ab);var Me=Math.abs(d.Db),je=Math.abs(d.lb),Re=je*(re-1)+Z;w&=fe*(re-1)+Z<=d.Fd,w&=ge*(Ce-1)+ue<=d.Cd,w=(w&=Me*(Ce-1)+ue<=d.Ed)&fe>=Z&ge>=ue&Me>=ue,w&=d.y!=null,w&=d.f!=null,w&=d.ea!=null,$==12&&(w&=je>=Z,w&=Re<=d.Tc,w&=d.F!=null)}else w=0;d=w?0:2}}return d!=0||P!=null&&P.fd&&(d=vl(U)),d}var zn=64,yl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wl=24,_l=32,bl=8,Br=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ae("Predictor0","PredictorAdd0"),oe.Predictor0=function(){return 4278190080},oe.Predictor1=function(d){return d},oe.Predictor2=function(d,w,P){return w[P+0]},oe.Predictor3=function(d,w,P){return w[P+1]},oe.Predictor4=function(d,w,P){return w[P-1]},oe.Predictor5=function(d,w,P){return he(he(d,w[P+1]),w[P+0])},oe.Predictor6=function(d,w,P){return he(d,w[P-1])},oe.Predictor7=function(d,w,P){return he(d,w[P+0])},oe.Predictor8=function(d,w,P){return he(w[P-1],w[P+0])},oe.Predictor9=function(d,w,P){return he(w[P+0],w[P+1])},oe.Predictor10=function(d,w,P){return he(he(d,w[P-1]),he(w[P+0],w[P+1]))},oe.Predictor11=function(d,w,P){var U=w[P+0];return 0>=Ue(U>>24&255,d>>24&255,(w=w[P-1])>>24&255)+Ue(U>>16&255,d>>16&255,w>>16&255)+Ue(U>>8&255,d>>8&255,w>>8&255)+Ue(255&U,255&d,255&w)?U:d},oe.Predictor12=function(d,w,P){var U=w[P+0];return(Oe((d>>24&255)+(U>>24&255)-((w=w[P-1])>>24&255))<<24|Oe((d>>16&255)+(U>>16&255)-(w>>16&255))<<16|Oe((d>>8&255)+(U>>8&255)-(w>>8&255))<<8|Oe((255&d)+(255&U)-(255&w)))>>>0},oe.Predictor13=function(d,w,P){var U=w[P-1];return(qe((d=he(d,w[P+0]))>>24&255,U>>24&255)<<24|qe(d>>16&255,U>>16&255)<<16|qe(d>>8&255,U>>8&255)<<8|qe(d>>0&255,U>>0&255))>>>0};var ba=oe.PredictorAdd0;oe.PredictorAdd1=Xe,ae("Predictor2","PredictorAdd2"),ae("Predictor3","PredictorAdd3"),ae("Predictor4","PredictorAdd4"),ae("Predictor5","PredictorAdd5"),ae("Predictor6","PredictorAdd6"),ae("Predictor7","PredictorAdd7"),ae("Predictor8","PredictorAdd8"),ae("Predictor9","PredictorAdd9"),ae("Predictor10","PredictorAdd10"),ae("Predictor11","PredictorAdd11"),ae("Predictor12","PredictorAdd12"),ae("Predictor13","PredictorAdd13");var Us=oe.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Pc,Ur=oe.ColorIndexInverseTransform,Sl=oe.MapARGB,Iu=oe.VP8LColorIndexInverseTransformAlpha,xl=oe.MapAlpha,bs=oe.VP8LPredictorsAdd=[];bs.length=16,(oe.VP8LPredictors=[]).length=16,(oe.VP8LPredictorsAdd_C=[]).length=16,(oe.VP8LPredictors_C=[]).length=16;var Oo,zr,Ir,Fo,zs,qs,El,Ws,nn,Hs,Cr,bi,Sa,Cu,xa,Ea,Aa,Si,Vs,Ss,$s,Gs,Do,_r,ei,gn,ln,qn,Yn=o(511),xs=o(2041),Al=o(225),Na=o(767),ku=0,Es=xs,Nl=Al,qr=Na,Fi=Yn,Lc=0,Mo=1,dd=2,Tu=3,Pu=4,vn=5,Rc=6,Il=7,Ia=8,Lu=9,Ru=10,Ou=[2,3,7],Oc=[3,3,11],Ca=[280,256,256,256,40],pd=[0,1,1,1,0],Om=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fm=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],md=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fc=8,Cl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ka=null,Qf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],eh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wr=[],Di=[],ti=[],As=1,kl=2,kr=[],ni=[];$e("UpsampleRgbLinePair",Gt,3),$e("UpsampleBgrLinePair",Rn,3),$e("UpsampleRgbaLinePair",as,4),$e("UpsampleBgraLinePair",gr,4),$e("UpsampleArgbLinePair",Nr,4),$e("UpsampleRgba4444LinePair",Kn,2),$e("UpsampleRgb565LinePair",Un,2);var jm=oe.UpsampleRgbLinePair,Bm=oe.UpsampleBgrLinePair,jo=oe.UpsampleRgbaLinePair,Tl=oe.UpsampleBgraLinePair,Ta=oe.UpsampleArgbLinePair,Du=oe.UpsampleRgba4444LinePair,th=oe.UpsampleRgb565LinePair,Ks=16,ls=1<<Ks-1,un=-227,pn=482,Bo=6,br=0,ri=o(256),Pa=o(256),Pl=o(256),ii=o(256),Dc=o(pn-un),yd=o(pn-un);Oi("YuvToRgbRow",Gt,3),Oi("YuvToBgrRow",Rn,3),Oi("YuvToRgbaRow",as,4),Oi("YuvToBgraRow",gr,4),Oi("YuvToArgbRow",Nr,4),Oi("YuvToRgba4444Row",Kn,2),Oi("YuvToRgb565Row",Un,2);var nh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],La=[0,2,8],wd=[8,7,6,4,4,2,2,2,1,1,1,1],Ys=1;this.WebPDecodeRGBA=function(d,w,P,U,$){var Z=Mo,re=new _s,ue=new nr;re.ba=ue,ue.S=Z,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,ge=ue.height,Ce=new Gn;if(Ce==null||d==null)var Me=2;else e(Ce!=null),Me=wa(d,w,P,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Me!=0?fe=0:(fe!=null&&(fe[0]=Ce.width[0]),ge!=null&&(ge[0]=Ce.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],U!=null&&(U[0]=ue.width),$!=null&&($[0]=ue.height);e:{if(U=new nl,($=new Po).data=d,$.w=w,$.ha=P,$.kd=1,w=[0],e($!=null),((d=wa($.data,$.w,$.ha,null,null,null,w,null,$))==0||d==7)&&w[0]&&(d=4),(w=d)==0){if(e(re!=null),U.data=$.data,U.w=$.w+$.offset,U.ha=$.ha-$.offset,U.put=Ti,U.ac=mr,U.bc=Zi,U.ma=re,$.xa){if((d=vi())==null){re=1;break e}if(function(je,Re){var Je=[0],He=[0],Te=[0];t:for(;;){if(je==null)return 0;if(Re==null)return je.a=2,0;if(je.l=Re,je.a=0,ye(je.m,Re.data,Re.w,Re.ha),!xt(je.m,Je,He,Te)){je.a=3;break t}if(je.xb=kl,Re.width=Je[0],Re.height=He[0],!ms(Je[0],He[0],1,je,null))break t;return 1}return e(je.a!=0),0}(d,U)){if(U=(w=_a(U.width,U.height,re.Oa,re.ba))==0){t:{U=d;n:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((P=U.l)!=null),e(($=P.ma)!=null),U.xb!=0){if(U.ca=$.ba,U.tb=$.tb,e(U.ca!=null),!gl($.Oa,P,Tu)){U.a=2;break n}if(!So(U,P.width)||P.da)break n;if((P.da||Yt(U.ca.S))&&Fe(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Fe()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!D(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!wr(U,U.V,U.Ba,U.c,U.i,P.o,bo))break n;$.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(w=d.a)}else w=d.a}else{if((d=new yi)==null){re=1;break e}if(d.Fa=$.na,d.P=$.P,d.qc=$.Sa,Ac(d,U)){if((w=_a(U.width,U.height,re.Oa,re.ba))==0){if(d.Aa=0,P=re.Oa,e(($=d)!=null),P!=null){if(0<(fe=0>(fe=P.Md)?0:100<fe?255:255*fe/100)){for(ge=Ce=0;4>ge;++ge)12>(Me=$.pb[ge]).lc&&(Me.ia=fe*wd[0>Me.lc?0:Me.lc]>>3),Ce|=Me.ia;Ce&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=P.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}ca(d,U)||(w=d.a)}}else w=d.a}w==0&&re.Oa!=null&&re.Oa.fd&&(w=vl(re.ba))}re=w}Z=re!=0?null:11>Z?ue.f.RGBA.eb:ue.f.kb.y}else Z=null;return Z};var Mu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(oe,z){for(var Ee="",Q=0;Q<4;Q++)Ee+=String.fromCharCode(oe[z++]);return Ee}function m(oe,z){return(oe[z+0]<<0|oe[z+1]<<8|oe[z+2]<<16)>>>0}function g(oe,z){return(oe[z+0]<<0|oe[z+1]<<8|oe[z+2]<<16|oe[z+3]<<24)>>>0}new c;var y=[0],p=[0],E=[],S=new c,k=n,_=function(oe,z){var Ee={},Q=0,B=!1,ee=0,F=0;if(Ee.frames=[],!function(q,W,ne,K){for(var R=0;R<K;R++)if(q[W+R]!=ne.charCodeAt(R))return!0;return!1}(oe,z,"RIFF",4)){var me,Ne;for(g(oe,z+=4),z+=8;z<oe.length;){var pe=h(oe,z),ye=g(oe,z+=4);z+=4;var de=ye+(1&ye);switch(pe){case"VP8 ":case"VP8L":Ee.frames[Q]===void 0&&(Ee.frames[Q]={}),(N=Ee.frames[Q]).src_off=B?F:z-8,N.src_size=ee+ye+8,Q++,B&&(B=!1,ee=0,F=0);break;case"VP8X":(N=Ee.header={}).feature_flags=oe[z];var xe=z+4;N.canvas_width=1+m(oe,xe),xe+=3,N.canvas_height=1+m(oe,xe),xe+=3;break;case"ALPH":B=!0,ee=de+8,F=z-8;break;case"ANIM":(N=Ee.header).bgcolor=g(oe,z),xe=z+4,N.loop_count=(me=oe)[(Ne=xe)+0]<<0|me[Ne+1]<<8,xe+=2;break;case"ANMF":var G,N;(N=Ee.frames[Q]={}).offset_x=2*m(oe,z),z+=3,N.offset_y=2*m(oe,z),z+=3,N.width=1+m(oe,z),z+=3,N.height=1+m(oe,z),z+=3,N.duration=m(oe,z),z+=3,G=oe[z++],N.dispose=1&G,N.blend=G>>1&1}pe!="ANMF"&&(z+=de)}return Ee}}(k,0);_.response=k,_.rgbaoutput=!0,_.dataurl=!1;var T=_.header?_.header:null,j=_.frames?_.frames:null;if(T){T.loop_counter=T.loop_count,y=[T.canvas_height],p=[T.canvas_width];for(var H=0;H<j.length&&j[H].blend!=0;H++);}var X=j[0],we=S.WebPDecodeRGBA(k,X.src_off,X.src_size,p,y);X.rgba=we,X.imgwidth=p[0],X.imgheight=y[0];for(var ce=0;ce<p[0]*y[0]*4;ce++)E[ce]=we[ce];return this.width=p,this.height=y,this.data=E,this}(function(n){var e=function(){return typeof T0=="function"},t=function(y,p,E,S){var k=4,_=a;switch(S){case n.image_compression.FAST:k=1,_=o;break;case n.image_compression.MEDIUM:k=6,_=u;break;case n.image_compression.SLOW:k=9,_=c}y=r(y,p,E,_);var T=T0(y,{level:k});return n.__addimage__.arrayBufferToBinaryString(T)},r=function(y,p,E,S){for(var k,_,T,j=y.length/p,H=new Uint8Array(y.length+j),X=m(),we=0;we<j;we+=1){if(T=we*p,k=y.subarray(T,T+p),S)H.set(S(k,E,_),T+we);else{for(var ce,oe=X.length,z=[];ce<oe;ce+=1)z[ce]=X[ce](k,E,_);var Ee=g(z.concat());H.set(z[Ee],T+we)}_=k}return H},i=function(y){var p=Array.apply([],y);return p.unshift(0),p},o=function(y,p){var E,S=[],k=y.length;S[0]=1;for(var _=0;_<k;_+=1)E=y[_-p]||0,S[_+1]=y[_]-E+256&255;return S},a=function(y,p,E){var S,k=[],_=y.length;k[0]=2;for(var T=0;T<_;T+=1)S=E&&E[T]||0,k[T+1]=y[T]-S+256&255;return k},u=function(y,p,E){var S,k,_=[],T=y.length;_[0]=3;for(var j=0;j<T;j+=1)S=y[j-p]||0,k=E&&E[j]||0,_[j+1]=y[j]+256-(S+k>>>1)&255;return _},c=function(y,p,E){var S,k,_,T,j=[],H=y.length;j[0]=4;for(var X=0;X<H;X+=1)S=y[X-p]||0,k=E&&E[X]||0,_=E&&E[X-p]||0,T=h(S,k,_),j[X+1]=y[X]-T+256&255;return j},h=function(y,p,E){if(y===p&&p===E)return y;var S=Math.abs(p-E),k=Math.abs(y-E),_=Math.abs(y+p-E-E);return S<=k&&S<=_?y:k<=_?p:E},m=function(){return[i,o,a,u,c]},g=function(y){var p=y.map(function(E){return E.reduce(function(S,k){return S+Math.abs(k)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(y,p,E,S){var k,_,T,j,H,X,we,ce,oe,z,Ee,Q,B,ee,F,me=this.decode.FLATE_DECODE,Ne="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(T=new vD(y)).imgData,_=T.bits,k=T.colorSpace,H=T.colors,[4,6].indexOf(T.colorType)!==-1){if(T.bits===8){oe=(ce=T.pixelBitlength==32?new Uint32Array(T.decodePixels().buffer):T.pixelBitlength==16?new Uint16Array(T.decodePixels().buffer):new Uint8Array(T.decodePixels().buffer)).length,Ee=new Uint8Array(oe*T.colors),z=new Uint8Array(oe);var pe,ye=T.pixelBitlength-T.bits;for(ee=0,F=0;ee<oe;ee++){for(B=ce[ee],pe=0;pe<ye;)Ee[F++]=B>>>pe&255,pe+=T.bits;z[ee]=B>>>pe&255}}if(T.bits===16){oe=(ce=new Uint32Array(T.decodePixels().buffer)).length,Ee=new Uint8Array(oe*(32/T.pixelBitlength)*T.colors),z=new Uint8Array(oe*(32/T.pixelBitlength)),Q=T.colors>1,ee=0,F=0;for(var de=0;ee<oe;)B=ce[ee++],Ee[F++]=B>>>0&255,Q&&(Ee[F++]=B>>>16&255,B=ce[ee++],Ee[F++]=B>>>0&255),z[de++]=B>>>16&255;_=8}S!==n.image_compression.NONE&&e()?(y=t(Ee,T.width*T.colors,T.colors,S),we=t(z,T.width,1,S)):(y=Ee,we=z,me=void 0)}if(T.colorType===3&&(k=this.color_spaces.INDEXED,X=T.palette,T.transparency.indexed)){var xe=T.transparency.indexed,G=0;for(ee=0,oe=xe.length;ee<oe;++ee)G+=xe[ee];if((G/=255)===oe-1&&xe.indexOf(0)!==-1)j=[xe.indexOf(0)];else if(G!==oe){for(ce=T.decodePixels(),z=new Uint8Array(ce.length),ee=0,oe=ce.length;ee<oe;ee++)z[ee]=xe[ce[ee]];we=t(z,T.width,1)}}var N=function(q){var W;switch(q){case n.image_compression.FAST:W=11;break;case n.image_compression.MEDIUM:W=13;break;case n.image_compression.SLOW:W=14;break;default:W=12}return W}(S);return me===this.decode.FLATE_DECODE&&(Ne="/Predictor "+N+" "),Ne+="/Colors "+H+" /BitsPerComponent "+_+" /Columns "+T.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(we&&this.__addimage__.isArrayBuffer(we)||this.__addimage__.isArrayBufferView(we))&&(we=this.__addimage__.arrayBufferToBinaryString(we)),{alias:E,data:y,index:p,filter:me,decodeParameters:Ne,transparency:j,palette:X,sMask:we,predictor:N,width:T.width,height:T.height,bitsPerComponent:_,colorSpace:k}}}})(kt.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new yD(e),a=o.width,u=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:u},m=new H1(100).encode(h,100);return n.processJPEG.call(this,m,t,r,i)},n.processGIF87A=n.processGIF89A}(kt.API),ao.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ao.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){En.log("bit decode error:"+t)}},ao.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[o>>7-u&1];this.data[a+4*u]=c.blue,this.data[a+4*u+1]=c.green,this.data[a+4*u+2]=c.red,this.data[a+4*u+3]=255}t!==0&&(this.pos+=4-t)}},ao.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,u=o>>4,c=15&o,h=this.palette[u];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ao.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},ao.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,c=(o>>10&e)/e*255|0,h=o>>15?255:0,m=r*this.width*4+4*i;this.data[m]=c,this.data[m+1]=u,this.data[m+2]=a,this.data[m+3]=h}this.pos+=n}},ao.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,m=i*this.width*4+4*o;this.data[m]=h,this.data[m+1]=c,this.data[m+2]=u,this.data[m+3]=255}this.pos+=n}},ao.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ao.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=a}},ao.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new ao(e,!1),a=o.width,u=o.height,c={data:o.getData(),width:a,height:u},h=new H1(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(kt.API),O2.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new O2(e),a=o.width,u=o.height,c={data:o.getData(),width:a,height:u},h=new H1(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(kt.API),kt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),u=0,c=0,h=0;h<i;h+=4){var m=r[h],g=r[h+1],y=r[h+2],p=r[h+3];o[u++]=m,o[u++]=g,o[u++]=y,a[c++]=p}var E=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},kt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rf=kt.API,hp=rf.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,m=h.fof?h.fof:1,g=e.doKerning!==!1,y=0,p=n.length,E=0,S=u[0]||c,k=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(y=g&&wn(h[r])==="object"&&!isNaN(parseInt(h[r][E],10))?h[r][E]/m:0,k.push((u[r]||S)/c+y)),E=r;return k},T2=rf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rf.processArabic&&(n=rf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:hp.apply(this,arguments).reduce(function(o,a){return o+a},0)},P2=function(n,e,t,r){for(var i=[],o=0,a=n.length,u=0;o!==a&&u+e[o]<t;)u+=e[o],o++;i.push(n.slice(0,o));var c=o;for(u=0;o!==a;)u+e[o]>r&&(i.push(n.slice(c,o)),u=0,c=o),u+=e[o],o++;return c!==o&&i.push(n.slice(c,o)),i},L2=function(n,e,t){t||(t={});var r,i,o,a,u,c,h,m=[],g=[m],y=t.textIndent||0,p=0,E=0,S=n.split(" "),k=hp.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var _=Array(c).join(" "),T=[];S.map(function(H){(H=H.split(/\s*\n/)).length>1?T=T.concat(H.map(function(X,we){return(we&&X.length?`
`:"")+X})):T.push(H[0])}),S=T,c=T2.apply(this,[_,t])}for(o=0,a=S.length;o<a;o++){var j=0;if(r=S[o],c&&r[0]==`
`&&(r=r.substr(1),j=1),y+p+(E=(i=hp.apply(this,[r,t])).reduce(function(H,X){return H+X},0))>e||j){if(E>e){for(u=P2.apply(this,[r,i,e-(y+p),e]),m.push(u.shift()),m=[u.pop()];u.length;)g.push([u.shift()]);E=i.slice(r.length-(m[0]?m[0].length:0)).reduce(function(H,X){return H+X},0)}else m=[r];g.push(m),y=E+c,p=k}else m.push(r),y+=p+E,p=k}return h=c?function(H,X){return(X?_:"")+H.join(" ")}:function(H){return H.join(" ")},g.map(h)},rf.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var g=this.internal.getFont(m.fontName,m.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var u,c,h=[];for(u=0,c=r.length;u<c;u++)h=h.concat(L2.apply(this,[r[u],a,o]));return h},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=n.__fontmetrics__.compress=function(g){var y,p,E,S,k=["{"];for(var _ in g){if(y=g[_],isNaN(parseInt(_,10))?p="'"+_+"'":(_=parseInt(_,10),p=(p=o(_).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof y=="number")y<0?(E=o(y).slice(3),S="-"):(E=o(y).slice(2),S=""),E=S+E.slice(0,-1)+r[E.slice(-1)];else{if(wn(y)!=="object")throw new Error("Don't know what to do with value type "+wn(y)+".");E=a(y)}k.push(p+E)}return k.push("}"),k.join("")},u=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,E,S,k={},_=1,T=k,j=[],H="",X="",we=g.length-1,ce=1;ce<we;ce+=1)(S=g[ce])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(S):S=="{"?(j.push([T,E]),T={},E=void 0):S=="}"?((p=j.pop())[0][p[1]]=T,E=void 0,T=p[0]):S=="-"?_=-1:E===void 0?t.hasOwnProperty(S)?(H+=t[S],E=parseInt(H,16)*_,_=1,H=""):H+=S:t.hasOwnProperty(S)?(X+=t[S],T[E]=parseInt(X,16)*_,_=1,E=void 0,X=""):X+=S;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var y=g.font,p=m.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var E=h.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])}(kt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Mh(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(kt),function(n){function e(){return(Tt.canvg?Promise.resolve(Tt.canvg):A0(()=>import("./index.es-BT0dBJiV.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}kt.API.addSvgAsImage=function(t,r,i,o,a,u,c,h){if(isNaN(r)||isNaN(i))throw En.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw En.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=o,m.height=a;var g=m.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,m.width,m.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(E){return E.fromString(g,t,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(y)}).then(function(){p.addImage(m.toDataURL("image/jpeg",1),r,i,o,a,c,h)})}}(),kt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},kt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),c=[],h=0,m=0,g=0;function y(E,S){var k,_=!1;for(k=0;k<E.length;k+=1)E[k]===S&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=u.length;for(g=0;g<p;g+=1)t[u[g]].value=t[u[g]].defaultValue,t[u[g]].explicitSet=!1}if(wn(n)==="object"){for(i in n)if(o=n[i],y(u,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&y(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(h=0;h<o.length;h+=1)if(r=!0,o[h].length===1&&typeof o[h][0]=="number")c.push(String(o[h]-1));else if(o[h].length>1){for(m=0;m<o[h].length;m+=1)typeof o[h][m]!="number"&&(r=!1);r===!0&&c.push([o[h][0]-1,o[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,S=[];for(E in t)t[E].explicitSet===!0&&(t[E].type==="name"?S.push("/"+E+" /"+t[E].value):S.push("/"+E+" "+t[E].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+a.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+a+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(kt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,a){for(var u,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],g=0,y=o.length;g<y;++g){if(u=a.metadata.characterToGlyph(o.charCodeAt(g)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=o.charCodeAt(g),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(a.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(h[4-u.length],u)}return m.join("")},r=function(o){var a,u,c,h,m,g,y;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,y=(u=Object.keys(o).sort(function(p,E){return p-E})).length;g<y;g++)a=u[g],c.length>=100&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(h=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(m+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(a){var u=a.font,c=a.out,h=a.newObject,m=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),p="",E=0;E<y.length;E++)p+=String.fromCharCode(y[E]);var S=h();m({data:p,addLength1:!0,objectId:S}),c("endobj");var k=h();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var _=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+af(u.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var T=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+af(u.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+n.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+k+" 0 R"),c("/BaseFont /"+af(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+T+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(a){var u=a.font,c=a.out,h=a.newObject,m=a.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,y="",p=0;p<g.length;p++)y+=String.fromCharCode(g[p]);var E=h();m({data:y,addLength1:!0,objectId:E}),c("endobj");var S=h();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var k=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+af(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var _=0;_<u.metadata.hmtx.widths.length;_++)u.metadata.hmtx.widths[_]=parseInt(u.metadata.hmtx.widths[_]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+af(u.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(o)}]);var i=function(o){var a,u=o.text||"",c=o.x,h=o.y,m=o.options||{},g=o.mutex||{},y=g.pdfEscape,p=g.activeFontKey,E=g.fonts,S=p,k="",_=0,T="",j=E[S].encoding;if(E[S].encoding!=="Identity-H")return{text:u,x:c,y:h,options:m,mutex:g};for(T=u,S=p,Array.isArray(u)&&(T=u[0]),_=0;_<T.length;_+=1)E[S].metadata.hasOwnProperty("cmap")&&(a=E[S].metadata.cmap.unicode.codeMap[T[_].charCodeAt(0)]),a||T[_].charCodeAt(0)<256&&E[S].metadata.hasOwnProperty("Unicode")?k+=T[_]:k+="";var H="";return parseInt(S.slice(1))<14||j==="WinAnsiEncoding"?H=y(k,S).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(H=t(k,E[S])),g.isHex=!0,{text:H,x:c,y:h,options:m,mutex:g}};e.events.push(["postProcessText",function(o){var a=o.text||"",u=[],c={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?u.push([i(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):u.push(i(Object.assign({},c,{text:a[h]})).text);o.text=u}else o.text=i(Object.assign({},c,{text:a})).text}])}(kt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(kt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,a,u,c,h,m,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,j=0;this.__bidiEngine__={};var H=function(Q){var B=Q.charCodeAt(),ee=B>>8,F=S[ee];return F!==void 0?g[256*F+(255&B)]:ee===252||ee===253?"AL":_.test(ee)?"L":ee===8?"R":"N"},X=function(Q){for(var B,ee=0;ee<Q.length;ee++){if((B=H(Q.charAt(ee)))==="L")return!1;if(B==="R")return!0}return!1},we=function(Q,B,ee,F){var me,Ne,pe,ye,de=B[F];switch(de){case"L":case"R":T=!1;break;case"N":case"AN":break;case"EN":T&&(de="AN");break;case"AL":T=!0,de="R";break;case"WS":de="N";break;case"CS":F<1||F+1>=B.length||(me=ee[F-1])!=="EN"&&me!=="AN"||(Ne=B[F+1])!=="EN"&&Ne!=="AN"?de="N":T&&(Ne="AN"),de=Ne===me?Ne:"N";break;case"ES":de=(me=F>0?ee[F-1]:"B")==="EN"&&F+1<B.length&&B[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&ee[F-1]==="EN"){de="EN";break}if(T){de="N";break}for(pe=F+1,ye=B.length;pe<ye&&B[pe]==="ET";)pe++;de=pe<ye&&B[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!u){for(ye=B.length,pe=F+1;pe<ye&&B[pe]==="NSM";)pe++;if(pe<ye){var xe=Q[F],G=xe>=1425&&xe<=2303||xe===64286;if(me=B[pe],G&&(me==="R"||me==="AL")){de="R";break}}}de=F<1||(me=B[F-1])==="B"?"N":ee[F-1];break;case"B":T=!1,i=!0,de=j;break;case"S":o=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"BN":de="N"}return de},ce=function(Q,B,ee){var F=Q.split("");return ee&&oe(F,ee,{hiLevel:j}),F.reverse(),B&&B.reverse(),F.join("")},oe=function(Q,B,ee){var F,me,Ne,pe,ye,de=-1,xe=Q.length,G=0,N=[],q=j?p:y,W=[];for(T=!1,i=!1,o=!1,me=0;me<xe;me++)W[me]=H(Q[me]);for(Ne=0;Ne<xe;Ne++){if(ye=G,N[Ne]=we(Q,W,N,Ne),F=240&(G=q[ye][E[N[Ne]]]),G&=15,B[Ne]=pe=q[G][5],F>0)if(F===16){for(me=de;me<Ne;me++)B[me]=1;de=-1}else de=-1;if(q[G][6])de===-1&&(de=Ne);else if(de>-1){for(me=de;me<Ne;me++)B[me]=pe;de=-1}W[Ne]==="B"&&(B[Ne]=0),ee.hiLevel|=pe}o&&function(ne,K,R){for(var L=0;L<R;L++)if(ne[L]==="S"){K[L]=j;for(var J=L-1;J>=0&&ne[J]==="WS";J--)K[J]=j}}(W,B,xe)},z=function(Q,B,ee,F,me){if(!(me.hiLevel<Q)){if(Q===1&&j===1&&!i)return B.reverse(),void(ee&&ee.reverse());for(var Ne,pe,ye,de,xe=B.length,G=0;G<xe;){if(F[G]>=Q){for(ye=G+1;ye<xe&&F[ye]>=Q;)ye++;for(de=G,pe=ye-1;de<pe;de++,pe--)Ne=B[de],B[de]=B[pe],B[pe]=Ne,ee&&(Ne=ee[de],ee[de]=ee[pe],ee[pe]=Ne);G=ye}G++}}},Ee=function(Q,B,ee){var F=Q.split(""),me={hiLevel:j};return ee||(ee=[]),oe(F,ee,me),function(Ne,pe,ye){if(ye.hiLevel!==0&&m)for(var de,xe=0;xe<Ne.length;xe++)pe[xe]===1&&(de=k.indexOf(Ne[xe]))>=0&&(Ne[xe]=k[de+1])}(F,ee,me),z(2,F,B,ee,me),z(1,F,B,ee,me),F.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,B,ee){if(function(me,Ne){if(Ne)for(var pe=0;pe<me.length;pe++)Ne[pe]=pe;u===void 0&&(u=X(me)),h===void 0&&(h=X(me))}(Q,B),a||!c||h)if(a&&c&&u^h)j=u?1:0,Q=ce(Q,B,ee);else if(!a&&c&&h)j=u?1:0,Q=Ee(Q,B,ee),Q=ce(Q,B);else if(!a||u||c||h){if(a&&!c&&u^h)Q=ce(Q,B),u?(j=0,Q=Ee(Q,B,ee)):(j=1,Q=Ee(Q,B,ee),Q=ce(Q,B));else if(a&&u&&!c&&h)j=1,Q=Ee(Q,B,ee),Q=ce(Q,B);else if(!a&&!c&&u^h){var F=m;u?(j=1,Q=Ee(Q,B,ee),j=0,m=!1,Q=Ee(Q,B,ee),m=F):(j=0,Q=Ee(Q,B,ee),Q=ce(Q,B),j=1,m=!1,Q=Ee(Q,B,ee),m=F,Q=ce(Q,B))}}else j=0,Q=Ee(Q,B,ee);else j=u?1:0,Q=Ee(Q,B,ee);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(a=Q.isInputVisual,c=Q.isOutputVisual,u=Q.isInputRtl,h=Q.isOutputRtl,m=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,o=(r.x,r.y,r.options||{}),a=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(a=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?a.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):a.push([t.doBidiReorder(i[u])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(kt),kt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new uu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new RD(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new wD(this.contents),this.head=new bD(this),this.name=new ND(this),this.cmap=new t4(this),this.toUnicode={},this.hhea=new SD(this),this.maxp=new ID(this),this.hmtx=new CD(this),this.post=new ED(this),this.os2=new xD(this),this.loca=new LD(this),this.glyf=new kD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,u,c,h;for(h=[],a=0,u=(c=this.bbox).length;a<u;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,a,u;for(a=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)i=e.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var wo,uu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,a,u,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^a)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*a+256*u+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),wD=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,u,c,h,m,g,y,p,E,S;for(S in p=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(p)/c),a=Math.floor(g/c),m=16*p-g,(i=new uu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(g),i.writeShort(a),i.writeShort(m),o=16*p,h=i.pos+o,u=null,E=[],t)for(y=t[S],i.writeString(S),i.writeInt(n(y)),i.writeInt(h),i.writeInt(y.length),E=E.concat(y),S==="head"&&(u=h),h+=y.length;h%4;)E.push(0),h++;return i.write(E),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,a;for(t=n4.call(t);t.length%4;)t.push(0);for(o=new uu(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),_D={}.hasOwnProperty,ia=function(n,e){for(var t in e)_D.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};wo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var bD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new uu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),F2=function(){function n(e,t){var r,i,o,a,u,c,h,m,g,y,p,E,S,k,_,T,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,o=function(){var H,X;for(X=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)X.push(e.readUInt16());return X}(),e.pos+=2,S=function(){var H,X;for(X=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)X.push(e.readUInt16());return X}(),h=function(){var H,X;for(X=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)X.push(e.readUInt16());return X}(),m=function(){var H,X;for(X=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,u=function(){var H,X;for(X=[],c=H=0;0<=i?H<i:H>i;c=0<=i?++H:--H)X.push(e.readUInt16());return X}(),c=_=0,j=o.length;_<j;c=++_)for(k=o[c],r=T=E=S[c];E<=k?T<=k:T>=k;r=E<=k?++T:--T)m[c]===0?a=r+h[c]:(a=u[m[c]/2+(r-E)-(y-c)]||0)!==0&&(a+=h[c]),this.codeMap[r]=65535&a}e.pos=g}return n.encode=function(e,t){var r,i,o,a,u,c,h,m,g,y,p,E,S,k,_,T,j,H,X,we,ce,oe,z,Ee,Q,B,ee,F,me,Ne,pe,ye,de,xe,G,N,q,W,ne,K,R,L,J,le,V,ie;switch(F=new uu,a=Object.keys(e).sort(function(_e,D){return _e-D}),t){case"macroman":for(S=0,k=function(){var _e=[];for(E=0;E<256;++E)_e.push(0);return _e}(),T={0:0},o={},me=0,de=a.length;me<de;me++)T[J=e[i=a[me]]]==null&&(T[J]=++S),o[i]={old:e[i],new:T[e[i]]},k[i]=T[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(k),{charMap:o,subtable:F.data,maxGlyphID:S+1};case"unicode":for(B=[],g=[],j=0,T={},r={},_=h=null,Ne=0,xe=a.length;Ne<xe;Ne++)T[X=e[i=a[Ne]]]==null&&(T[X]=++j),r[i]={old:X,new:T[X]},u=T[X]-i,_!=null&&u===h||(_&&g.push(_),B.push(i),h=u),_=i;for(_&&g.push(_),g.push(65535),B.push(65535),Ee=2*(z=B.length),oe=2*Math.pow(Math.log(z)/Math.LN2,2),y=Math.log(oe/2)/Math.LN2,ce=2*z-oe,c=[],we=[],p=[],E=pe=0,G=B.length;pe<G;E=++pe){if(Q=B[E],m=g[E],Q===65535){c.push(0),we.push(0);break}if(Q-(ee=r[Q].new)>=32768)for(c.push(0),we.push(2*(p.length+z-E)),i=ye=Q;Q<=m?ye<=m:ye>=m;i=Q<=m?++ye:--ye)p.push(r[i].new);else c.push(ee-Q),we.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*z+2*p.length),F.writeUInt16(0),F.writeUInt16(Ee),F.writeUInt16(oe),F.writeUInt16(y),F.writeUInt16(ce),R=0,N=g.length;R<N;R++)i=g[R],F.writeUInt16(i);for(F.writeUInt16(0),L=0,q=B.length;L<q;L++)i=B[L],F.writeUInt16(i);for(le=0,W=c.length;le<W;le++)u=c[le],F.writeUInt16(u);for(V=0,ne=we.length;V<ne;V++)H=we[V],F.writeUInt16(H);for(ie=0,K=p.length;ie<K;ie++)S=p[ie],F.writeUInt16(S);return{charMap:r,subtable:F.data,maxGlyphID:j+1}}},n}(),t4=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new F2(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=F2.encode(t,r),(o=new uu).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),SD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),xD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),ED=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var u,c,h;for(h=[],a=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;a=0<=c?++u:--u)h.push(t.readUInt32());return h}).call(this)}},e}(),AD=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ND=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,a,u,c,h,m,g,y,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=g=0,y=i.length;g<y;a=++g)o=i[a],t.pos=o.offset,m=t.readString(o.length),u=new AD(m,o),h[p=o.nameID]==null&&(h[p]=[]),h[o.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),ID=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),CD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,a,u,c,h;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,g;for(g=[],r=m=0;0<=o?m<o:m>o;r=0<=o?++m:--m)g.push(t.readInt16());return g}(),this.widths=(function(){var m,g,y,p;for(p=[],m=0,g=(y=this.metrics).length;m<g;m++)a=y[m],p.push(a.advance);return p}).call(this),i=this.widths[this.widths.length-1],h=[],r=u=0;0<=o?u<o:u>o;r=0<=o?++u:--u)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),n4=[].slice,kD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,a,u,c,h,m,g,y;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(o=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,u=(c=new uu(r.read(o))).readShort(),m=c.readShort(),y=c.readShort(),h=c.readShort(),g=c.readShort(),this.cache[t]=u===-1?new PD(c,m,y,h,g):new TD(c,u,m,y,h,g),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,a,u,c,h;for(u=[],a=[],c=0,h=r.length;c<h;c++)o=t[r[c]],a.push(u.length),o&&(u=u.concat(o.encode(i)));return a.push(u.length),{table:u,offsets:a}},e}(),TD=function(){function n(e,t,r,i,o,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),PD=function(){function n(e,t,r,i,o){var a,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new uu(n4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),LD=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ia(e,wo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,a=0,u=0;u<i.length;++u)if(i[u]=o,a<r.length&&r[a]==u){++a,i[u]=o;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(o+=h)}for(var m=new Array(4*i.length),g=0;g<i.length;++g)m[4*g+3]=255&i[g],m[4*g+2]=(65280&i[g])>>8,m[4*g+1]=(16711680&i[g])>>16,m[4*g]=(4278190080&i[g])>>24;return m},e}(),RD=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,a,u,c;for(i={},a=0,u=e.length;a<u;a++)i[o=e[a]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in c=this.glyphsFor(t))r=c[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,a,u,c,h,m,g,y,p,E,S,k,_;for(i in r=t4.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},_=r.charMap)p[(c=_[i]).old]=c.new;for(E in y=r.maxGlyphID,a)E in p||(p[E]=y++);return m=function(T){var j,H;for(j in H={},T)H[T[j]]=j;return H}(p),g=Object.keys(m).sort(function(T,j){return T-j}),S=function(){var T,j,H;for(H=[],T=0,j=g.length;T<j;T++)u=g[T],H.push(m[u]);return H}(),o=this.font.glyf.encode(a,S,p),h=this.font.loca.encode(o.offsets,S),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n}();kt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,a;if(Array.isArray(t))return"["+function(){var u,c,h;for(h=[],u=0,c=t.length;u<c;u++)r=t[u],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)a=t[i],o.push("/"+i+" "+e.convert(a));return o.push(">>"),o.join(`
`)}return""+t},e}();const Ku="https://collaboration-polymer-serves-drive.trycloudflare.com",OD=()=>{const[n,e]=De.useState(""),[t,r]=De.useState(""),[i,o]=De.useState(null),[a,u]=De.useState(""),[c,h]=De.useState(!1),[m,g]=De.useState(null),[y,p]=De.useState(""),[E,S]=De.useState(null),[k,_]=De.useState("url"),[T,j]=De.useState(null),[H,X]=De.useState(!1),[we,ce]=De.useState("medium"),[oe,z]=De.useState(""),[Ee,Q]=De.useState(null),[B,ee]=De.useState(null),[F,me]=De.useState(null),[Ne,pe]=De.useState(0),[ye,de]=De.useState(null),[xe,G]=De.useState(null),N=[{name:"Clarence Mauricio",img:"assets/Clarence.jpg"},{name:"Robert Agomaa",img:"assets/Robert.jpg"},{name:"Ysa Alvarez",img:"assets/Ysa.jpg"},{name:"Jacques Hale",img:"assets/Jacques.jpg"}],q=/^(https?:\/\/)?(www\.)?(youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=)|youtu\.be\/|youtube\.com\/shorts\/|youtube\.com\/live\/|youtube\.com\/playlist\?list=)([^#&?]*).*/,W=(_e,D)=>{if(!_e)return"";const se={short:50,medium:150,long:300},I=_e.split(/\s+/),b=se[D];return D==="short"&&I.length>b||D==="long"&&I.length<b,_e},ne=async()=>{try{const _e=await fetch(`${Ku}/queue-status`);if(_e.ok){const D=await _e.json();G(D)}}catch(_e){console.error("Error fetching queue status:",_e)}},K=_e=>{F&&clearInterval(F);const D=setInterval(()=>{R(_e)},3e3);me(D),R(_e)},R=async _e=>{try{const D=await fetch(`${Ku}/task-status/${_e}`);if(!D.ok)throw new Error(`Failed to get task status: ${D.status}`);const se=await D.json();if(ee(se.status),se.status==="queued"&&se.position!==void 0?de(se.position):de(null),se.progress&&pe(se.progress*100),se.status==="completed")if(clearInterval(F),me(null),se.result)o(se.result),h(!1),Yo.currentUser&&await t_(Yo.currentUser.uid,{content:se.result.narrative,videoUrl:n||null,videoName:m?m.name:null,type:se.result.content_type,visualElements:se.result.main_visual_elements||[],timestamp:new Date().toISOString()});else{const I=await fetch(`${Ku}/results/${_e}`);if(I.ok){const b=await I.json();o(b),Yo.currentUser&&await t_(Yo.currentUser.uid,{content:b.narrative,videoUrl:n||null,videoName:m?m.name:null,type:b.content_type,visualElements:b.main_visual_elements||[],timestamp:new Date().toISOString()})}h(!1)}else se.status==="failed"?(clearInterval(F),me(null),h(!1),se.error?k==="url"?u(`Analysis failed: ${se.error}`):p(`Analysis failed: ${se.error}`):k==="url"?u("Analysis failed. Please try again."):p("Analysis failed. Please try again.")):se.status==="canceled"&&(clearInterval(F),me(null),h(!1),k==="url"?u("Analysis was canceled."):p("Analysis was canceled."))}catch(D){console.error("Error polling task status:",D)}};De.useEffect(()=>{let _e=null;return c&&B==="queued"&&(_e=setInterval(ne,5e3),ne()),()=>{_e&&clearInterval(_e)}},[c,B]),De.useEffect(()=>()=>{F&&clearInterval(F)},[F]);const L=async()=>{if(Ee)try{(await fetch(`${Ku}/cancel-task/${Ee}`,{method:"POST"})).ok&&(clearInterval(F),me(null),h(!1),k==="url"?u("Analysis canceled."):p("Analysis canceled."))}catch(_e){console.error("Error canceling task:",_e)}},J=async _e=>{if(_e.preventDefault(),!q.test(n)){u("Invalid YouTube URL. Please enter a valid link.");return}u(""),r(n),h(!0),o(null),Q(null),ee(null),pe(0),de(null);try{const D=await fetch(`${Ku}/analyze-video`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({video_url:n,summary_length:we})});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const se=await D.json();Q(se.task_id),ee(se.status),se.position!==void 0&&de(se.position),K(se.task_id)}catch(D){console.error("Error:",D),u(`Connection error: ${D.message}. Please check server connection.`),h(!1)}},le=_e=>{const D=_e.target.files[0];if(D&&D.type.startsWith("video/")){g(D),p("");const se=URL.createObjectURL(D);j(se),console.log("Video file selected:",D.name)}else g(null),j(null),p("Please select a valid video file."),console.log("Please select a valid video file.")},V=async _e=>{if(_e.preventDefault(),!m){p("No file selected. Please select a video file.");return}h(!0),o(null),p(""),Q(null),ee(null),pe(0),de(null);try{const D=new FormData;D.append("file",m),D.append("summary_length",we);const se=await fetch(`${Ku}/upload-video`,{method:"POST",body:D});if(!se.ok)throw new Error(`Upload failed: ${se.status}`);const I=await se.json(),b=await fetch(`${Ku}/analyze-local-video`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:I.file_path,summary_length:I.summary_length})});if(!b.ok)throw new Error(`Analysis failed: ${b.status}`);const x=await b.json();Q(x.task_id),ee(x.status),x.position!==void 0&&de(x.position),K(x.task_id)}catch(D){console.error("Error:",D),p(`Connection error: ${D.message}. Please check server connection.`),h(!1)}},ie=_e=>{if(!i)return;let D=`video-summary-${new Date().toISOString().slice(0,10)}`;if(_e==="txt"){let se=`VIDEO SUMMARY

`;se+=`Content Type: ${i.content_type}
`,se+=`Confidence: ${(i.type_confidence*100).toFixed(2)}%

`,i.additional_types&&i.additional_types.length>0&&(se+=`ADDITIONAL CATEGORIES:
`,i.additional_types.forEach(b=>{se+=`- ${b.label} (${(b.score*100).toFixed(2)}%)
`}),se+=`
`),se+=`SUMMARY:
${i.narrative}

`,i.main_visual_elements&&i.main_visual_elements.length>0&&(se+=`VISUAL ELEMENTS:
`,i.main_visual_elements.forEach(b=>{se+=`- ${b}
`}),se+=`
`),i.transcriptions&&(i.transcriptions.audio_transcription&&i.transcriptions.audio_transcription!=="[No audio found]"&&(se+=`AUDIO TRANSCRIPTION:
${i.transcriptions.audio_transcription}

`),i.transcriptions.youtube_captions&&i.transcriptions.youtube_captions!=="[No captions available]"&&(se+=`YOUTUBE CAPTIONS:
${i.transcriptions.youtube_captions}

`)),D+=".txt";const I=new Blob([se],{type:"text/plain"});p2.saveAs(I,D)}else if(_e==="docx"){const se=new p7({sections:[{properties:{},children:[new ur({text:"VIDEO SUMMARY",heading:Zc.HEADING_1}),new ur({text:`Content Type: ${i.content_type}`}),new ur({text:`Confidence: ${(i.type_confidence*100).toFixed(2)}%`}),new ur({text:""}),...i.additional_types&&i.additional_types.length>0?[new ur({text:"ADDITIONAL CATEGORIES",heading:Zc.HEADING_2}),...i.additional_types.map(I=>new ur({text:`- ${I.label} (${(I.score*100).toFixed(2)}%)`})),new ur({text:""})]:[],new ur({text:"SUMMARY",heading:Zc.HEADING_2}),new ur({text:i.narrative}),new ur({text:""}),...i.main_visual_elements&&i.main_visual_elements.length>0?[new ur({text:"VISUAL ELEMENTS",heading:Zc.HEADING_2}),...i.main_visual_elements.map(I=>new ur({text:`- ${I}`})),new ur({text:""})]:[],...i.transcriptions&&i.transcriptions.audio_transcription&&i.transcriptions.audio_transcription!=="[No audio found]"?[new ur({text:"AUDIO TRANSCRIPTION",heading:Zc.HEADING_2}),new ur({text:i.transcriptions.audio_transcription}),new ur({text:""})]:[],...i.transcriptions&&i.transcriptions.youtube_captions&&i.transcriptions.youtube_captions!=="[No captions available]"?[new ur({text:"YOUTUBE CAPTIONS",heading:Zc.HEADING_2}),new ur({text:i.transcriptions.youtube_captions})]:[]]}]});FE.toBlob(se).then(I=>{p2.saveAs(I,D+".docx")})}else if(_e==="pdf"){const se=new kt;let I=20;const b=20,x=se.internal.pageSize.width,O=7;se.setFontSize(18),se.setFont("helvetica","bold"),se.text("VIDEO SUMMARY",b,I),I+=O*1.5,se.setFontSize(12),se.setFont("helvetica","normal"),se.text(`Content Type: ${i.content_type}`,b,I),I+=O,se.text(`Confidence: ${(i.type_confidence*100).toFixed(2)}%`,b,I),I+=O*1.5,i.additional_types&&i.additional_types.length>0&&(se.setFont("helvetica","bold"),se.text("ADDITIONAL CATEGORIES",b,I),I+=O,se.setFont("helvetica","normal"),i.additional_types.forEach(ve=>{se.text(`- ${ve.label} (${(ve.score*100).toFixed(2)}%)`,b,I),I+=O}),I+=O*.5),se.setFont("helvetica","bold"),se.text("SUMMARY",b,I),I+=O,se.setFont("helvetica","normal");const ae=se.splitTextToSize(i.narrative,x-b*2);if(I+ae.length*O>se.internal.pageSize.height-20&&(se.addPage(),I=20),se.text(ae,b,I),I+=ae.length*O+O,i.main_visual_elements&&i.main_visual_elements.length>0&&(I>se.internal.pageSize.height-60&&(se.addPage(),I=20),se.setFont("helvetica","bold"),se.text("VISUAL ELEMENTS",b,I),I+=O,se.setFont("helvetica","normal"),i.main_visual_elements.forEach(ve=>{const he=se.splitTextToSize(`- ${ve}`,x-b*2);se.text(he,b,I),I+=he.length*O}),I+=O*.5),i.transcriptions){if(i.transcriptions.audio_transcription&&i.transcriptions.audio_transcription!=="[No audio found]"){se.addPage(),I=20,se.setFont("helvetica","bold"),se.text("AUDIO TRANSCRIPTION",b,I),I+=O,se.setFont("helvetica","normal");const ve=se.splitTextToSize(i.transcriptions.audio_transcription,x-b*2);se.text(ve,b,I),I+=ve.length*O+O}if(i.transcriptions.youtube_captions&&i.transcriptions.youtube_captions!=="[No captions available]"){se.addPage(),I=20,se.setFont("helvetica","bold"),se.text("YOUTUBE CAPTIONS",b,I),I+=O,se.setFont("helvetica","normal");const ve=se.splitTextToSize(i.transcriptions.youtube_captions,x-b*2);se.text(ve,b,I)}}se.save(D+".pdf")}};return be.jsxs(be.Fragment,{children:[be.jsx(Fx,{}),be.jsxs("div",{className:"container",children:[be.jsxs("div",{className:"form-container",children:[be.jsx("h1",{children:"Video Summary Generator"}),be.jsxs("div",{className:"toggle-container",children:[be.jsx("button",{className:`toggle-btn ${k==="url"?"active":""}`,onClick:()=>_("url"),children:"Paste Link"}),be.jsx("button",{className:`toggle-btn ${k==="file"?"active":""}`,onClick:()=>_("file"),children:"Upload File"})]}),k==="url"?be.jsxs("form",{onSubmit:J,children:[be.jsx("input",{type:"text",placeholder:"Enter YouTube Link",value:n,onChange:_e=>e(_e.target.value),disabled:c}),be.jsxs("div",{className:"summary-length-selector",children:[be.jsx("label",{children:"Summary Length:"}),be.jsxs("div",{className:"summary-length-controls",children:[be.jsx("button",{type:"button",className:`length-btn ${we==="short"?"active":""}`,onClick:()=>ce("short"),children:"Short"}),be.jsx("button",{type:"button",className:`length-btn ${we==="medium"?"active":""}`,onClick:()=>ce("medium"),children:"Medium"}),be.jsx("button",{type:"button",className:`length-btn ${we==="long"?"active":""}`,onClick:()=>ce("long"),children:"Long"})]})]}),be.jsx("button",{type:"submit",disabled:c,children:c?be.jsxs(be.Fragment,{children:[be.jsx("span",{className:"loading-spinner"}),"Analyzing..."]}):"Submit"}),a&&be.jsx("p",{className:"error",children:a})]}):be.jsxs("form",{className:"file-upload-form",onSubmit:V,children:[be.jsxs("label",{className:"file-upload-label",htmlFor:"file",children:[be.jsxs("div",{className:"file-upload-design",children:[be.jsx("svg",{height:"1em",viewBox:"0 0 640 512",children:be.jsx("path",{d:"M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"})}),be.jsx("p",{children:"Drag and Drop"}),be.jsx("p",{children:"or"}),be.jsx("span",{className:"browse-button",children:"Browse file"}),m&&be.jsx("p",{className:"selected-file-name",children:m.name})]}),be.jsx("input",{type:"file",id:"file",accept:"video/*",onChange:le})]}),be.jsxs("div",{className:"summary-length-selector",children:[be.jsx("label",{children:"Summary Length:"}),be.jsxs("div",{className:"summary-length-controls",children:[be.jsx("button",{type:"button",className:`length-btn ${we==="short"?"active":""}`,onClick:()=>ce("short"),children:"Short"}),be.jsx("button",{type:"button",className:`length-btn ${we==="medium"?"active":""}`,onClick:()=>ce("medium"),children:"Medium"}),be.jsx("button",{type:"button",className:`length-btn ${we==="long"?"active":""}`,onClick:()=>ce("long"),children:"Long"})]})]}),be.jsx("button",{type:"submit",className:"submit-button",disabled:c,children:c?be.jsxs(be.Fragment,{children:[be.jsx("span",{className:"loading-spinner"}),"Analyzing..."]}):"Upload & Analyze Video"}),y&&be.jsx("p",{className:"error",children:y})]})]}),T&&be.jsxs("div",{className:"video-preview-container",children:[be.jsx("h3",{children:"Video Preview"}),be.jsx("video",{className:"video-preview",src:T,controls:!0,width:"100%",height:"auto"})]}),c&&be.jsxs("div",{className:"summary-container",children:[be.jsxs("h2",{children:["Video Analysis"," ",B==="processing"?"In Progress":"Queued"]}),B==="queued"&&be.jsxs(be.Fragment,{children:[be.jsx("p",{children:"Your video is in the processing queue."}),ye!==null&&be.jsx("div",{className:"queue-position",children:be.jsx("p",{children:ye===0?"Your video is next in line.":`Position in queue: ${ye+1}`})}),xe&&be.jsxs("div",{className:"queue-info",children:[be.jsxs("p",{children:["Total videos in queue: ",xe.queue_length]}),xe.active_task&&be.jsxs("p",{children:["Currently processing:"," ",xe.active_task.progress?`${Math.round(xe.active_task.progress*100)}% complete`:"just started"]})]})]}),B==="processing"&&be.jsxs(be.Fragment,{children:[be.jsx("p",{children:"Processing your video. This may take a few minutes depending on the video length."}),Ne>0&&be.jsxs("div",{className:"progress-container",children:[be.jsx("div",{className:"progress-bar",style:{width:`${Ne}%`}}),be.jsxs("span",{className:"progress-text",children:[Math.round(Ne),"%"]})]})]}),be.jsx("button",{className:"cancel-btn",onClick:L,children:"Cancel Analysis"})]}),i&&!c&&be.jsxs("div",{className:"summary-container",children:[be.jsx("h2",{children:"Video Analysis"}),be.jsxs("div",{className:"summary-section",children:[be.jsx("h3",{children:"Content Classification"}),be.jsxs("p",{children:[be.jsx("strong",{children:"Primary Type:"})," ",i.content_type," ","(Confidence: ",(i.type_confidence*100).toFixed(2),"%)"]}),i.additional_types&&i.additional_types.length>0&&be.jsxs("div",{children:[be.jsx("strong",{children:"Additional Categories:"}),be.jsx("ul",{children:i.additional_types.map((_e,D)=>be.jsxs("li",{children:[_e.label," (Confidence:"," ",(_e.score*100).toFixed(2),"%)"]},D))})]})]}),be.jsxs("div",{className:"summary-section",children:[be.jsx("div",{className:"summary-header",children:be.jsx("h3",{children:"Narrative Summary"})}),be.jsx("p",{children:W(i.narrative,we)})]}),be.jsx("div",{className:"show-more-container",children:be.jsx("button",{className:"show-more-btn",onClick:()=>X(!H),children:H?"Show Less":"Show More Details"})}),H&&be.jsxs("div",{className:"additional-content",children:[i.main_visual_elements&&i.main_visual_elements.length>0&&be.jsxs("div",{className:"summary-section",children:[be.jsx("h3",{children:"Visual Content Analysis"}),be.jsx("ul",{children:i.main_visual_elements.map((_e,D)=>be.jsx("li",{children:_e},D))})]}),i.transcriptions&&i.transcriptions.audio_transcription&&be.jsxs("div",{className:"summary-section",children:[be.jsx("h3",{children:"Audio Transcription"}),be.jsx("div",{className:"transcription-box",children:i.transcriptions.audio_transcription})]}),i.transcriptions&&i.transcriptions.youtube_captions&&be.jsxs("div",{className:"summary-section",children:[be.jsx("h3",{children:"YouTube Captions"}),be.jsx("div",{className:"transcription-box",children:i.transcriptions.youtube_captions})]})]}),be.jsxs("div",{className:"download-options",children:[be.jsx("h3",{children:"Download Summary"}),be.jsxs("div",{className:"download-buttons",children:[be.jsxs("button",{className:"download-btn",onClick:()=>ie("txt"),"aria-label":"Download as Text",children:[be.jsx(XL,{})," TXT"]}),be.jsxs("button",{className:"download-btn",onClick:()=>ie("docx"),"aria-label":"Download as Word Document",children:[be.jsx(QL,{})," DOCX"]}),be.jsxs("button",{className:"download-btn",onClick:()=>ie("pdf"),"aria-label":"Download as PDF",children:[be.jsx(JL,{})," PDF"]})]})]})]})]}),be.jsxs("div",{className:"how-to-container",children:[be.jsx("h1",{children:"How to Use Knowledge Nuggets?"}),be.jsx("h2",{children:"You can easily summarize videos with just 3 simple steps"}),be.jsx("div",{className:"how-to",children:be.jsx("p",{children:"Step 1: Copy and Paste the Video Link or Upload a Video File."})}),be.jsx("div",{className:"how-to",children:be.jsx("p",{children:"Step 2: Click Generate Summary."})}),be.jsx("div",{className:"how-to",children:be.jsx("p",{children:"Step 3: Read your generated summary to increase learning efficiency."})})]}),be.jsxs("div",{className:"about-us-section",children:[be.jsx("h2",{children:"Meet Our Team"}),be.jsx("div",{className:"about-us-container",children:N.map((_e,D)=>be.jsx("div",{className:"about-us-card",onMouseEnter:()=>S(_e.name),onMouseLeave:()=>S(null),children:be.jsxs("div",{className:"about-us-img",children:[be.jsx("img",{src:_e.img,alt:_e.name}),be.jsx("div",{className:`name-overlay ${E===_e.name?"active":""}`,children:be.jsx("h3",{children:_e.name})})]})},D))})]}),be.jsxs("div",{className:"for-who-container",children:[be.jsx("h1",{children:"Especially Catered For You"}),be.jsxs("div",{className:"for-who-grid",children:[be.jsxs("div",{className:"for-who-card",children:[be.jsx("div",{className:"for-who-image",children:be.jsx("img",{src:"assets/student.png",alt:"Students"})}),be.jsx("h3",{children:"Students"}),be.jsx("p",{children:"Quickly summarize lectures and educational videos to save time and enhance learning."})]}),be.jsxs("div",{className:"for-who-card",children:[be.jsx("div",{className:"for-who-image",children:be.jsx("img",{src:"assets/research.png",alt:"Researchers"})}),be.jsx("h3",{children:"Researchers"}),be.jsx("p",{children:"Efficiently analyze long research videos and extract key insights for your projects."})]}),be.jsxs("div",{className:"for-who-card",children:[be.jsx("div",{className:"for-who-image",children:be.jsx("img",{src:"assets/professional.png",alt:"Professionals"})}),be.jsx("h3",{children:"Professionals"}),be.jsx("p",{children:"Stay updated with industry trends by summarizing lengthy webinars and presentations."})]}),be.jsxs("div",{className:"for-who-card",children:[be.jsx("div",{className:"for-who-image",children:be.jsx("img",{src:"assets/creator.png",alt:"Content Creators"})}),be.jsx("h3",{children:"Content Creators"}),be.jsx("p",{children:"Easily summarize long videos to create engaging content, scripts, or captions for your audience."})]})]})]}),be.jsxs("div",{className:"feedback-container",children:[be.jsx("h2",{children:"We Value Your Feedback"}),be.jsxs("form",{className:"feedback-form",onSubmit:_e=>{_e.preventDefault(),window.location.href=`mailto:knowledge.nuggets@gmail.com?subject=Video Summary Feedback&body=${encodeURIComponent(oe)}`,z("")},children:[be.jsx("textarea",{className:"feedback-input",placeholder:"Type your feedback here...",value:oe,onChange:_e=>z(_e.target.value),required:!0}),be.jsx("button",{type:"submit",className:"feedback-submit-btn",children:"Send Feedback"})]})]})]})},FD=()=>{var g;const[n,e]=De.useState("Loading..."),[t,r]=De.useState(null),[i,o]=De.useState([]),[a,u]=De.useState(!0),[c,h]=De.useState(!1);De.useEffect(()=>{const y=uv(Yo,p=>{if(p){e(p.email);const E=Hv(Gv,`summaries/${p.uid}`);kL(E,S=>{const k=S.val(),_=k?Object.entries(k).map(([T,j])=>({id:T,...j})):[];o(_),u(!1)})}else e("No user logged in"),u(!1)});return()=>y()},[]);const m=y=>{r(y),h(!1)};return be.jsxs(be.Fragment,{children:[be.jsx(Fx,{}),be.jsxs("div",{className:"profile-container",children:[be.jsxs("div",{className:`profile-left ${c?"open":""}`,children:[be.jsx("h3",{children:"Summary History"}),a?be.jsx("p",{children:"Loading summaries..."}):i.length===0?be.jsx("p",{children:"No summaries found"}):be.jsx("ul",{className:"summary-list",children:i.map(y=>be.jsx("li",{onClick:()=>m(y),children:be.jsxs("div",{className:"summary-item",children:[be.jsxs("div",{className:"summary-meta",children:[be.jsx("span",{className:"summary-type",children:y.type}),be.jsx("span",{className:"summary-date",children:new Date(y.timestamp).toLocaleDateString()})]}),be.jsxs("div",{className:"summary-preview",children:[y.content.substring(0,50),"..."]})]})},y.id))})]}),be.jsxs("div",{className:"profile-right",children:[be.jsx("button",{className:"hamburger",onClick:()=>h(!c),children:"☰"}),t?be.jsxs(be.Fragment,{children:[be.jsxs("h2",{children:[t.type," Summary"]}),be.jsxs("div",{className:"summary-meta",children:[be.jsxs("p",{children:["Video URL:"," ",be.jsx("a",{href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",children:t.videoUrl})]}),be.jsxs("p",{children:["Created:"," ",new Date(t.timestamp).toLocaleString()]})]}),be.jsxs("div",{className:"summary-content",children:[be.jsx("h3",{children:"Narrative Summary"}),be.jsx("p",{children:t.content}),be.jsx("h3",{children:"Visual Elements"}),be.jsx("ul",{children:(g=t.visualElements)==null?void 0:g.map((y,p)=>be.jsx("li",{children:y},p))})]})]}):be.jsx("p",{children:"Select a summary from the list to view details"})]})]})]})},D2=({element:n,...e})=>{const[t,r]=De.useState(null),[i,o]=De.useState(!0);return De.useEffect(()=>{const a=uv(Yo,u=>{r(u),o(!1)});return()=>a()},[]),i?be.jsx("div",{children:"Loading..."}):t?be.jsx(n,{...e}):be.jsx($2,{to:"/login"})};function DD(){return be.jsx(iA,{children:be.jsxs(O3,{children:[be.jsx(sf,{path:"/",element:be.jsx($2,{to:"/login",replace:!0})}),be.jsx(sf,{path:"/home",element:be.jsx(D2,{element:OD})}),be.jsx(sf,{path:"/register",element:be.jsx(zL,{})}),be.jsx(sf,{path:"/login",element:be.jsx(qL,{})}),be.jsx(sf,{path:"/profile",element:be.jsx(D2,{element:FD})})]})})}H4.createRoot(document.getElementById("root")).render(be.jsx(De.StrictMode,{children:be.jsx(DD,{})}));export{wn as _,Gd as c,F4 as g};
